
<!DOCTYPE HTML>
<html>
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=EDGE" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta id="Viewport" name="viewport" content="initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=yes">
    <meta name="apple-mobile-web-app-capable" content="yes" />


    <title>Twproject</title>


    <link id="twfavicon" rel="Shortcut Icon" type="image/ico" href="/img/favicon.png">
    <link rel="stylesheet" href="/commons/skin/default/platform.css?_=65022" type="text/css">



    <link rel=stylesheet href="/commons/skin/default/print.css?_=65022" type="text/css" media="print">



    <script src="/commons/js/jquery/jquery-2.1.3.min.js?65022"></script>


    <link href="/commons/js/scrollbar/perfect-scrollbar.css?_=65022" rel="stylesheet">
    <script src="/commons/js/scrollbar/perfect-scrollbar.min.js?_=65022"></script>


    <script src="/commons/js/platform.js?_=65022"></script>
    <script src="/commons/js/i18nJs.js?_=65022"></script>

    <script>
        /**
         * Check if is Mobile
         */
        if (typeof window.orientation !== 'undefined' && window.screen.width < 600 && readCookie("browseTwAsDefault") != 1 && true) {
            top.location.href = contextPath + "/mobile";
        }

        // keep as top

        if (getTop() == top) {
            // quando si sta chiamando una pagina di TW (non nell'iframe) si fa il redirect sul wrapper /tw/...
            //// top.location.href = contextPath + "/tw" + location.pathname + location.search;
        } else {
            if (window.location != getTop().location) {
                getTop().location = window.location;
            } else {
                // siamo giÃ  nel wrapper si modifica solo la url senza cambiare pagina
                top.history.replaceState("", document.title, contextPath + "/tw" + location.pathname + location.search);
            }
        }



        var bodyScroll;
        var minutesToLock = 0;
        var localActivity = new Date().getTime();
        $(function () {

            //bodyScroll = new PerfectScrollbar('#twBody');

            $("body").on("mousemove keyup", function () {
                if (top.twComm) {
                    top.twComm.lastActivity = new Date().getTime();
                    localActivity = new Date().getTime();
                    if (top.twComm.isAway) // al primo movimento del mouse si dice che siamo svegli
                        top.twComm.checkAlive();
                }

            }).everyTime(10000, "alive", function () { //controlla lo stato ogni 10 sec.

                //websocket keep-alive
                if (top.twComm)
                    top.twComm.checkAlive();

                //test autoLogoff
                if (minutesToLock > 0 && (new Date().getTime() - localActivity) > minutesToLock * 60000) { //60 seconds
                    $(this).stopTime("alive");
                    muteAlertOnChange = true;
                    top.location = "/app/security/login.html?V_ID=29535059&CM=LO";
                }
            });

            // http session keep alive
            $("body").everyTime(10 * 60 * 1000, "pingServer", function () { //10 min.
                $.get('/command.jsp');
            });

            if (typeof (top.manageFocusBlur) == "function")
                $(window).on("focus blur", top.manageFocusBlur)

        });

    </script>

</head>
<body id="twBody" class="level30 " level="30">
    <div id="floatWindow"></div>




    <div id="twMainContainer" style="">
        <div id="savingMessage">请稍候...</div>




        <div class="twHeader noprint">
            <div id="headerWrapper ">
                <a href="/app/getsThingsDone.html?V_ID=1779175608" class="twLogo withArrowRight" title="Home" id="twLogoMainMenu"></a>
                <div id="mainNav" class="noprint mainNav">
                    <table border="0" cellspacing="0" cellpadding="0">
                        <tr>
                            <td id="DASHBOARD_MENU" ttitle="返回到主页.您可以通过自定义页面设置自己的个性化主页" class="withArrowRight">
                                <div style="position: relative">
                                    <span>
                                        <a class="button     hasDivomo noLabel" id="domId_1042142828" style="" href="/pm.page_kt.html"></a>

                                        <span id="arrowOpener_divdomo_domId_417885264" class="arrowOpener menuArrow" onclick="bjs_showMenuDiv('divdomo_domId_417885264', 'arrowOpener_divdomo_domId_417885264'); event.stopPropagation(); event.preventDefault(); return false; "><span></span></span>

                                    </span>

                                    <div id="divdomo_domId_417885264" class="divomo divDark"
                                         style=" position: absolute;left:-10000px; top:-10000px;">

                                        <div class="divomoArrow"></div>

                                        <div>
                                            <a class="button  textual   " id="domId_1170254182" style="" href="/helpDesk.page?V_ID=1991568165">Help Desk</a>

                                            <a class="button  textual  focused " id="domId_1806797648" style="" href="/pm.page_kt.html?V_ID=774048348">Get things done</a>

                                            <a class="button  textual   " id="domId_1429301356" style="" href="/pm.page_kt.html?V_ID=1313812923">Project Manager</a>

                                            <a class="button  textual   " id="domId_515814950" style="" href="/supervisor.page?V_ID=1987126712">Supervisor</a>

                                            <a class="button  textual   " id="domId_2057865358" style="" href="/applications/teamwork/documentation/documentation.jsp?V_ID=980718244">关于</a>

                                        </div>
                                    </div>




                                </div>
                            </td>

                            <td id="TASK_MENU" ttitle="这是Twproject的入口点.一旦创建和分配,Twproject就将开始为团队工作.">
                                <span>
                                    <a class="button     hasDivomo" id="domId_994536183" style="" href="/app/task/taskList.html?V_ID=617602646">项目</a>

                                    <span id="arrowOpener_divdomo_domId_1304403080" class="arrowOpener menuArrow" onclick="bjs_showMenuDiv('divdomo_domId_1304403080', 'arrowOpener_divdomo_domId_1304403080'); event.stopPropagation(); event.preventDefault(); return false; "><span></span></span>

                                </span>

                                <div id="divdomo_domId_1304403080" class="divomo divDark"
                                     style=" position: absolute;left:-10000px; top:-10000px;">

                                    <div class="divomoArrow"></div>

                                    <div>
                                        <a class="button  textual   hasDivomo" id="domId_994536183" style="" href="/app/task/taskList.html?V_ID=13329212">项目</a>

                                        <a class="button  textual   lreq10 lreqLabel" id="domId_1589496984" style="" href="/applications/teamwork/task/taskListAsGantt.jsp?V_ID=137806923">Portfolio</a>

                                        <a class="button  textual   " id="domId_2126725055" style="" href="/app/documentList.html?V_ID=1808687228">文档</a>

                                        <a class="button  textual   lreq20 lreqLabel" id="domId_1150178717" style="" href="/applications/teamwork/task/financial/additionalCostList.jsp?V_ID=888874873">额外费用</a>

                                        <hr><button type="button" class="button noprint textual   " id="domId_866562825" style="" onclick="openBlackPopup('/app/task/taskNew.html?V_ID=1553389972&CM=AD','800px','720px');return false; "><span class="teamworkIcon withLabel" style="">P</span> 新建项目</button>

                                    </div>
                                </div>

                            </td>

                            <td id="TIMESHEET_MENU" ttitle="工时计划,工作记录,记录的有效性检查和分析.">
                                <span>
                                    <a class="button     lreq10 lreqActive hasDivomo" id="domId_1423741979" style="" href="/applications/teamwork/task/worklog/worklogWeek.jsp?V_ID=1623548878">工时表</a>

                                    <span id="arrowOpener_divdomo_WKLOGSM" class="arrowOpener menuArrow" onclick="bjs_showMenuDiv('divdomo_WKLOGSM', 'arrowOpener_divdomo_WKLOGSM'); event.stopPropagation(); event.preventDefault(); return false; "><span></span></span>

                                </span>

                                <div id="divdomo_WKLOGSM" class="divomo divDark"
                                     style=" position: absolute;left:-10000px; top:-10000px;">

                                    <div class="divomoArrow"></div>

                                    <div>
                                        <a class="button  textual   lreq10 lreqLabel lreqActive" id="domId_1727079881" style="" href="/applications/teamwork/task/worklog/worklogWeek.jsp?V_ID=761152506">工时表</a>

                                        <button type="button" class="button noprint textual   lreq10 lreqLabel lreqActive" id="domId_1059359620" style="" onclick="openBlackPopup('/applications/teamwork/task/timeCounter.jsp?V_ID=1642587115&FOCUS_MILLIS=1605105880868',$(window).width()-100,$(window).height()-50);return false; ">计时器</button>

                                        <a class="button  textual   lreq20 lreqLabel" id="domId_2017699710" style="" href="/applications/teamwork/task/worklog/worklogOverview.jsp?V_ID=169367895">时间表概述</a>

                                        <a class="button  textual   lreq10 lreqLabel" id="domId_564756193" style="" href="/applications/teamwork/task/worklog/attendanceOverview.jsp?V_ID=624410989">出勤概述</a>

                                        <a class="button  textual   lreq20 lreqLabel lreqActive" id="domId_2127099658" style="" href="/applications/teamwork/task/worklog/approval/worklogApprovalByResource.jsp?V_ID=827526181&RES_ID=15089">工作记录审核</a>

                                        <a class="button  textual   lreq10 lreqLabel" id="domId_1003680397" style="" href="/applications/teamwork/task/worklog/worklogList.jsp?V_ID=1029292008">工作记录分析</a>

                                        <a class="button  textual   lreq30 lreqLabel lreqActive" id="domId_372385194" style="" href="/applications/teamwork/task/financial/expenseList.jsp?V_ID=184164274">费用控制</a>

                                    </div>
                                </div>

                            </td>

                            <td id="PLAN_MENU" ttitle="PLAN_MENU_HELP" valign="bottom">
                                <span>
                                    <a class="button     lreq20 lreqActive hasDivomo" id="domId_725017791" style="" href="/applications/teamwork/task/plan/planByResource.jsp?V_ID=1257874555&CM=FIND_BY_ENTITY">计划</a>

                                    <span id="arrowOpener_divdomo_domId_551800259" class="arrowOpener menuArrow" onclick="bjs_showMenuDiv('divdomo_domId_551800259', 'arrowOpener_divdomo_domId_551800259'); event.stopPropagation(); event.preventDefault(); return false; "><span></span></span>

                                </span>

                                <div id="divdomo_domId_551800259" class="divomo divDark"
                                     style=" position: absolute;left:-10000px; top:-10000px;">

                                    <div class="divomoArrow"></div>

                                    <div>
                                        <a class="button  textual   lreq30 lreqActive lreqLabel" id="domId_1272565267" style="" href="/applications/teamwork/task/plan/planByResource.jsp?V_ID=1559651903&CM=FIND_BY_ENTITY">计划</a>

                                        <a class="button  textual   lreq20 lreqActive lreqLabel" id="domId_1214801996" style="" href="/applications/teamwork/task/plan/operatorLoad.jsp?V_ID=1275390680">工作负荷</a>

                                    </div>
                                </div>

                            </td>

                            <td id="AGENDA_MENU" ttitle="个人的日程,共享的日程,会议">
                                <a href="/app/agendaWeekDay.html?V_ID=1456878053&AGENDA_TYPE=WEEK&FOCUS_MILLIS=0" class="button">
                                    日程
                                </a>

                            </td>
                            <td id="ISSUES_MENU" ttitle="Twproject 提供了一个相当灵活的问题跟踪工具,并且将问题和项目很好的整合在一起.
To-do能够成为问题, 问题能够成为任务. 问题能够批量的从一个任务移动到另一个任务">
                                <span>
                                    <a class="button     hasDivomo" id="domId_140893677" style="" href="/app/issue/issueList.html?V_ID=137723465">问题</a>

                                    <span id="arrowOpener_divdomo_domId_1473050345" class="arrowOpener menuArrow" onclick="bjs_showMenuDiv('divdomo_domId_1473050345', 'arrowOpener_divdomo_domId_1473050345'); event.stopPropagation(); event.preventDefault(); return false; "><span></span></span>

                                </span>

                                <div id="divdomo_domId_1473050345" class="divomo divDark"
                                     style=" position: absolute;left:-10000px; top:-10000px;">

                                    <div class="divomoArrow"></div>

                                    <div>
                                        <a class="button  textual   hasDivomo" id="domId_140893677" style="" href="/app/issue/issueList.html?V_ID=2064832952">问题</a>

                                        <a class="button  textual   lreq10 lreqLabel lreqActive" id="domId_1365665799" style="" href="/app/issue/issueOrganizer.html?V_ID=840105375">组织（看板）</a>

                                        <a class="button  textual   lreq20 lreqLabel lreqActive" id="domId_439864657" style="" href="/app/issue/issuePlanner.html?V_ID=1792472881">计划者</a>

                                    </div>
                                </div>

                            </td>

                            <td id="RESOURCE_MENU" ttitle="创建和管理用户,部门.他们可以作为资源被分派到项目/任务,问题中.">
                                <a href="/app/resourceList.html?V_ID=1191110851" class="button">
                                    资源
                                </a>
                            </td>

                            <td id="TOOLS_MENU" ttitle="TOOLS_MENU_HELP">

                                <span>
                                    <a class="button     hasDivomo" id="domId_157515423" style="" href="/app/toolsIntro.html?V_ID=2055558443">工具</a>

                                    <span id="arrowOpener_divdomo_domId_1661861257" class="arrowOpener menuArrow" onclick="bjs_showMenuDiv('divdomo_domId_1661861257', 'arrowOpener_divdomo_domId_1661861257'); event.stopPropagation(); event.preventDefault(); return false; "><span></span></span>

                                </span>

                                <div id="divdomo_domId_1661861257" class="divomo divDark"
                                     style=" position: absolute;left:-10000px; top:-10000px;">

                                    <div class="divomoArrow"></div>

                                    <div>
                                        <a class="button  textual   hasDivomo" id="domId_157515423" style="" href="/app/toolsIntro.html?V_ID=2128651637">工具</a>

                                        <a class="button  textual   " id="domId_729833517" style="" href="/app/board/boardList.html?V_ID=125219797&CM=FN">讨论板</a>

                                        <hr><button type="button" class="button noprint textual   " id="domId_1519846409" style="" onclick="saveThisPageAsPreferred();return false; "><span class='teamworkIcon withLabel'>P</span>增加当前视图到书签</button>

                                    </div>
                                </div>

                            </td>

                        </tr>
                    </table>
                </div>

                <div class="menuTools">

                    <div id="HINT_SEARCH_span" class="menuSearch">
                        <input type=text name="search" id="search" size=15 class="searchInput" autocomplete='off' maxlength=255 value="" onkeyup="if (event.keyCode==13) { fastSearch($(this));event.preventDefault();return false;}" oldValue='1'><span class="menuArrow" onclick="bjs_showMenuDiv('divdomo_keyDiv', 'domId_277275108');  ">
                            <button type="button" class="button noprint textual icon  fastSearchkeysButton" id="domId_277275108" style="" onclick=";return false; "><span class='teamworkIcon '>[</span></button>


                        </span>

                        <div id="divdomo_keyDiv" class="divomo fSKeys"
                             style=" position: absolute;left:-10000px; top:-10000px;">

                            <div class="divomoArrow"></div>

                            <div>
                                <span class='menuTitle'>Search in:</span><button type="button" class="button noprint textual   ALL" id="domId_887936254" style="" onclick="changeFastSearchKey('ALL');return false; ">全部</button>

                                <button type="button" class="button noprint textual   W" id="domId_680757975" style="" onclick="changeFastSearchKey('W');return false; ">工作记录</button>

                                <button type="button" class="button noprint textual   T" id="domId_1853898256" style="" onclick="changeFastSearchKey('T');return false; ">项目</button>

                                <button type="button" class="button noprint textual   R" id="domId_627754269" style="" onclick="changeFastSearchKey('R');return false; ">资源</button>

                                <button type="button" class="button noprint textual   I" id="domId_78841372" style="" onclick="changeFastSearchKey('I');return false; ">问题</button>

                                <button type="button" class="button noprint textual   A" id="domId_89529005" style="" onclick="changeFastSearchKey('A');return false; ">日程</button>

                                <button type="button" class="button noprint textual   B" id="domId_1475434135" style="" onclick="changeFastSearchKey('B');return false; ">讨论板</button>

                                <button type="button" class="button noprint textual   D" id="domId_627835036" style="" onclick="changeFastSearchKey('D');return false; ">文档</button>

                            </div>
                        </div><button type="button" class="button noprint textual icon  searchButton" id="domId_1436292341" style="" onclick="fastSearch($('#search'));return false; "><span class='teamworkIcon '>L</span></button>

                    </div>



                    <div id="loggedOp" class="loggedOp">
                        <span class="menuArrow" onclick="bjs_showMenuDiv('divdomo_domId_1354691336', 'domId_188041254');  ">
                            <span class="button buttonImg  operatorButton" id="domId_188041254" style=" " onclick=";return false; "><img src="/img/svgAvatar?code=WD&fill=hsl%28360%2C70%25%2C80%25%29&stroke=hsl%28360%2C90%25%2C20%25%29" border="0" name="d1421871010" title="Dream Wing" alt="Dream Wing" id="d1421871010" " resId="15089" class="face active"></span>

                        </span>

                        <div id="divdomo_domId_1354691336" class="divomo divDark"
                             style=" position: absolute;left:-10000px; top:-10000px;">

                            <div class="divomoArrow"></div>

                            <div>
                                <span class="menuTitle">Dream Wing <em>(43)</em></span><a class="button  textual   " id="domId_2128606133" style="" href="/app/resource/resourceEditor.html?V_ID=350375042&CM=ED&OBJID=15089">我的联系方式</a>

                                <a class="button  textual   " id="domId_553201958" style="" href="/app/resource/resourceSecurity.html?V_ID=97171432&CM=ED&OBJID=15089">登录信息</a>

                                <a class="button  textual   " id="domId_1208600243" style="" href="/app/resource/resourceOptions.html?V_ID=506771963&CM=EDIT_OPT&OBJID=15089">选项</a>

                                <a class="button  textual   " id="domId_2043950775" style="" href="/app/resource/resourcedocumentList.html?V_ID=227612826&CM=LIST_DOCS&RES_ID=15089">文档</a>

                                <hr><span class='menuTitle'>条消息</span><button type="button" class="button noprint textual   " id="domId_36529667" style="" onclick="openBlackPopup('/app/sticky/stickyEditor.html?V_ID=1532258013&CM=AD&POP=yes','600px','600px');return false; ">发送短消息</button>

                                <button type="button" class="button noprint textual   " id="domId_1285884026" style="" onclick="openBlackPopup('/app/sticky/stickyEditor.html?V_ID=1921273874&POP=yes&receiver=15089','600px','600px');return false; ">给自己发消息</button>

                                <hr><a class="button  textual   " id="domId_1724885221" style="" href="http://twproject.com/support" target="_blank">支持</a>

                                <hr><a class="button  textual   " id="domId_1264158494" style="" href="/app/security/login.html?V_ID=1471145185&CM=LO" target="_top">注销</a>

                            </div>
                        </div>
                    </div>



                    <div id="twChatNotifications">
                        <div id="twChatOpener" class="messages button textual icon" onclick="twChatToggle();">

                            <span class="teamworkIcon"></span>

                            <span class="notificationNumber" style="display:none">0</span>
                        </div>
                    </div>
                    &nbsp;
                    &nbsp;

                    <div id="notifications">
                        <div id="messageListOpener" class="messages button textual icon" onclick="loadMessageList($(this));">
                            <span class="teamworkIcon">b</span>
                            <span class="notificationNumber" style="display:none">0</span>
                        </div>
                    </div>

                    <div id="messageListBox" class="divomo divDark" style="position: absolute;left:-1000px; top:-1000px;">
                        <div class="divomoArrow"></div>
                        <span class="menuTitle">通知</span>
                        <div id="messageListPlace" class="messageListPlace"></div>
                        <div class="showAllMessages" onclick="$('#messageListBox').trigger('hideDivOnMouseover');">
                            <a class="button  textual   " id="domId_1793288471" style="" href="/app/messageListFull.html?V_ID=2100197173">全部显示</a>

                        </div>
                    </div>


                    <div class="menuTimeCounter" style="display:none;"><a href="javascript:openBlackPopup('/applications/teamwork/task/timeCounter.jsp?V_ID=2101385169')" id="tcMenuCounter"></a></div>
                </div>
            </div>
        </div>

        <script>
            // unread messages managament
            $("#messageListBox").on("hideDivOnMouseover", function () {
                $.getJSON(contextPath + "/messaging/messageAjax", { CM: "READALL" }, function (response) {
                    jsonResponseHandling(response);
                    if (response.ok) {
                        $("#messageListOpener .notificationNumber").fadeOut().html("0");
                        $("#twChatOpener").data("totalUnreadChats", false);
                    }
                });
            });

            function followMessageLink(el) {
                var href = el.find(".message_link a:first").attr("href");
                if (href)
                    self.location.href = href;
            }

            function saveThisPageAsPreferred() {
                location.href = contextPath + "/app/tools/manageFavorites.html?CM=POSTLINK&URL=" + encodeURIComponent(location.href) + "&TITLE=" + encodeURIComponent(document.title);
            }

            (function tmStartup() {
                var counted = undefined;
                var format = '%0h:%0m:%0s';
                if (counted) {
                    var ndo = $("#tcMenuCounter");
                    ndo.attr("title", counted.taskName).data("time", counted.countingStartedMillis).activateTimeCounter(format);
                    ndo.parent().show();
                }

                registerEvent("timeCounterEvent", function (e, data) {

                    if (data.type == "start") {

                        if (data.response.assignment) {

                            //faccio partire il widget se c'Ã¨
                            var ndoWidget = getTop().$("body").find("tr[assid=" + data.response.assignment.id + "]");
                            if (ndoWidget) {
                                ndoWidget.addClass("highlight");
                                ndoWidget.find(".timeCounter").data("time", new Date().getTime()).show().activateTimeCounter();
                                ndoWidget.find(".play").removeClass("play").addClass("stop").find(".teamworkIcon").html("s");
                            }


                            //faccio partire il counter sul menu
                            var ndoMenu = $("#tcMenuCounter");
                            ndoMenu.stopTimeCounter().attr("title", data.response.assignment.taskName).data("time", data.response.assignment.countingStartedMillis).activateTimeCounter(format);
                            ndoMenu.parent().show();
                        }

                    } else if (data.type == "stop") {

                        //fermo il widget
                        var ndoWidget = getTop().$("body").find(".stop").closest("tr");
                        if (ndoWidget) {
                            ndoWidget.removeClass("highlight");
                            ndoWidget.find(".timeCounter").stopTimeCounter().hide();
                            ndoWidget.find(".stop").removeClass("stop").addClass("play").find(".teamworkIcon").html("a");
                        }

                        //faccio fermare il counter sul menu
                        var ndoMenu = $("#tcMenuCounter");
                        ndoMenu.stopTimeCounter();
                        ndoMenu.parent().hide();
                    }
                })
            })();

            function twChatToggle() {
                //console.debug(top.twChat.chatWindow.is(".closed"))

                if (top.twChat.chatWindow.is(".closed")) {
                    top.twChat.open();
                } else if ($("#twChatOpener .notificationNumber").is(":visible")) {
                    top.twChat.chatWindow.addClass('showChats');
                } else {
                    top.twChat.close();
                }
            }


            $(function () {
                //lo stato del socket lo sa solo il client lato js -> twComm
                if (!top.twComm || !top.twComm.isOpen)
                    getTop().$("#twChatOpener").addClass("disabled");

                /**
                 * Manage chat opener state at start (chat could be open)
                 */
                if (getTop() != top && top.twChat && top.twChat.chatWindow && top.twChat.chatWindow.is(".closed")) {
                    $("#twChatOpener").removeClass("open");
                } else {
                    $("#twChatOpener").addClass("open");
                }

            })
        </script>


        <div id="__FEEDBACKMESSAGEPLACE" style="display:none;"></div>
        <div id="twInnerContainer" class="null">
            <form enctype="application/x-www-form-urlencoded" method="POST"
                  action="/app/task/taskAssignmentList.html" name="d464476821" id="d464476821"
                  savedAction="" savedTarget="">
                <input type="hidden" id="d464476821V_ID" name="V_ID" value="464476821" savedValue="">
                <input type="hidden" id="d464476821CM" name="CM" value="FN" savedValue="">
                <input type="hidden" id="d464476821TASK_ID" name="TASK_ID" value="53595" savedValue="">



                <div class="mainColumn">



                    <div class="pathToObject">
                        <a class="button  textual   " id="domId_487552533" style="" href="/app/task/taskList.html?V_ID=1684635573">任务列表 /</a>


                        <div class="currentNode">
                            <span class="teamworkIcon" style="color:#3BBF67;font-size:22px;" title="进行中">&copy;</span>

                            <a class="button  textual   objectName" id="domId_1245673363" style="" href="/app/taskOverview.html??V_ID=1971131041&CM=ED&TASK_ID=53595">第一个项目</a>

                            <span class="menuArrow" onclick="bjs_showMenuDiv('divdomo_domId_13625801', 'domId_1887210513');  ">
                                <button type="button" class="button noprint textual icon  " id="domId_1887210513" style="" onclick=";return false; "><span class='teamworkIcon '>&ugrave;</span></button>


                            </span>

                            <div id="divdomo_domId_13625801" class="divomo "
                                 style=" position: absolute;left:-10000px; top:-10000px;">

                                <div class="divomoArrow"></div>

                                <div>
                                    <a class="button  textual   " id="domId_1375570825" style="" href="/app/task/taskAssignmentList.html?V_ID=644306254&TASK_ID=53682">第一个子任务</a>

                                    <a class="button  textual   " id="domId_1557395820" style="" href="/app/task/taskAssignmentList.html?V_ID=1155279753&TASK_ID=53683">第二个子任务</a>

                                    <a class="button  textual   " id="domId_1620857104" style="" href="/app/task/taskAssignmentList.html?V_ID=850840376&TASK_ID=53684">第三个子任务</a>

                                    <a class="button  textual   " id="domId_915284733" style="" href="/app/task/taskAssignmentList.html?V_ID=261863957&TASK_ID=53685">第四个子任务</a>

                                </div>
                            </div>
                        </div>
                    </div>




                    <div class="pathCodeWrapper">

                        <span class='pathCode' title='参考代码'>T#T53595#</span>
                        &nbsp;
                        <span class='pathCode'>
                            开始日期 <b class="" title="">2020-11-9</b>&nbsp;&nbsp;&nbsp;
                            结束日期 <b class="" title="">2020-11-30</b>&nbsp;&nbsp;&nbsp;
                            (天: <b>16</b>)
                        </span>

                    </div>
                    <script>
                        $(function () {
                            $("#TASK_MENU").addClass('selected');
                        });
                    </script>
                    <style>
                        .tabTaskColoured { position: relative; padding-left: 7px; }

                            .tabTaskColoured:after { background-color: #bc4cff !important; position: absolute; width: 12px; left: 3px; content: ""; bottom: 3px; top: 3px; padding: 0; border-radius: 4px 0 0 0; }
                    </style>

                    <div class="tabSetBox" style="">
                        <input type=hidden name="TASK_TABSET" id="TASK_TABSET" size=20 class="formElements" autocomplete='off' maxlength=255 value="TASK_ASSIGNMENT_TAB">
                        <div class="tabSetHeader noprint">
                            <div class="tabSetPre"></div>
                            <div class="tabSetTabs" id="TABSETTABS_TASK_TABSET">
                                <div id="TASK_GENERAL_TAB" tabset="TASK_TABSET" class=" tabTaskColoured tab" style="cursor:pointer;">
                                    <a class="button  textual   " id="btn_taskGeneralData" style="" href="/app/taskOverview.html?V_ID=832643494&CM=ED&OBJID=53595">项目数据</a>


                                </div>

                                <div id="TASK_GANTT_TAB" tabset="TASK_TABSET" class=" tab" style="cursor:pointer;">
                                    <a class="button  textual   lreq10 lreqLabel lreqActive" id="btnGantt" style="" href="/app/task/gantt/gantt.html?V_ID=1100709305&CM=GANTT&OBJID=53595">甘特图</a>


                                </div>

                                <div id="TASK_ASSIGNMENT_TAB" tabset="TASK_TABSET" class="tabSelected tab" style="cursor:pointer;">
                                    <a class="button  textual  focused " id="domId_829068452" style="" href="/app/task/taskAssignmentList.html?V_ID=790921996&CM=FN&TASK_ID=53595">责任人 (5)</a>


                                </div>

                                <div id="TASK_COST_TAB" tabset="TASK_TABSET" class=" tab" style="cursor:pointer;">
                                    <a class="button  textual   " id="btnCosts" style="" href="/applications/teamwork/task/financial/taskCostList.jsp?V_ID=2034994541&OBJID=53595">费用</a>


                                </div>

                                <div id="TASK_ISSUES_TAB" tabset="TASK_TABSET" class=" tab" style="cursor:pointer;">
                                    <a class="button  textual   " id="domId_1897022378" style="" href="/app/task/taskIssueList.html?V_ID=1732069749&OBJID=53595">问题  (1/1)</a>


                                </div>

                                <div id="TASK_DOCS_TAB" tabset="TASK_TABSET" class=" tab" style="cursor:pointer;">
                                    <a class="button  textual   " id="domId_337961022" style="" href="/app/task/taskDocumentList.html?V_ID=1488526420&CM=LIST_DOCS&TASK_ID=53595">文档 (1)</a>


                                </div>

                                <div id="TASK_TLOG_TAB" tabset="TASK_TABSET" class=" tab" style="cursor:pointer;">
                                    <a class="button  textual   lreq10 lreqLabel lreqActive" id="domId_671054163" style="" href="/app/task/taskForumList.html??V_ID=1888638196&TASK_ID=53595">讨论(0)</a>


                                </div>

                            </div>
                            <div class="tabSetPost"></div>
                        </div>
                        <div class="tabContainer clearfix" id="TABSETPART_TASK_TABSET">



                        </div>
                    </div>



                    <div class="" style="min-height: 360px">
                        <div>
                            <div class="listPagedisplayOptions">
                                <input type=hidden name="ASS_SHOW_CHILDREN" id="ASS_SHOW_CHILDREN" size=1 autocomplete='off' maxlength=255 data-checkfield value="no"><input type="checkbox" id="ck_ASS_SHOW_CHILDREN" name="ck_ASS_SHOW_CHILDREN" value="yes"
                                                                                                                                                                             onClick="$(this).prevAll('[type=hidden]:first').val(this.checked ? 'yes' : 'no');obj('d464476821CM').value='FN';try {obj('d464476821').submit();} catch(e){};">
                                &nbsp;<label for="ck_ASS_SHOW_CHILDREN">显示子任务</label>&nbsp;<input type=hidden name="ASS_SHOW_DISABLED" id="ASS_SHOW_DISABLED" size=1 autocomplete='off' maxlength=255 data-checkfield value="no"><input type="checkbox" id="ck_ASS_SHOW_DISABLED" name="ck_ASS_SHOW_DISABLED" value="yes"
                                                                                                                                                                                                                                        onClick="$(this).prevAll('[type=hidden]:first').val(this.checked ? 'yes' : 'no');obj('d464476821CM').value='FN';try {obj('d464476821').submit();} catch(e){};">
                                &nbsp;<label for="ck_ASS_SHOW_DISABLED">显示隐藏的任务</label>&nbsp;<span class="lreq20 lreqLabel">
                                    <input type=hidden name="ASS_SHOW_WORKLOAD" id="ASS_SHOW_WORKLOAD" size=1 autocomplete='off' maxlength=255 data-checkfield value="no"><input type="checkbox" id="ck_ASS_SHOW_WORKLOAD" name="ck_ASS_SHOW_WORKLOAD" value="yes"
                                                                                                                                                                                 onClick="$(this).prevAll('[type=hidden]:first').val(this.checked ? 'yes' : 'no');obj('d464476821CM').value='FN';try {obj('d464476821').submit();} catch(e){};">
                                    &nbsp;<label for="ck_ASS_SHOW_WORKLOAD">显示工作量</label>&nbsp;
                                </span>
                                <script>
                                    $(document).ready(function () {
                                        $("#multi tr[assId] :text").bind("blur", function () { updateValue($(this)) });
                                        refreshTotals();

                                        //bind for worklogSaved event
                                        $("body").on("worklogSaved", function (ev, data) {
                                            worklogSaved(data);
                                        });

                                    });

                                    function deletePreviewAssig(assId) {
                                        deletePreview("ASS_DEL", assId, function (response) {  // callback function
                                            if (response && response.ok) {
                                                $("tr[assId=" + assId + "]").fadeOut(500, function () { $(this).remove(); });
                                                refreshTotals();
                                            }
                                        });
                                    }

                                    function updateValue(theField) {
                                        //save only if something is changed
                                        //console.debug("updateValue",theField.validateField())
                                        if (theField.isValueChanged() && theField.validateField()) {
                                            showSavingMessage();
                                            var assId = theField.parents("tr[assId]:first").attr("assId");
                                            var data = {
                                                CM: "UPDATEASSIGROW",
                                                assId: assId,
                                                fld: theField.prop("name"),
                                                val: theField.val()
                                            };
                                            $.getJSON(contextPath + "/applications/teamwork/task/taskAjaxController.jsp", data, function (response) {
                                                jsonResponseHandling(response);
                                                if (response.ok) {
                                                    theField.updateOldValue();
                                                    refreshTotals();
                                                }
                                                hideSavingMessage();
                                            });
                                        }
                                    }

                                    function refreshTotals() {
                                        var estWlg = computeFieldTotal("#multi .estWlg");
                                        $("#tot_estWlg").text(getMillisInHoursMinutes(estWlg));
                                        $("#tot_estWlgD").text(getMillisInDaysHoursMinutes(estWlg));

                                        var estIss = computeTdTotal("#multi .estIss");
                                        $("#tot_estIss").text(getMillisInHoursMinutes(estIss));
                                        $("#tot_estIssD").text(getMillisInDaysHoursMinutes(estIss));

                                        var wlg = computeTdTotal("#multi .wlg");
                                        $("#tot_wlg").text(getMillisInHoursMinutes(wlg));
                                        $("#tot_wlgD").text(getMillisInDaysHoursMinutes(wlg));


                                        var pl = computeTdTotal("#multi .futPlan");
                                        $("#tot_plan").text(getMillisInHoursMinutes(pl));
                                        $("#tot_planD").text(getMillisInDaysHoursMinutes(pl));

                                    }


                                    function computeFieldTotal(filter) {
                                        var tot = 0;
                                        $(filter).each(function () {
                                            var el = $(this);
                                            tot += millisFromString(el.val(), true);
                                        });
                                        return tot;
                                    }

                                    function computeTdTotal(filter) {
                                        var tot = 0;
                                        $(filter).each(function (id, el) {
                                            var txt = $(el).text().trim();
                                            tot += millisFromString(txt, true);
                                        });
                                        return tot;
                                    }

                                    function worklogSaved(response) {
                                        //update wl in the cell
                                        $("#multi tr[assId=" + response.worklog.assId + "] .wlg").text(getMillisInHoursMinutes(response.worklog.totalWl));

                                        // update totals
                                        var wlgc = computeTdTotal("#multi .wlg");
                                        $("#tot_wlg").text(getMillisInHoursMinutes(wlgc));
                                        $("#tot_wlgD").text(getMillisInDaysHoursMinutes(wlgc));
                                    }


                                    function enabDisabAssig(assId) {
                                        showSavingMessage();
                                        var row = $("#multi tr[assid=" + assId + "]");
                                        var data = {
                                            CM: "ENABDISABASS",
                                            assId: assId,
                                            enable: row.is(".assDisabled") ? "yes" : "no"
                                        };
                                        $.getJSON(contextPath + "/applications/teamwork/task/taskAjaxController.jsp", data, function (response) {
                                            jsonResponseHandling(response);
                                            if (response.ok) {
                                                row.toggleClass("assDisabled")
                                            }
                                            hideSavingMessage();
                                        });
                                    }


                                    function updateResourceLoad(el) {
                                        var row = el.closest("tr");
                                        computeResourceLoad(el, { startMillis: parseInt(row.attr("startMillis")), endMillis: parseInt(row.attr("endMillis")) }, row.attr("resId")); // 20/9/16 R&S eliminati i parametri currentWorkload,assId dato che qui tutto Ã¨ giÃ  salvato su db , millisFromString(row.find("[data-workload]").val()),row.attr("assId"));
                                    }

                                </script>




                                <script type="text/javascript">
                                    function manageSplitBox(assId) {

                                        if (getBlackPopup().size() > 0) {
                                            closeBlackPopup();
                                        } else {

                                            var ndo = createModalPopup(600, 400);
                                            var icche = $(".splitBox").clone();

                                            //get assig data
                                            var theTr = $("tr[assId=" + assId + "]");
                                            var estim = millisFromString(theTr.find(".estWlg").val(), true);
                                            var done = millisFromString(theTr.find(".wlg").text(), true);
                                            var newEstim = estim - done;

                                            icche.find(".splitAssigName").append(theTr.find("h2 span:first").clone());

                                            //set proposed value
                                            icche.find("#hoursSplitted").val(newEstim > 0 ? getMillisInHoursMinutes(newEstim) : "");

                                            ndo.append(icche);
                                            icche.show();
                                            icche.data("assId", theTr.attr("assId"));

                                        }
                                    }

                                    function splitAssignment(el) {

                                        var icche = el.closest(".splitBox");
                                        var assId = icche.data("assId");

                                        var splitResource = icche.find("[name=splitResource]");
                                        var hours = icche.find("[name=hoursSplitted]");
                                        if (splitResource.isFullfilled() && hours.isFullfilled()) {

                                            var req = {
                                                CM: "SPLITASS",
                                                fromAss: assId,
                                                toRes: splitResource.val(),
                                                hours: hours.val()
                                            };

                                            showSavingMessage();
                                            $.getJSON(contextPath + '/applications/teamwork/task/taskAjaxController.jsp', req, function (response) {
                                                jsonResponseHandling(response);
                                                if (response.ok) {
                                                    window.location.reload(); // this works fine because AssignmentController call response.sendRedirect instead of pagestate.redirect so the url is complete
                                                    var taskField = $("[name=TASK_ID]");
                                                    if (taskField.size() > 0) {
                                                        window.location.href = "taskAssignmentList.jsp?TASK_ID=" + taskField.val();
                                                    } else {
                                                        window.location.href = "resourceAssignments.jsp?CM=ED&OBJ_ID=" + $("[name=OBJID]").val();
                                                    }
                                                }
                                                hideSavingMessage();
                                            });

                                        }

                                    }

                                </script>

                                <div class="splitBox" style="display:none;padding:15px;">

                                    <h2>除分配 <span class="splitAssigName"></span> </h2>
                                    <label for="splitResource_txt" class="required">责任人*</label><br><input type=text name="splitResource_txt" id="splitResource_txt" size=40 class="formElements smartCombo" autocomplete='off' maxlength=255 autocomplete="off" onfocus="createDropDown($(this),400,100); refreshDropDown ($(this).nextAll('.cbDropDown'),$(this)); setSelection(this,0,1024)" onblur="finalizeOperation($(this).nextAll('.cbDropDown:first'),true,false );" onKeyDown="manageKeyEvent ($(this),event,true,false);" onKeyPress="stopKeyEvent(event);" value="" required="true"><span class="teamworkIcon menuArrow" style='cursor:pointer; margin-left: -15px' onClick="if ( $(this).prevAll('.cbDropDown:first').size()<=0) {$(this).prevAll('input:text:first').focus();} " style="">&ugrave;</span><input type=hidden name="splitResource" id="splitResource" size=10 class="formElements" autocomplete='off' maxlength=255 jspPart='partSmartCombo' value="" required="true" oldValue='1'>
                                    <label for="hoursSplitted" class="required">小时，要分配的资源*</label><br><input type=text name="hoursSplitted" id="hoursSplitted" size=7 class="formElements validated durationmillis" autocomplete='off' maxlength=255 value="" required="true" oldValue='1' entryType="DURATIONMILLIS"><div class="noprint buttonArea" id="domId_946045123" style="text-align:left;">
                                        <div class="bbButtons">
                                            <button type="button" class="button noprint    first" id="domId_211459873" style="" onclick="splitAssignment($(this));return false; ">执行</button>

                                        </div>
                                    </div>

                                </div>

                            </div>
                        </div>
                        <table class="table dataTable fixHead fixFoot" id="multi" border="0" cellpadding="0" cellspacing="2">

                            <thead class="dataTableHead" style="">
                                <tr>
                                    <th width="40" class="tableHead"></th>
                                    <th colspan="2" class="tableHead" id="assResNameHead"><span class="tableHeadEl">名称</span> </th>
                                    <th class="tableHead"><span class="tableHeadEl">角色</span></th>
                                    <th width="40" class="tableHead lreq20 lreqLabel"><span class="tableHeadEl">优先</span></th>
                                    <th class="tableHead fixedWidthAlignRight" colspan="1"><span class="tableHeadEl">预估计划工期</span></th>
                                    <th class="tableHead fixedWidthAlignRight"><span class="tableHeadEl">预估问题工期</span></th>
                                    <th class="tableHead fixedWidthAlignRight"><span class="tableHeadEl">已完成工时</span></th>
                                    <th class="tableHead fixedWidthAlignRight" width="1%"></th>
                                    <th class="tableHead fixedWidthAlignRight lreq30 lreqLabel" nowrap><span class="tableHeadEl">计划</span></th>
                                    <th class="tableHead fixedWidthAlignRight"><span class="tableHeadEl">工时费</span></th>
                                </tr>
                            </thead>
                            <tr class="alternate " assId="28286" resId="15163" startMillis="1604880000000" endMillis="1606780799000">
                                <td style="width:40px;overflow: hidden" nowrap>
                                    <span class="button buttonImg  " id="domId_107483377" style=" " onClick="stopBubble(event);try{ window.open('/applications/teamwork/task/taskAssignmentEditor.jsp?V_ID=1224346717&CM=ED&OBJID=28286&TASK_ID=53595','_self','') } catch(e){};"><img src="/img/svgAvatar?code=%E7%AC%AC%E4%B8%80&fill=hsl%28120%2C70%25%2C80%25%29&stroke=hsl%28120%2C90%25%2C20%25%29" border="0" name="d1444693998" title=" 第一个员工 (SH)" alt=" 第一个员工 (SH)" id="d1444693998" " resId="15163" class="face "></span>


                                </td>
                                <td class="columnAssigName" title="T53595 - 第一个项目:  第一个员工 [SH]">
                                    <a class="button  textual   bolder" id="domId_406967065" style="" href="/applications/teamwork/task/taskAssignmentEditor.jsp?V_ID=1239562276&CM=ED&OBJID=28286&TASK_ID=53595">第一个员工 </a>

                                    <span class="menuArrow" onclick="bjs_showMenuDiv('divdomo_domId_108982564', 'domId_584313185');  ">
                                        <button type="button" class="button noprint textual icon  arrowSmall" id="domId_584313185" style="" onclick=";return false; "><span class='teamworkIcon '>[</span></button>


                                    </span>

                                    <div id="divdomo_domId_108982564" class="divomo "
                                         style=" position: absolute;left:-10000px; top:-10000px;">

                                        <div class="divomoArrow"></div>

                                        <div>
                                            <button type="button" class="button noprint textual   lreq20 lreqLabel" id="domId_890628161" style="" onclick="openBlackPopup('/applications/teamwork/task/financial/taskAssignmentCosts.jsp?V_ID=2013885904&OBJID=28286','1180px','768px');return false; ">成本</button>

                                            <hr><button type="button" class="button noprint textual   " id="domId_826482337" style="" onclick="manageSplitBox('28286');return false; ">除分配</button>

                                            <hr><a class="button  textual   " id="domId_764409163" style="" title="编辑" href="/app/resource/resourceEditor.html?V_ID=24789844&CM=ED&OBJID=15163">编辑 &quot; 第一个员工&quot;</a>

                                            <hr><button type="button" class="button noprint textual   " id="domId_1154034157" style="" title="发送消息" onclick="openBlackPopup('/app/sticky/stickyEditor.html?V_ID=1177626187&CM=AD&POP=yes&receiver=15163','600px','600px');return false; ">发送消息</button>

                                            <a class="button  textual   " id="domId_1927260642" style="" href="/applications/teamwork/task/plan/operatorLoad.jsp?V_ID=532949909&CM=FIND_BY_ENTITY&REFERRAL_TYPE=com.twproject.resource.Resource&REFERRAL_ID=15163">工作负荷</a>

                                            <a class="button  textual   lreq30 lreqLabel" id="domId_973762393" style="" href="/applications/teamwork/task/plan/planByResource.jsp?V_ID=474511697&CM=FIND_BY_ENTITY&REFERRAL_TYPE=com.twproject.resource.Resource&REFERRAL_ID=15163">计划</a>

                                            <button type="button" class="button noprint textual   " id="domId_51665364" style="" onclick="enabDisabAssig(28286);return false; ">显示 / 隐藏</button>

                                            <button type="button" class="button noprint textual   " id="domId_756379360" style="" onclick="deletePreviewAssig(28286);return false; ">删除分工</button>

                                        </div>
                                    </div>
                                </td>

                                <td class='textSmall columnTaskCode'>
                                </td>
                                <td class="textSmall assRole">Customer&nbsp;(梦想飞扬)</td>
                                <td align="left" class="lreq20" nowrap>
                                    <div class="status">



                                        <script type="text/javascript">

                                            (function () {
                                                var cvd = { values: [{ "code": "30", "color": "#a0a0a0", "value": "低", "enabled": true, "textColor": "#FFFFFF", "index": 1 }, { "code": "50", "color": "#FFAE00", "value": "中", "enabled": true, "textColor": "#FFFFFF", "index": 2 }, { "code": "70", "color": "#e50000", "value": "高", "enabled": true, "textColor": "#FFFFFF", "index": 3 }] };


                                                var callback = function (hidden, data) {
                                                    updateValue(hidden);
                                                };
                                                cvd.callback = callback;

                                                _colorValueData["ASSSIGPRIO"] = cvd;

                                            })();
                                        </script>



                                        <div class="cvcComponent cvcDisplayValue cvcShowOpener " style="cursor:pointer;" cvcType="ASSSIGPRIO" displayValue='true'>
                                            <input type=hidden name="ASSPRIO_28286" id="ASSPRIO_28286" size=2 class="formElements" autocomplete='off' maxlength=255 value="30" oldValue='1'><div class="cvcColorSquare" onClick="cvc_clickColValSel($(this),event);">
                                                <div class="cvcStatuses ellipsis">
                                                    <div class="cvcSelBox " title="低" code="30"
                                                         style=" color:#FFFFFF;background-color:#a0a0a0"><span class="cvcDescription">低</span></div>
                                                </div><span class="teamworkIcon menuArrow">&ugrave;</span>
                                            </div>

                                        </div>
                                    </div>
                                </td>

                                <td class="fixedWidthAlignRight"><input type=text name="ESTIMATE_WORKLOG28286" id="ESTIMATE_WORKLOG28286" size=7 class="formElements estWlg validated durationmillis" autocomplete='off' maxlength=255 style="text-align:right;" value="0:00" oldValue='1' entryType="DURATIONMILLIS"></td>
                                <td class="fixedWidthAlignRight estIss">
                                    <a class="button  textual   " id="domId_1375884352" style="" href="/app/issue/issueList.html?V_ID=865164400&CM=FN&FLT_ISSUE_TASK=53595&FLT_ISSUE_ASSIGNED_TO=15163&FLT_ISSUE_ESTIMATED=%3E0">0:00</a>

                                </td>

                                <td class="fixedWidthAlignRight">
                                    <button type="button" class="button noprint textual   " id="domId_1194450883" style="" onclick="openBlackPopup('/applications/teamwork/task/worklog/worklogAssignmentList.jsp?V_ID=206296963&CM=FN&ASS_ID=28286','1180px','768px');return false; "><span class="wlg"></span></button>



                                </td>
                                <td>
                                </td>

                                <td class="fixedWidthAlignRight futPlan lreq30">
                                    <a class="button  textual   " id="domId_458858425" style="" title="工作人员的任命" href="/applications/teamwork/task/plan/planByResource.jsp?V_ID=1654137432&CM=FIND_BY_ENTITY&REFERRAL_TYPE=com.twproject.resource.Resource&REFERRAL_ID=15163">0:00</a>


                                </td>

                                <td class="fixedWidthAlignRight"><input type=text name="HOURLY_COST28286" id="HOURLY_COST28286" size=7 class="formElements validated currency" autocomplete='off' maxlength=255 style="text-align:right;" value="20.00" oldValue='1' entryType="CURRENCY"></td>

                            </tr>
                            <tr class="alternate " assId="28287" resId="15164" startMillis="1604880000000" endMillis="1606780799000">
                                <td style="width:40px;overflow: hidden" nowrap>
                                    <span class="button buttonImg  " id="domId_1509835907" style=" " onClick="stopBubble(event);try{ window.open('/applications/teamwork/task/taskAssignmentEditor.jsp?V_ID=1993532067&CM=ED&OBJID=28287&TASK_ID=53595','_self','') } catch(e){};"><img src="/img/svgAvatar?code=%E7%AC%AC%E4%BA%8C&fill=hsl%28180%2C70%25%2C80%25%29&stroke=hsl%28180%2C90%25%2C20%25%29" border="0" name="d1430033518" title=" 第二个员工 (SH)" alt=" 第二个员工 (SH)" id="d1430033518" " resId="15164" class="face "></span>


                                </td>
                                <td class="columnAssigName" title="T53595 - 第一个项目:  第二个员工 [SH]">
                                    <a class="button  textual   bolder" id="domId_253589575" style="" href="/applications/teamwork/task/taskAssignmentEditor.jsp?V_ID=1700088858&CM=ED&OBJID=28287&TASK_ID=53595">第二个员工 </a>

                                    <span class="menuArrow" onclick="bjs_showMenuDiv('divdomo_domId_60476226', 'domId_1123513071');  ">
                                        <button type="button" class="button noprint textual icon  arrowSmall" id="domId_1123513071" style="" onclick=";return false; "><span class='teamworkIcon '>[</span></button>


                                    </span>

                                    <div id="divdomo_domId_60476226" class="divomo "
                                         style=" position: absolute;left:-10000px; top:-10000px;">

                                        <div class="divomoArrow"></div>

                                        <div>
                                            <button type="button" class="button noprint textual   lreq20 lreqLabel" id="domId_7057151" style="" onclick="openBlackPopup('/applications/teamwork/task/financial/taskAssignmentCosts.jsp?V_ID=664165351&OBJID=28287','1180px','768px');return false; ">成本</button>

                                            <hr><button type="button" class="button noprint textual   " id="domId_497936272" style="" onclick="manageSplitBox('28287');return false; ">除分配</button>

                                            <hr><a class="button  textual   " id="domId_71151145" style="" title="编辑" href="/app/resource/resourceEditor.html?V_ID=1751298628&CM=ED&OBJID=15164">编辑 &quot; 第二个员工&quot;</a>

                                            <hr><a class="button  textual   " id="domId_1836386283" style="" href="/applications/teamwork/task/plan/operatorLoad.jsp?V_ID=1944077663&CM=FIND_BY_ENTITY&REFERRAL_TYPE=com.twproject.resource.Resource&REFERRAL_ID=15164">工作负荷</a>

                                            <a class="button  textual   lreq30 lreqLabel" id="domId_509283697" style="" href="/applications/teamwork/task/plan/planByResource.jsp?V_ID=1652608362&CM=FIND_BY_ENTITY&REFERRAL_TYPE=com.twproject.resource.Resource&REFERRAL_ID=15164">计划</a>

                                            <button type="button" class="button noprint textual   " id="domId_1808762184" style="" onclick="enabDisabAssig(28287);return false; ">显示 / 隐藏</button>

                                            <button type="button" class="button noprint textual   " id="domId_87519556" style="" onclick="deletePreviewAssig(28287);return false; ">删除分工</button>

                                        </div>
                                    </div>
                                </td>

                                <td class='textSmall columnTaskCode'>
                                </td>
                                <td class="textSmall assRole">Customer&nbsp;(梦想飞扬)</td>
                                <td align="left" class="lreq20" nowrap>
                                    <div class="status">



                                        <div class="cvcComponent cvcDisplayValue cvcShowOpener " style="cursor:pointer;" cvcType="ASSSIGPRIO" displayValue='true'>
                                            <input type=hidden name="ASSPRIO_28287" id="ASSPRIO_28287" size=2 class="formElements" autocomplete='off' maxlength=255 value="30" oldValue='1'><div class="cvcColorSquare" onClick="cvc_clickColValSel($(this),event);">
                                                <div class="cvcStatuses ellipsis">
                                                    <div class="cvcSelBox " title="低" code="30"
                                                         style=" color:#FFFFFF;background-color:#a0a0a0"><span class="cvcDescription">低</span></div>
                                                </div><span class="teamworkIcon menuArrow">&ugrave;</span>
                                            </div>

                                        </div>
                                    </div>
                                </td>

                                <td class="fixedWidthAlignRight"><input type=text name="ESTIMATE_WORKLOG28287" id="ESTIMATE_WORKLOG28287" size=7 class="formElements estWlg validated durationmillis" autocomplete='off' maxlength=255 style="text-align:right;" value="0:00" oldValue='1' entryType="DURATIONMILLIS"></td>
                                <td class="fixedWidthAlignRight estIss">
                                    <a class="button  textual   " id="domId_1844057790" style="" href="/app/issue/issueList.html?V_ID=1942990256&CM=FN&FLT_ISSUE_TASK=53595&FLT_ISSUE_ASSIGNED_TO=15164&FLT_ISSUE_ESTIMATED=%3E0">0:00</a>

                                </td>

                                <td class="fixedWidthAlignRight">
                                    <button type="button" class="button noprint textual   " id="domId_1412967664" style="" onclick="openBlackPopup('/applications/teamwork/task/worklog/worklogAssignmentList.jsp?V_ID=1200896310&CM=FN&ASS_ID=28287','1180px','768px');return false; "><span class="wlg"></span></button>



                                </td>
                                <td>
                                </td>

                                <td class="fixedWidthAlignRight futPlan lreq30">
                                    <a class="button  textual   " id="domId_873360322" style="" title="工作人员的任命" href="/applications/teamwork/task/plan/planByResource.jsp?V_ID=1543082687&CM=FIND_BY_ENTITY&REFERRAL_TYPE=com.twproject.resource.Resource&REFERRAL_ID=15164">0:00</a>


                                </td>

                                <td class="fixedWidthAlignRight"><input type=text name="HOURLY_COST28287" id="HOURLY_COST28287" size=7 class="formElements validated currency" autocomplete='off' maxlength=255 style="text-align:right;" value="20.00" oldValue='1' entryType="CURRENCY"></td>

                            </tr>
                            <tr class="alternate " assId="28285" resId="15189" startMillis="1604880000000" endMillis="1606780799000">
                                <td style="width:40px;overflow: hidden" nowrap>
                                    <span class="button buttonImg  " id="domId_979079288" style=" " onClick="stopBubble(event);try{ window.open('/applications/teamwork/task/taskAssignmentEditor.jsp?V_ID=911324223&CM=ED&OBJID=28285&TASK_ID=53595','_self','') } catch(e){};"><img src="/img/svgAvatar?code=FZ&fill=hsl%28240%2C70%25%2C80%25%29&stroke=hsl%28240%2C90%25%2C20%25%29" border="0" name="d2062241531" title="Zhang Fei (PM)" alt="Zhang Fei (PM)" id="d2062241531" " resId="15189" class="face "></span>


                                </td>
                                <td class="columnAssigName" title="T53595 - 第一个项目: Zhang Fei [PM]">
                                    <a class="button  textual   bolder" id="domId_772845557" style="" href="/applications/teamwork/task/taskAssignmentEditor.jsp?V_ID=309352128&CM=ED&OBJID=28285&TASK_ID=53595">Fei Zhang</a>

                                    <span class="menuArrow" onclick="bjs_showMenuDiv('divdomo_domId_1448481254', 'domId_223305909');  ">
                                        <button type="button" class="button noprint textual icon  arrowSmall" id="domId_223305909" style="" onclick=";return false; "><span class='teamworkIcon '>[</span></button>


                                    </span>

                                    <div id="divdomo_domId_1448481254" class="divomo "
                                         style=" position: absolute;left:-10000px; top:-10000px;">

                                        <div class="divomoArrow"></div>

                                        <div>
                                            <button type="button" class="button noprint textual   lreq20 lreqLabel" id="domId_682899306" style="" onclick="openBlackPopup('/applications/teamwork/task/financial/taskAssignmentCosts.jsp?V_ID=749813586&OBJID=28285','1180px','768px');return false; ">成本</button>

                                            <hr><button type="button" class="button noprint textual   " id="domId_1336026374" style="" onclick="manageSplitBox('28285');return false; ">除分配</button>

                                            <hr><a class="button  textual   " id="domId_506254786" style="" title="编辑" href="/app/resource/resourceEditor.html?V_ID=2063992491&CM=ED&OBJID=15189">编辑 &quot;Zhang Fei&quot;</a>

                                            <hr><button type="button" class="button noprint textual   " id="domId_1690782516" style="" title="发送消息" onclick="openBlackPopup('/app/sticky/stickyEditor.html?V_ID=293978888&CM=AD&POP=yes&receiver=15189','600px','600px');return false; ">发送消息</button>

                                            <a class="button  textual   " id="domId_1478129308" style="" href="/applications/teamwork/task/plan/operatorLoad.jsp?V_ID=21998730&CM=FIND_BY_ENTITY&REFERRAL_TYPE=com.twproject.resource.Resource&REFERRAL_ID=15189">工作负荷</a>

                                            <a class="button  textual   lreq30 lreqLabel" id="domId_828451060" style="" href="/applications/teamwork/task/plan/planByResource.jsp?V_ID=614521162&CM=FIND_BY_ENTITY&REFERRAL_TYPE=com.twproject.resource.Resource&REFERRAL_ID=15189">计划</a>

                                            <button type="button" class="button noprint textual   " id="domId_1640481919" style="" onclick="enabDisabAssig(28285);return false; ">显示 / 隐藏</button>

                                            <button type="button" class="button noprint textual   " id="domId_37068800" style="" onclick="deletePreviewAssig(28285);return false; ">删除分工</button>

                                        </div>
                                    </div>
                                </td>

                                <td class='textSmall columnTaskCode'>
                                </td>
                                <td class="textSmall assRole">Project manager&nbsp;(梦想飞扬)</td>
                                <td align="left" class="lreq20" nowrap>
                                    <div class="status">



                                        <div class="cvcComponent cvcDisplayValue cvcShowOpener " style="cursor:pointer;" cvcType="ASSSIGPRIO" displayValue='true'>
                                            <input type=hidden name="ASSPRIO_28285" id="ASSPRIO_28285" size=2 class="formElements" autocomplete='off' maxlength=255 value="30" oldValue='1'><div class="cvcColorSquare" onClick="cvc_clickColValSel($(this),event);">
                                                <div class="cvcStatuses ellipsis">
                                                    <div class="cvcSelBox " title="低" code="30"
                                                         style=" color:#FFFFFF;background-color:#a0a0a0"><span class="cvcDescription">低</span></div>
                                                </div><span class="teamworkIcon menuArrow">&ugrave;</span>
                                            </div>

                                        </div>
                                    </div>
                                </td>

                                <td class="fixedWidthAlignRight"><input type=text name="ESTIMATE_WORKLOG28285" id="ESTIMATE_WORKLOG28285" size=7 class="formElements estWlg validated durationmillis" autocomplete='off' maxlength=255 style="text-align:right;" value="0:00" oldValue='1' entryType="DURATIONMILLIS"></td>
                                <td class="fixedWidthAlignRight estIss">
                                    <a class="button  textual   " id="domId_687084720" style="" href="/app/issue/issueList.html?V_ID=721053492&CM=FN&FLT_ISSUE_TASK=53595&FLT_ISSUE_ASSIGNED_TO=15189&FLT_ISSUE_ESTIMATED=%3E0">0:00</a>

                                </td>

                                <td class="fixedWidthAlignRight">
                                    <button type="button" class="button noprint textual   " id="domId_1010576201" style="" onclick="openBlackPopup('/applications/teamwork/task/worklog/worklogAssignmentList.jsp?V_ID=495820023&CM=FN&ASS_ID=28285','1180px','768px');return false; "><span class="wlg"></span></button>



                                </td>
                                <td>
                                </td>

                                <td class="fixedWidthAlignRight futPlan lreq30">
                                    <a class="button  textual   " id="domId_306046084" style="" title="工作人员的任命" href="/applications/teamwork/task/plan/planByResource.jsp?V_ID=350722216&CM=FIND_BY_ENTITY&REFERRAL_TYPE=com.twproject.resource.Resource&REFERRAL_ID=15189">0:00</a>


                                </td>

                                <td class="fixedWidthAlignRight"><input type=text name="HOURLY_COST28285" id="HOURLY_COST28285" size=7 class="formElements validated currency" autocomplete='off' maxlength=255 style="text-align:right;" value="20.00" oldValue='1' entryType="CURRENCY"></td>

                            </tr>
                            <tr class="alternate " assId="28252" resId="15089" startMillis="1604880000000" endMillis="1606780799000">
                                <td style="width:40px;overflow: hidden" nowrap>
                                    <span class="button buttonImg  " id="domId_1171043856" style=" " onClick="stopBubble(event);try{ window.open('/applications/teamwork/task/taskAssignmentEditor.jsp?V_ID=91364155&CM=ED&OBJID=28252&TASK_ID=53595','_self','') } catch(e){};"><img src="/img/svgAvatar?code=WD&fill=hsl%28360%2C70%25%2C80%25%29&stroke=hsl%28360%2C90%25%2C20%25%29" border="0" name="d1367698998" title="Dream Wing (PM)" alt="Dream Wing (PM)" id="d1367698998" " resId="15089" class="face active"></span>


                                </td>
                                <td class="columnAssigName" title="T53595 - 第一个项目: Dream Wing [PM]">
                                    <a class="button  textual   bolder" id="domId_106545480" style="" href="/applications/teamwork/task/taskAssignmentEditor.jsp?V_ID=1666129388&CM=ED&OBJID=28252&TASK_ID=53595">Wing Dream</a>

                                    <span class="menuArrow" onclick="bjs_showMenuDiv('divdomo_domId_983219434', 'domId_1597350883');  ">
                                        <button type="button" class="button noprint textual icon  arrowSmall" id="domId_1597350883" style="" onclick=";return false; "><span class='teamworkIcon '>[</span></button>


                                    </span>

                                    <div id="divdomo_domId_983219434" class="divomo "
                                         style=" position: absolute;left:-10000px; top:-10000px;">

                                        <div class="divomoArrow"></div>

                                        <div>
                                            <button type="button" class="button noprint textual   lreq20 lreqLabel" id="domId_1305102743" style="" onclick="openBlackPopup('/applications/teamwork/task/financial/taskAssignmentCosts.jsp?V_ID=82363573&OBJID=28252','1180px','768px');return false; ">成本</button>

                                            <hr><button type="button" class="button noprint textual   " id="domId_463831143" style="" onclick="manageSplitBox('28252');return false; ">除分配</button>

                                            <hr><a class="button  textual   " id="domId_244381791" style="" title="编辑" href="/app/resource/resourceEditor.html?V_ID=762330273&CM=ED&OBJID=15089">编辑 &quot;Dream Wing&quot;</a>

                                            <hr><button type="button" class="button noprint textual   " id="domId_538171279" style="" title="发送消息" onclick="openBlackPopup('/app/sticky/stickyEditor.html?V_ID=1336028273&CM=AD&POP=yes&receiver=15089','600px','600px');return false; ">发送消息</button>

                                            <a class="button  textual   " id="domId_1991048636" style="" href="/applications/teamwork/task/plan/operatorLoad.jsp?V_ID=2029363638&CM=FIND_BY_ENTITY&REFERRAL_TYPE=com.twproject.resource.Resource&REFERRAL_ID=15089">工作负荷</a>

                                            <a class="button  textual   lreq30 lreqLabel" id="domId_1464237698" style="" href="/applications/teamwork/task/plan/planByResource.jsp?V_ID=602775274&CM=FIND_BY_ENTITY&REFERRAL_TYPE=com.twproject.resource.Resource&REFERRAL_ID=15089">计划</a>

                                            <button type="button" class="button noprint textual   " id="domId_1427879313" style="" onclick="enabDisabAssig(28252);return false; ">显示 / 隐藏</button>

                                            <button type="button" class="button noprint textual   " id="domId_237858366" style="" onclick="deletePreviewAssig(28252);return false; ">删除分工</button>

                                        </div>
                                    </div>
                                </td>

                                <td class='textSmall columnTaskCode'>
                                </td>
                                <td class="textSmall assRole">Project manager&nbsp;(梦想飞扬)</td>
                                <td align="left" class="lreq20" nowrap>
                                    <div class="status">



                                        <div class="cvcComponent cvcDisplayValue cvcShowOpener " style="cursor:pointer;" cvcType="ASSSIGPRIO" displayValue='true'>
                                            <input type=hidden name="ASSPRIO_28252" id="ASSPRIO_28252" size=2 class="formElements" autocomplete='off' maxlength=255 value="30" oldValue='1'><div class="cvcColorSquare" onClick="cvc_clickColValSel($(this),event);">
                                                <div class="cvcStatuses ellipsis">
                                                    <div class="cvcSelBox " title="低" code="30"
                                                         style=" color:#FFFFFF;background-color:#a0a0a0"><span class="cvcDescription">低</span></div>
                                                </div><span class="teamworkIcon menuArrow">&ugrave;</span>
                                            </div>

                                        </div>
                                    </div>
                                </td>

                                <td class="fixedWidthAlignRight"><input type=text name="ESTIMATE_WORKLOG28252" id="ESTIMATE_WORKLOG28252" size=7 class="formElements estWlg validated durationmillis" autocomplete='off' maxlength=255 style="text-align:right;" value="100:00" oldValue='1' entryType="DURATIONMILLIS"></td>
                                <td class="fixedWidthAlignRight estIss">
                                    <a class="button  textual   " id="domId_376788009" style="" href="/app/issue/issueList.html?V_ID=650102174&CM=FN&FLT_ISSUE_TASK=53595&FLT_ISSUE_ASSIGNED_TO=15089&FLT_ISSUE_ESTIMATED=%3E0">0:00</a>

                                </td>

                                <td class="fixedWidthAlignRight">
                                    <button type="button" class="button noprint textual   " id="domId_75213032" style="" onclick="openBlackPopup('/applications/teamwork/task/worklog/worklogAssignmentList.jsp?V_ID=2017926129&CM=FN&ASS_ID=28252','1180px','768px');return false; "><span class="wlg">8:00</span></button>

                                    <button type="button" class="button noprint textual icon  " id="domId_1385044388" style="" onclick="openWorklogEditorPopup($(this),{assId:'28252',title:'T53595 - 第一个项目'});return false; "><span class='teamworkIcon '>w</span></button>



                                </td>
                                <td>
                                    <button type="button" class="button noprint textual icon  lreq20 lreqHide" id="domId_1865779283" style="" title="增加费用" onclick="openExpenseEditorPopup($(this),{assId:'28252',title:'T53595 - 第一个项目'});return false; "><span class='teamworkIcon '>4</span></button>


                                </td>

                                <td class="fixedWidthAlignRight futPlan lreq30">
                                    <a class="button  textual   " id="domId_596195887" style="" title="工作人员的任命" href="/applications/teamwork/task/plan/planByResource.jsp?V_ID=56503042&CM=FIND_BY_ENTITY&REFERRAL_TYPE=com.twproject.resource.Resource&REFERRAL_ID=15089">0:00</a>


                                </td>

                                <td class="fixedWidthAlignRight"><input type=text name="HOURLY_COST28252" id="HOURLY_COST28252" size=7 class="formElements validated currency" autocomplete='off' maxlength=255 style="text-align:right;" value="20.00" oldValue='1' entryType="CURRENCY"></td>

                            </tr>
                            <tr class="alternate " assId="28280" resId="15189" startMillis="1604880000000" endMillis="1606780799000">
                                <td style="width:40px;overflow: hidden" nowrap>
                                    <span class="button buttonImg  " id="domId_360864063" style=" " onClick="stopBubble(event);try{ window.open('/applications/teamwork/task/taskAssignmentEditor.jsp?V_ID=22139439&CM=ED&OBJID=28280&TASK_ID=53595','_self','') } catch(e){};"><img src="/img/svgAvatar?code=FZ&fill=hsl%28240%2C70%25%2C80%25%29&stroke=hsl%28240%2C90%25%2C20%25%29" border="0" name="d1433179467" title="Zhang Fei (WK)" alt="Zhang Fei (WK)" id="d1433179467" " resId="15189" class="face "></span>


                                </td>
                                <td class="columnAssigName" title="T53595 - 第一个项目: Zhang Fei [WK]">
                                    <a class="button  textual   bolder" id="domId_582880342" style="" href="/applications/teamwork/task/taskAssignmentEditor.jsp?V_ID=2016084028&CM=ED&OBJID=28280&TASK_ID=53595">Fei Zhang</a>

                                    <span class="menuArrow" onclick="bjs_showMenuDiv('divdomo_domId_1618956221', 'domId_1327276230');  ">
                                        <button type="button" class="button noprint textual icon  arrowSmall" id="domId_1327276230" style="" onclick=";return false; "><span class='teamworkIcon '>[</span></button>


                                    </span>

                                    <div id="divdomo_domId_1618956221" class="divomo "
                                         style=" position: absolute;left:-10000px; top:-10000px;">

                                        <div class="divomoArrow"></div>

                                        <div>
                                            <button type="button" class="button noprint textual   lreq20 lreqLabel" id="domId_882527789" style="" onclick="openBlackPopup('/applications/teamwork/task/financial/taskAssignmentCosts.jsp?V_ID=1179398857&OBJID=28280','1180px','768px');return false; ">成本</button>

                                            <hr><button type="button" class="button noprint textual   " id="domId_2122483541" style="" onclick="manageSplitBox('28280');return false; ">除分配</button>

                                            <hr><a class="button  textual   " id="domId_730013270" style="" title="编辑" href="/app/resource/resourceEditor.html?V_ID=1822495663&CM=ED&OBJID=15189">编辑 &quot;Zhang Fei&quot;</a>

                                            <hr><button type="button" class="button noprint textual   " id="domId_1827422720" style="" title="发送消息" onclick="openBlackPopup('/app/sticky/stickyEditor.html?V_ID=758953579&CM=AD&POP=yes&receiver=15189','600px','600px');return false; ">发送消息</button>

                                            <a class="button  textual   " id="domId_182535646" style="" href="/applications/teamwork/task/plan/operatorLoad.jsp?V_ID=883761031&CM=FIND_BY_ENTITY&REFERRAL_TYPE=com.twproject.resource.Resource&REFERRAL_ID=15189">工作负荷</a>

                                            <a class="button  textual   lreq30 lreqLabel" id="domId_1269954406" style="" href="/applications/teamwork/task/plan/planByResource.jsp?V_ID=568791482&CM=FIND_BY_ENTITY&REFERRAL_TYPE=com.twproject.resource.Resource&REFERRAL_ID=15189">计划</a>

                                            <button type="button" class="button noprint textual   " id="domId_283734109" style="" onclick="enabDisabAssig(28280);return false; ">显示 / 隐藏</button>

                                            <button type="button" class="button noprint textual   " id="domId_1305473623" style="" onclick="deletePreviewAssig(28280);return false; ">删除分工</button>

                                        </div>
                                    </div>
                                </td>

                                <td class='textSmall columnTaskCode'>
                                </td>
                                <td class="textSmall assRole">Worker&nbsp;(梦想飞扬)</td>
                                <td align="left" class="lreq20" nowrap>
                                    <div class="status">



                                        <div class="cvcComponent cvcDisplayValue cvcShowOpener " style="cursor:pointer;" cvcType="ASSSIGPRIO" displayValue='true'>
                                            <input type=hidden name="ASSPRIO_28280" id="ASSPRIO_28280" size=2 class="formElements" autocomplete='off' maxlength=255 value="30" oldValue='1'><div class="cvcColorSquare" onClick="cvc_clickColValSel($(this),event);">
                                                <div class="cvcStatuses ellipsis">
                                                    <div class="cvcSelBox " title="低" code="30"
                                                         style=" color:#FFFFFF;background-color:#a0a0a0"><span class="cvcDescription">低</span></div>
                                                </div><span class="teamworkIcon menuArrow">&ugrave;</span>
                                            </div>

                                        </div>
                                    </div>
                                </td>

                                <td class="fixedWidthAlignRight"><input type=text name="ESTIMATE_WORKLOG28280" id="ESTIMATE_WORKLOG28280" size=7 class="formElements estWlg validated durationmillis" autocomplete='off' maxlength=255 style="text-align:right;" value="0:00" oldValue='1' entryType="DURATIONMILLIS"></td>
                                <td class="fixedWidthAlignRight estIss">
                                    <a class="button  textual   " id="domId_2110533267" style="" href="/app/issue/issueList.html?V_ID=1597192064&CM=FN&FLT_ISSUE_TASK=53595&FLT_ISSUE_ASSIGNED_TO=15189&FLT_ISSUE_ESTIMATED=%3E0">0:00</a>

                                </td>

                                <td class="fixedWidthAlignRight">
                                    <button type="button" class="button noprint textual   " id="domId_726662119" style="" onclick="openBlackPopup('/applications/teamwork/task/worklog/worklogAssignmentList.jsp?V_ID=461432148&CM=FN&ASS_ID=28280','1180px','768px');return false; "><span class="wlg"></span></button>



                                </td>
                                <td>
                                </td>

                                <td class="fixedWidthAlignRight futPlan lreq30">
                                    <a class="button  textual   " id="domId_270733544" style="" title="工作人员的任命" href="/applications/teamwork/task/plan/planByResource.jsp?V_ID=1491033482&CM=FIND_BY_ENTITY&REFERRAL_TYPE=com.twproject.resource.Resource&REFERRAL_ID=15189">0:00</a>


                                </td>

                                <td class="fixedWidthAlignRight"><input type=text name="HOURLY_COST28280" id="HOURLY_COST28280" size=7 class="formElements validated currency" autocomplete='off' maxlength=255 style="text-align:right;" value="20.00" oldValue='1' entryType="CURRENCY"></td>

                            </tr>

                            <tfoot>
                                <tr valign="top" class="totals">
                                    <td align="right" colspan="5">总计 (hh:mm)</td>
                                    <td align="right" id="tot_estWlg">&nbsp;</td>
                                    <td align="right" id="tot_estIss">&nbsp;</td>
                                    <td align="right" id="tot_wlg">&nbsp;</td>
                                    <td align="right"></td>
                                    <td align="right" id="tot_plan">&nbsp;</td>
                                    <td class="totals">&nbsp;</td>
                                </tr>

                                <tr valign="top" class="totals">
                                    <td align="right" colspan="5">总计 (dd hh:mm)</td>
                                    <td align="right" id="tot_estWlgD">&nbsp;</td>
                                    <td align="right" id="tot_estIssD">&nbsp;</td>
                                    <td align="right" id="tot_wlgD">&nbsp;</td>
                                    <td align="right"></td>
                                    <td align="right" id="tot_planD">&nbsp;</td>
                                    <td class="totals">&nbsp;</td>
                                </tr>
                            </tfoot>

                        </table>
                    </div>
                </div>






                <div class="rightColumn noprint">
                    <div class="tools">
                        <div class="toolsElement">
                            <button type="button" class="button noprint    first" id="domId_505336997" style="" onclick="openBlackPopup('/applications/teamwork/task/taskAssignmentNew.jsp?V_ID=654228691&CM=AD&TASK_ID=53595','800px','600px');return false; "><span class='teamworkIcon withLabel'>P</span>添加任务</button>

                        </div><div class="toolsElement">
                            <span class="menuArrow" onclick="bjs_showMenuDiv('divdomo_domId_1830278483', 'domId_2048568341');  ">
                                <button type="button" class="button noprint  icon  " id="domId_2048568341" style="" title="打印" onclick=";return false; "><span class='teamworkIcon '>p</span></button>


                            </span>

                            <div id="divdomo_domId_1830278483" class="divomo "
                                 style=" position: absolute;left:-10000px; top:-10000px;">

                                <div class="divomoArrow"></div>

                                <div>
                                    <button type="button" class="button noprint textual   " id="domId_729821666" style="" onclick="openBlackPopup('/applications/teamwork/task/taskEditorPrint.jsp?V_ID=934704153&CM=ED&OBJID=53595',$(window).width()-100,$(window).height()-50);return false; ">打印/导出 报告</button>

                                    <a class="button  textual   " id="domId_1470168665" style="" href="/commons/tools/freezePDF.jsp?V_ID=1714479796&CM=ED&OBJID=53595&PRINTING_PDF=yes&PAGE_TO_PRINT=%2Fapplications%2Fteamwork%2Ftask%2FtaskEditorPrint.jsp&PRINT_TASK_ASSIGS_SUBTASKS=yes&PRINT_TASK_DESCENDANTS=yes&PRINT_TASK_DIARY_DETAIL=yes&REDIR_URL=%2Fapplications%2Fteamwork%2Ftask%2FtaskOverview.jsp%3FV_ID%3D1833632445%26CM%3DCREATE_SNAPSHOT%26OBJID%3D53595&FREEZE_PREFIX=task_53595">快照</a>

                                    <hr><button type="button" class="button noprint textual   lreq30 lreqLabel" id="domId_177910273" style="" onClick="stopBubble(event);saveFormValues('d464476821');  obj('d464476821CM').value='ED';obj('d464476821reportName').value='projectProgress';obj('d464476821').target='_blank'; obj('d464476821').action='/applications/teamwork/task/taskIReportHelper.jsp'; try {obj('d464476821').submit();} catch(e){};restoreFormValues('d464476821');  ">project  progress</button>

                                </div>
                            </div>
                        </div>
                    </div><div class="rightColumnInner">
                        <div class="" style="display:block">
                            <br><button type="button" class="button noprint textual   bolder lreq20 lreqLabel lreqActive" id="domId_1321751320" style="" onclick="openBlackPopup('/applications/teamwork/task/taskClone.jsp?V_ID=1403283582&CM=ED&OBJID=53595&POP=yes','800px','650px');return false; "><span class='teamworkIcon withLabel'>D</span>复制</button>

                            <button type="button" class="button noprint textual   bolder" id="domId_232165165" style="" onclick="openBlackPopup('/applications/teamwork/task/taskMove.jsp?V_ID=1103590672&CM=ED&OBJID=53595&POP=yes','700px','450px');return false; "><span class='teamworkIcon withLabel'>y</span>移动</button>

                        </div>




                        <div class="" style="display:block" id="tskSidBarMoreDiv">

                            <div class="separator"></div><a class="button  textual   " id="domId_22141556" style="" href="/applications/teamwork/task/scrum/sprintWizard.jsp?V_ID=649158647&CM=NEW_SPRINT&PARENT_ID=53595"><span class="teamworkIcon withLabel" style="">P</span> 启动一个新的“冲刺”</a>

                            <a class="button  textual   lreq30 lreqLabel lreqHide" id="domId_1192453369" style="" href="/applications/teamwork/processes/createProcess.jsp?V_ID=1336007215&CM=AD&PARENT_ID=53595"><span class="teamworkIcon withLabel" style="">P</span> 添加一个子进程</a>

                            <button type="button" class="button noprint textual   " id="domId_9473737" style="" onclick="openBlackPopup('/applications/teamwork/task/taskAddFromTemplate.jsp?V_ID=184249473&CM=ED&OBJID=53595','800px','650px');return false; "><span class="teamworkIcon withLabel" style="">P</span> 从添加模板</button>

                            <div class="separator"></div><a class="button  textual   " id="domId_311307881" style="" href="/applications/teamwork/task/worklog/worklogList.jsp?V_ID=211046119&CM=FN&TASK=53595&TASK_WORKLOG_SHOW_CHILDREN=yes">工作记录分析</a>

                            <button type="button" class="button noprint textual   " id="domId_1480602898" style="" onclick="openBlackPopup('/applications/teamwork/task/worklog/worklogInPeriodForTask.jsp?V_ID=1556620836&CM=ED&OBJID=53595','800px','800px');return false; ">当前工作记录</button>

                            <div class="separator"></div><button type="button" class="button noprint textual   lreq20 lreqLabel lreqActive" id="domId_689947792" style="" onclick="openBlackPopup('/applications/teamwork/task/taskPublicPageEditor.jsp?V_ID=1599888897&CM=TASK_EDIT_SECURITY&OBJID=53595','800px','600px');return false; ">项目的公共页面</button>

                            <button type="button" class="button noprint textual   " id="domId_1688329991" style="" onclick="openTaskImageEditor('53595');return false; ">选择一个项目形象</button>



                            <script type="text/javascript">
                                function openTaskImageEditor(resId) {
                                    $(".uploadizeDrop").attr("disabled", "true");
                                    openBlackPopup(contextPath + "/applications/teamwork/task/taskImageUploader.jsp?TASK_ID=" + 53595, '500px', '550px', function (response) {

                                    });
                                }

                            </script>
                            <button type="button" class="button noprint textual   " id="domId_1442919535" style="" onclick="openBlackPopup('/applications/teamwork/task/recodeTaskTree.jsp?V_ID=1060730926&CM=ED&OBJID=53595','500px','400px');return false; ">分配新码</button>

                            <div class="separator"></div><button type="button" class="button noprint textual   " id="domId_220043947" style="" onclick="openBlackPopup('/applications/teamwork/task/taskArea.jsp?V_ID=1763282821&CM=TASK_EDIT_SECURITY&OBJID=53595','600px','600px');return false; ">安全</button>

                        </div>
                    </div>
                </div>





                <script>


                    function computeResourceLoad(el, period, resId, currentWorkload, assId) {
                        //console.debug("computeResourceLoad",period, resId, currentWorkload,assId);

                        if (!period || false)
                            return;

                        var row = el.closest("tr");
                        //si chiama con delay sulla riga in modo da
                        row.stopTime("loadOpLoad");
                        var workloadInfo = row.find(".workloadInfo");
                        workloadInfo.removeClass("loading").empty();

                        if (resId) {
                            workloadInfo.addClass("loading");
                            row.oneTime(1000, "loadOpLoad", function () {
                                getOperatorLoad(resId, period.startMillis, period.endMillis, currentWorkload, assId, function (response) {
                                    if (response.ok && response.stats) {
                                        var bl = $("<div>").attr({ "data-timer": 0, "data-forceposition": "left" });
                                        bl.attr("data-balloon", "<b>工作量期</b><br><span class='textSmall'>" +
                                            (new Date().format()) + " : " + (new Date(period.endMillis).format()) + "<br>" +
                                            "工作量 - min: " + getMillisInHoursMinutes(response.stats.minLoad) + "  max: <b>" + getMillisInHoursMinutes(response.stats.maxLoad) + "</b><br>" +
                                            "平均工作能力: " + getMillisInHoursMinutes(response.stats.meanCapacity) + "<br>"
                                        );
                                        bl.css("cursor", "pointer");
                                        bl.addClass("");
                                        if (response.stats.meanLoadPerc > 100)
                                            bl.addClass("warning alertIcon");
                                        else if (response.stats.meanLoadPerc > 90)
                                            bl.addClass("attention");
                                        bl.append(parseInt(response.stats.meanLoadPerc) + "%");
                                        workloadInfo.empty().append(bl);
                                    } else {
                                        workloadInfo.empty();
                                    }
                                    workloadInfo.removeClass("loading");
                                });
                            })
                        }
                    }



                    function getOperatorLoad(resId, startMillis, endMillis, currentWL, assId, callback) {
                        //console.debug("getOperatorLoad",resId, startMillis, endMillis, currentWL, assId);
                        //se il progetto doveva giÃ  essere chiuso non si calcola niente
                        if (endMillis < new Date().getTime()) {
                            if (typeof (callback) == "function") {
                                callback({ ok: false });
                            }
                            return;
                        }

                        var request = {
                            CM: "GETOPLOAD",
                            resId: resId,
                            startMillis: startMillis,
                            endMillis: endMillis,
                            simulatedLoad: currentWL,
                            assId: assId
                        };
                        $.getJSON(contextPath + "/applications/teamwork/task/plan/planAjaxController.jsp", request, function (response) {
                            jsonResponseHandling(response);
                            if (typeof (callback) == "function") {
                                callback(response);
                            }
                        })
                    }
                </script>
                <script>

                    //inject the table search
                    createTableFilterElement($("#assResNameHead"), ".dataTable [assId][resid]", ".columnAssigName,.assRole");

                    $(function () {
                        if (false)
                            $("[data-workload]").each(function () { updateResourceLoad($(this)) });
                    });
                </script>
                <input type="hidden" id="d464476821outType" name="outType" value="" savedValue="">
                <input type="hidden" id="d464476821reportName" name="reportName" value="" savedValue="">

            </form>



        </div>

        <script src="/applications/teamwork/socket/userStatusManagement.js"></script>


        <script>
            var __sns = [];
            $(function () {
                $("body").oneTime(500, function () {
                    manageStickyNotes(__sns);
                });

                //event da webSocket
                $("body").on("ws-stickySaved.twScreen", function (e, data) {
                    //console.debug("ws-stickySaved.twScreen",data);
                    if (data && data.stickyId)
                        twSrc_drawSticky(data.stickyId);
                }).on("ws-logSaved.twScreen", function (e, data) {
                    //console.debug("ws-logSaved twScreen",data);
                    if (data && data.messageId) {
                        $("#messageListOpener .notificationNumber").html(parseInt($("#messageListOpener .notificationNumber").text()) + 1).show();
                    }
                }).on("ws-updateGlobalCounter.twScreen", function (e, data) {
                    //console.debug("ws-updateGlobalCounter.twScreen", data);
                    if (data) {
                        $("#twChatOpener .notificationNumber").html(data.totalUnreadChats);
                        $("#twChatOpener").data("totalUnreadChats", data.totalUnreadChats);


                        if (data.totalUnreadChats) {
                            //top.twChat.chatWindow.addClass("hasUnreadChats");
                            $("#twChatOpener .notificationNumber").show();
                        } else {
                            //top.twChat.chatWindow.removeClass("hasUnreadChats");
                            $("#twChatOpener .notificationNumber").hide();
                        }
                        // add total unread chats to the top page title
                        top.document.title = (data.totalUnreadChats ? "(" + data.totalUnreadChats + ") Twproject" : "Twproject");
                        top.$("#twfavicon").attr("href", contextPath + "/img/favicons/fav" + (data.totalUnreadChats > 9 ? "N" : data.totalUnreadChats) + ".png?_=" + (Math.random()))
                    }
                }).on("ws-socketClosed.twScreen", function (e, data) {
                    //alert("服务器连接已经丢失。\n请尝试重新加载页面。")
                }
                );


                //gestione chiusura tutti dopo 2
                var firstClosed = false;
                var doNotAskAgain = false;
                $("body").on("containerHidden", ".container.sticky", function (e) {
                    if (firstClosed && !doNotAskAgain) {
                        var firstStick = $(this);
                        var sticks = $(".container.sticky");
                        if (sticks.size() > 2) {
                            doNotAskAgain = true;
                            if (confirm("全部关闭？")) {
                                sticks.each(function () {
                                    var stick = $(this);
                                    if (stick.attr("status") != "ICONIZED")
                                        if (stick.prop("id") != firstStick.prop("id"))
                                            $(this).trigger("hide");
                                });
                            }
                        }
                        firstClosed = false;

                    } else {
                        firstClosed = true;
                    }

                });

            });


            function manageStickyNotes(sns) {
                //console.debug("manageStickyNotes",sns);
                if (sns.length > 20) { //non disegna tutto se sono piÃ¹ di 20
                    var message = "这有很多便条(--xxx--), 展现所有可能造成浏览器崩溃.您确实想这样做吗?".replace("--xxx--", sns.length);
                    var d = $("<div>").append(message + "<br>");
                    var closeAll = $("<button>").append("关闭所有").attr("onclick", "closeAllSticky();hideFeedbackMessages()");
                    var drawAll = $("<button>").append("所有的绘制").attr("onclick", "twSrc_drawAllSticky(__sns);hideFeedbackMessages()");
                    d.append(closeAll).append(drawAll);
                    showFeedbackMessage("INFO", d.html(), "");
                } else {
                    twSrc_drawAllSticky(sns)
                }
            }


            function twSrc_drawAllSticky(sns) {
                for (var i = 0; i < sns.length; i++) {
                    twSrc_drawSticky(sns[i]);
                }
            }
            function twSrc_drawSticky(stickyId) {
                $.get(contextPath + "/applications/teamwork/sticky/partAjaxStickyNote.jsp", { CM: "DRW", sid: stickyId }, function (response) {
                    $("#STKN_" + stickyId).remove();
                    $("body").append(response);
                })
            }


            function closeAllSticky() {
                $.getJSON(contextPath + "/messaging/messageAjax", { CM: "REMOVEEALLSTK" }, function (response) {
                    twSrc_drawAllSticky(__sns);//disegna i rimanenti
                });
            }
        </script>
    </div>
    <div id="_errorTemplates" style="display:none;">
        <div class="__template__" type="errorTemplate">
            <!--
            <div style="padding:15px 12px" class="FFC_(#=type#) FFC_Global" type="(#=type#)">
              <table cellpadding="0" cellspacing="0" align="center" style="width:100%;">
                <tr>
                  <td valign="top" width="1" nowrap><img src="/img/(#=type.toLowerCase()#).png"></td>
                  <td valign="middle" class="_errorTemplateMessage" style="padding-left: 3px">(#if(obj.title){#)
                    <b>(#!title#)</b><br>
                    (#}#)(#=message#)<br></td>
                  <td width="1" valign="top" onclick="$(this).parents('div:first').fadeOut(function(){$(this.remove())})"><span class="teamworkIcon" style="cursor:pointer">x</span></td>
                </tr>
              </table>
            </div>
            -->
        </div>
    </div>

    <script>
        $(function () {
            if (false) {
                window.focus();
            }


            $("#_errorTemplates").loadTemplates().remove();
            var _messagesFromController = [];
            if (_messagesFromController.length > 0) {
                for (var i = 0; i < _messagesFromController.length; i++) {
                    showFeedbackMessage(_messagesFromController[i]);
                }
            }


            if (1)
                $("#ck_ASS_SHOW_CHILDREN").focus();


            showUpgradeMessage();


            // EX liveQuery:  si inizializzano i fields
            $("body").initFields()
        });


        function showUpgradeMessage() {
            var levpg = $(".lreqPage:first");
            if (levpg.size() > 0) {

                var lv = 30;
                var reqLev = levpg.hasClass("lreq30") ? 30 : levpg.hasClass("lreq20") ? 20 : levpg.hasClass("lreq10") ? 10 : 0;
                if (lv > 0 && reqLev > lv) {
                    var str = reqLev == 0 ? "FULL" : reqLev == 5 ? "FREE" : reqLev == 10 ? "BASIC" : reqLev == 20 ? "ADVANCED" : reqLev == 30 ? "ENTERPRISE" : "TRIAL";

                    var wrp = $("<div>").addClass("modalPopup upgradeMessage").css("background", "none");
                    var inn = $("<div>").addClass("bwinPopupd").css({ "max-width": "360px", "min-height": "200px", top: "20%" }).click(function () {
                        location.href = contextPath + "/applications/teamwork/buyTwprojectLicense.jsp?rqlv=" + reqLev;
                    });
                    inn.append($("<h2>").html('Do you need more?'));
                    inn.append($("<p>").html('Your current plan does not include this feature. Upgrade your Twproject to "%%" plan in order to access it.'.replace("%%", str)));
                    //inn.append("<br><br>");
                    inn.append($("<p align='center'>").append($("<span>").addClass("button first").html('Twproject shop')));
                    wrp.append(inn)
                    levpg.after(wrp)
                }
            }
        }



    </script>
</body>
</html>
