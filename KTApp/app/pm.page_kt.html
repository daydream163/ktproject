<html>

<head>
  <meta http-equiv="X-UA-Compatible" content="IE=EDGE">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta id="Viewport" name="viewport" content="initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=yes">
  <meta name="apple-mobile-web-app-capable" content="yes">


  <title>Twproject</title>


  <link id="twfavicon" rel="Shortcut Icon" type="image/ico" href="/img/favicon.png">
  <link rel="stylesheet" href="/commons/skin/default/platform.css?_=65017" type="text/css">



  <link rel="stylesheet" href="/commons/skin/default/print.css?_=65017" type="text/css" media="print">



  <script src="/commons/js/jquery/jquery-2.1.3.min.js?65017"></script>


  <link href="/commons/js/scrollbar/perfect-scrollbar.css?_=65017" rel="stylesheet">
  <script src="/commons/js/scrollbar/perfect-scrollbar.min.js?_=65017"></script>


  <script src="/commons/js/platform.js?_=65017"></script>
  <script src="/commons/js/i18nJs.js?_=65017"></script>

  <script>
    /**
     * Check if is Mobile
     */
    if (typeof window.orientation !== 'undefined' && window.screen.width < 600 && readCookie("browseTwAsDefault") != 1 && true) {
      top.location.href = contextPath + "/mobile";
    }

    // keep as top

    /* if (getTop() == top) {
      // quando si sta chiamando una pagina di TW (non nell'iframe) si fa il redirect sul wrapper /tw/...
      // top.location.href = contextPath + "/tw" + location.pathname + location.search;
    } else {
      if (window.location != getTop().location) {
        getTop().location = window.location;
      } else {
        // siamo giÃ&nbsp; nel wrapper si modifica solo la url senza cambiare pagina
        top.history.replaceState("", document.title, contextPath + "/tw" + location.pathname + location.search);
      }
    } */



    var bodyScroll;
    var minutesToLock = 0;
    var localActivity = new Date().getTime();
    $(function () {

      //bodyScroll = new PerfectScrollbar('#twBody');

      $("body").on("mousemove keyup", function () {
        if (top.twComm) {
          top.twComm.lastActivity = new Date().getTime();
          localActivity = new Date().getTime();
          if (top.twComm.isAway) // al primo movimento del mouse si dice che siamo svegli
            top.twComm.checkAlive();
        }

      }).everyTime(10000, "alive", function () { //controlla lo stato ogni 10 sec.

        //websocket keep-alive
        if (top.twComm)
          top.twComm.checkAlive();

        //test autoLogoff
        if (minutesToLock > 0 && (new Date().getTime() - localActivity) > minutesToLock * 60000) { //60 seconds
          $(this).stopTime("alive");
          muteAlertOnChange = true;
          top.location = "/app/security/login.html?V_ID=432324641&CM=LO";
        }
      });

      // http session keep alive
      $("body").everyTime(10 * 60 * 1000, "pingServer", function () { //10 min.
        $.get('/command.jsp');
      });

      if (typeof (top.manageFocusBlur) == "function")
        $(window).on("focus blur", top.manageFocusBlur)

    });

  </script>

  <link rel="stylesheet" type="text/css" href="/commons/js/jquery/jqplot/jquery.jqplot.min.css">
</head>

<body id="twBody" class="level30  home" level="30" style="min-height: 888px;">
  <div id="floatWindow"></div>




  <div id="twMainContainer" style="">
    <div id="savingMessage" style="display: none;">请稍候...</div>




    <div class="twHeader noprint">
      <div id="headerWrapper ">
        <a href="/applications/teamwork/pm.page?V_ID=1466449279" class="twLogo withArrowRight" title="Home"
          id="twLogoMainMenu"></a>
        <div id="mainNav" class="noprint mainNav">
          <table border="0" cellspacing="0" cellpadding="0">
            <tbody>
              <tr>
                <td id="DASHBOARD_MENU" ttitle="返回到主页.您可以通过自定义页面设置自己的个性化主页" class="withArrowRight">
                  <div style="position: relative">
                    <span><a class="button     hasDivomo noLabel" id="domId_2090699181" style=""
                        href="/applications/teamwork/pm.page?V_ID=1691323032"></a>

                      <span id="arrowOpener_divdomo_domId_1253702853" class="arrowOpener menuArrow"
                        onclick="bjs_showMenuDiv('divdomo_domId_1253702853', 'arrowOpener_divdomo_domId_1253702853'); event.stopPropagation(); event.preventDefault(); return false; "><span></span></span>

                    </span>

                    <div id="divdomo_domId_1253702853" class="divomo divDark"
                      style=" position: absolute;left:-10000px; top:-10000px;">

                      <div class="divomoArrow"></div>

                      <div><a class="button  textual   " id="domId_507371655" style=""
                          href="/helpDesk.page?V_ID=1427805138">Help Desk</a>

                        <a class="button  textual   " id="domId_1885326995" style=""
                          href="/app/getsThingsDone?V_ID=1614839499">Get things done</a>

                        <a class="button  textual  focused " id="domId_569593480" style=""
                          href="/pm.page?V_ID=1942782746">Project Manager</a>

                        <a class="button  textual   " id="domId_1823003681" style=""
                          href="/supervisor.page?V_ID=540192539">Supervisor</a>

                        <hr><a class="button  textual   lreq20 lreqLabel lreqActive" id="domId_1073674818" style=""
                          href="/applications/website/admin/customizePage.jsp?V_ID=1613836254&amp;PAGEID=3"><span
                            class="teamworkIcon withLabel">g</span>自定义本页面</a>

                        <hr><a class="button  textual   " id="domId_2095064032" style=""
                          href="/applications/teamwork/documentation/documentation.jsp?V_ID=593592449">关于</a>

                      </div>
                    </div>




                  </div>
                </td>

                <td id="TASK_MENU" ttitle="这是Twproject的入口点.一旦创建和分配,Twproject就将开始为团队工作.">
                  <span><a class="button     hasDivomo" id="domId_1446750028" style=""
                      href="taskList.html">项目</a>

                    <span id="arrowOpener_divdomo_domId_1717869262" class="arrowOpener menuArrow"
                      onclick="bjs_showMenuDiv('divdomo_domId_1717869262', 'arrowOpener_divdomo_domId_1717869262'); event.stopPropagation(); event.preventDefault(); return false; "><span></span></span>

                  </span>

                  <div id="divdomo_domId_1717869262" class="divomo divDark"
                    style=" position: absolute;left:-10000px; top:-10000px;">

                    <div class="divomoArrow"></div>

                    <div><a class="button  textual   hasDivomo" id="domId_1446750028" style=""
                        href="taskList.html">项目</a>

                      <a class="button  textual   lreq10 lreqLabel" id="domId_1458536166" style=""
                        href="/applications/teamwork/task/taskListAsGantt.jsp?V_ID=82164787">Portfolio</a>

                      <a class="button  textual   " id="domId_91511457" style=""
                        href="/app/documentList.html?V_ID=741385185">文档</a>

                      <a class="button  textual   lreq20 lreqLabel" id="domId_434766547" style=""
                        href="/applications/teamwork/task/financial/additionalCostList.jsp?V_ID=852577016">额外费用</a>

                      <hr><button type="button" class="button noprint textual   " id="domId_196905678" style=""
                        onclick="openBlackPopup('app/task/taskNew.html?V_ID=1416249518&amp;CM=AD','800px','720px');return false; "><span
                          class="teamworkIcon withLabel" style="">P</span> 新建项目</button>

                    </div>
                  </div>

                </td>

                <td id="TIMESHEET_MENU" ttitle="工时计划,工作记录,记录的有效性检查和分析.">
                  <span><a class="button     lreq10 lreqActive hasDivomo" id="domId_1251015128" style=""
                      href="/applications/teamwork/task/worklog/worklogWeek.jsp?V_ID=1200964020">工时表</a>

                    <span id="arrowOpener_divdomo_WKLOGSM" class="arrowOpener menuArrow"
                      onclick="bjs_showMenuDiv('divdomo_WKLOGSM', 'arrowOpener_divdomo_WKLOGSM'); event.stopPropagation(); event.preventDefault(); return false; "><span></span></span>

                  </span>

                  <div id="divdomo_WKLOGSM" class="divomo divDark"
                    style=" position: absolute;left:-10000px; top:-10000px;">

                    <div class="divomoArrow"></div>

                    <div><a class="button  textual   lreq10 lreqLabel lreqActive" id="domId_1869942858" style=""
                        href="/applications/teamwork/task/worklog/worklogWeek.jsp?V_ID=1783109930">工时表</a>

                      <button type="button" class="button noprint textual   lreq10 lreqLabel lreqActive"
                        id="domId_1063929533" style=""
                        onclick="openBlackPopup('/applications/teamwork/task/timeCounter.jsp?V_ID=1853924208&amp;FOCUS_MILLIS=1590638469722',$(window).width()-100,$(window).height()-50);return false; ">计时器</button>

                      <a class="button  textual   lreq20 lreqLabel" id="domId_1514816209" style=""
                        href="/applications/teamwork/task/worklog/worklogOverview.jsp?V_ID=447355178">时间表概述</a>

                      <a class="button  textual   lreq10 lreqLabel" id="domId_1097389478" style=""
                        href="/applications/teamwork/task/worklog/attendanceOverview.jsp?V_ID=1349720152">出勤概述</a>

                      <a class="button  textual   lreq20 lreqLabel lreqActive" id="domId_1235396310" style=""
                        href="/applications/teamwork/task/worklog/approval/worklogApprovalByResource.jsp?V_ID=872604507&amp;RES_ID=12771">工作记录审核</a>

                      <a class="button  textual   lreq10 lreqLabel" id="domId_1433882974" style=""
                        href="/applications/teamwork/task/worklog/worklogList.jsp?V_ID=1663307741">工作记录分析</a>

                      <a class="button  textual   lreq30 lreqLabel lreqActive" id="domId_209657384" style=""
                        href="/applications/teamwork/task/financial/expenseList.jsp?V_ID=542339322">费用控制</a>

                    </div>
                  </div>

                </td>

                <td id="PLAN_MENU" ttitle="PLAN_MENU_HELP" valign="bottom">
                  <span><a class="button     lreq20 lreqActive hasDivomo" id="domId_1176386986" style=""
                      href="/applications/teamwork/task/plan/planByResource.jsp?V_ID=1414865712&amp;CM=FIND_BY_ENTITY">计划</a>

                    <span id="arrowOpener_divdomo_domId_1801619420" class="arrowOpener menuArrow"
                      onclick="bjs_showMenuDiv('divdomo_domId_1801619420', 'arrowOpener_divdomo_domId_1801619420'); event.stopPropagation(); event.preventDefault(); return false; "><span></span></span>

                  </span>

                  <div id="divdomo_domId_1801619420" class="divomo divDark"
                    style=" position: absolute;left:-10000px; top:-10000px;">

                    <div class="divomoArrow"></div>

                    <div><a class="button  textual   lreq30 lreqActive lreqLabel" id="domId_298169240" style=""
                        href="/applications/teamwork/task/plan/planByResource.jsp?V_ID=592890306&amp;CM=FIND_BY_ENTITY">计划</a>

                      <a class="button  textual   lreq20 lreqActive lreqLabel" id="domId_1251068229" style=""
                        href="/applications/teamwork/task/plan/operatorLoad.jsp?V_ID=993780281">工作负荷</a>

                    </div>
                  </div>

                </td>

                <td id="AGENDA_MENU" ttitle="个人的日程,共享的日程,会议">
                  <a href="/app/agendaWeekDay.html?V_ID=1484860048&amp;FOCUS_MILLIS=0"
                    class="button">日程
                  </a>

                </td>
                <td id="ISSUES_MENU" ttitle="Twproject 提供了一个相当灵活的问题跟踪工具,并且将问题和项目很好的整合在一起.
To-do能够成为问题, 问题能够成为任务. 问题能够批量的从一个任务移动到另一个任务">
                  <span><a class="button     hasDivomo" id="domId_135364949" style=""
                      href="/app/issue/issuelist?V_ID=1978195747">问题</a>

                    <span id="arrowOpener_divdomo_domId_893515670" class="arrowOpener menuArrow"
                      onclick="bjs_showMenuDiv('divdomo_domId_893515670', 'arrowOpener_divdomo_domId_893515670'); event.stopPropagation(); event.preventDefault(); return false; "><span></span></span>

                  </span>

                  <div id="divdomo_domId_893515670" class="divomo divDark"
                    style=" position: absolute;left:-10000px; top:-10000px;">

                    <div class="divomoArrow"></div>

                    <div><a class="button  textual   hasDivomo" id="domId_135364949" style=""
                        href="/app/issue/issuelist?V_ID=160199032">问题</a>

                      <a class="button  textual   lreq10 lreqLabel lreqActive" id="domId_2112205866" style=""
                        href="/app/issue/issueOrganizer.html?V_ID=712870746">组织（看板）</a>

                      <a class="button  textual   lreq20 lreqLabel lreqActive" id="domId_1939304952" style=""
                        href="/app/issue/issuePlanner.html?V_ID=345334427">计划者</a>

                    </div>
                  </div>

                </td>

                <td id="RESOURCE_MENU" ttitle="创建和管理用户,部门.他们可以作为资源被分派到项目/任务,问题中.">
                  <a href="/app/resourceList.html?V_ID=1534900395" class="button">资源
                  </a>
                </td>

                <td id="TOOLS_MENU" ttitle="TOOLS_MENU_HELP">

                  <span><a class="button     hasDivomo" id="domId_1497371001" style=""
                      href="/app/toolsIntro.html?V_ID=224592928">工具</a>

                    <span id="arrowOpener_divdomo_domId_2101038261" class="arrowOpener menuArrow"
                      onclick="bjs_showMenuDiv('divdomo_domId_2101038261', 'arrowOpener_divdomo_domId_2101038261'); event.stopPropagation(); event.preventDefault(); return false; "><span></span></span>

                  </span>

                  <div id="divdomo_domId_2101038261" class="divomo divDark"
                    style=" position: absolute;left:-10000px; top:-10000px;">

                    <div class="divomoArrow"></div>

                    <div><a class="button  textual   hasDivomo" id="domId_1497371001" style=""
                        href="/app/toolsIntro.html?V_ID=2108222040">工具</a>

                      <a class="button  textual   " id="domId_1076445006" style=""
                        href="/app/board/boardList.html?V_ID=120846952&amp;CM=FN">讨论板</a>

                      <hr><span class="menuTitle">书签</span><a class="button  textual   " id="domId_393569790" style=""
                        href="https://demo.twproject.com/app/getsThingsDone?V_ID=159073985">- Twproject</a>

                      <hr><a class="button  textual   " id="domId_477827770" style=""
                        href="/app/tools/manageFavorites.html?V_ID=1653397868"><span
                          class="teamworkIcon withLabel">g</span>管理书签&nbsp;</a>

                      <hr><button type="button" class="button noprint textual   " id="domId_1409974257" style=""
                        onclick="saveThisPageAsPreferred();return false; "><span
                          class="teamworkIcon withLabel">P</span>增加当前视图到书签</button>

                    </div>
                  </div>

                </td>

              </tr>
            </tbody>
          </table>
        </div>

        <div class="menuTools">

          <div id="HINT_SEARCH_span" class="menuSearch"><input type="text" name="search" id="search" size="15"
              class="searchInput" autocomplete="off" maxlength="255" value=""
              onkeyup="if (event.keyCode==13) { fastSearch($(this));event.preventDefault();return false;}"
              oldvalue="1"><span class="menuArrow"
              onclick="bjs_showMenuDiv('divdomo_keyDiv', 'domId_1025094326');  "><button type="button"
                class="button noprint textual icon  fastSearchkeysButton" id="domId_1025094326" style=""
                onclick=";return false; "><span class="teamworkIcon ">[</span></button>


            </span>

            <div id="divdomo_keyDiv" class="divomo fSKeys" style=" position: absolute;left:-10000px; top:-10000px;">

              <div class="divomoArrow"></div>

              <div><span class="menuTitle">Search in:</span><button type="button" class="button noprint textual   ALL"
                  id="domId_601617094" style="" onclick="changeFastSearchKey('ALL');return false; ">全部</button>

                <button type="button" class="button noprint textual   W" id="domId_1025488782" style=""
                  onclick="changeFastSearchKey('W');return false; ">工作记录</button>

                <button type="button" class="button noprint textual   T" id="domId_1833691899" style=""
                  onclick="changeFastSearchKey('T');return false; ">项目</button>

                <button type="button" class="button noprint textual   R" id="domId_321928396" style=""
                  onclick="changeFastSearchKey('R');return false; ">资源</button>

                <button type="button" class="button noprint textual   I" id="domId_1139244779" style=""
                  onclick="changeFastSearchKey('I');return false; ">问题</button>

                <button type="button" class="button noprint textual   A" id="domId_322804001" style=""
                  onclick="changeFastSearchKey('A');return false; ">日程</button>

                <button type="button" class="button noprint textual   B" id="domId_823152485" style=""
                  onclick="changeFastSearchKey('B');return false; ">讨论板</button>

                <button type="button" class="button noprint textual   D" id="domId_634161421" style=""
                  onclick="changeFastSearchKey('D');return false; ">文档</button>

              </div>
            </div><button type="button" class="button noprint textual icon  searchButton" id="domId_389662686" style=""
              onclick="fastSearch($('#search'));return false; "><span class="teamworkIcon ">L</span></button>

          </div>



          <div id="loggedOp" class="loggedOp">
            <span class="menuArrow" onclick="bjs_showMenuDiv('divdomo_domId_1595205716', 'domId_864173325');  "><span
                class="button buttonImg  operatorButton" id="domId_864173325" style=" " onclick=";return false; "><img
                  src="/img/svgavatar?code=%E7%8E%89%E5%8F%B2&amp;fill=hsl%28240%2C70%25%2C80%25%29&amp;stroke=hsl%28240%2C90%25%2C20%25%29"
                  border="0" name="d1800375365" title="史 玉平" alt="史 玉平" id="d1800375365" "="" resid=" 12771"
                  class="face active"></span>

            </span>

            <div id="divdomo_domId_1595205716" class="divomo divDark"
              style=" position: absolute;left:-10000px; top:-10000px;">

              <div class="divomoArrow"></div>

              <div><span class="menuTitle">史 玉平 <em>(162)</em></span><a class="button  textual   " id="domId_1486863024"
                  style=""
                  href="/app/resource/resourceEditor.html?V_ID=1389110034&amp;CM=ED&amp;OBJID=12771">我的联系方式</a>

                <a class="button  textual   " id="domId_1587127876" style=""
                  href="/app/resource/resourceSecurity.html?V_ID=772747199&amp;CM=ED&amp;OBJID=12771">登录信息</a>

                <a class="button  textual   " id="domId_963832545" style=""
                  href="/app/resource/resourceOptions.html?V_ID=752235872&amp;CM=EDIT_OPT&amp;OBJID=12771">选项</a>

                <a class="button  textual   " id="domId_664434494" style=""
                  href="/app/resource/resourcedocumentList.html?V_ID=1642451154&amp;CM=LIST_DOCS&amp;RES_ID=12771">文档</a>

                <hr><span class="menuTitle">条消息</span><button type="button" class="button noprint textual   "
                  id="domId_1517806785" style=""
                  onclick="openBlackPopup('/app/sticky/stickyEditor.html?V_ID=235576258&amp;CM=AD&amp;POP=yes','600px','600px');return false; ">发送短消息</button>

                <button type="button" class="button noprint textual   " id="domId_703494756" style=""
                  onclick="openBlackPopup('/app/sticky/stickyEditor.html?V_ID=1967876429&amp;POP=yes&amp;receiver=12771','600px','600px');return false; ">给自己发消息</button>

                <hr><a class="button  textual   " id="domId_1738887357" style="" href="http://twproject.com/support"
                  target="_blank">支持</a>

                <hr><a class="button  textual   " id="domId_374857076" style=""
                  href="/app/security/login.html?V_ID=1997913369&amp;CM=LO" target="_top">注销</a>

              </div>
            </div>
          </div>



          <div id="twChatNotifications">
            <div id="twChatOpener" class="messages button textual icon open" onclick="twChatToggle();">

              <span class="teamworkIcon"></span>

              <span class="notificationNumber" style="display:none">0</span>
            </div>
          </div>
          &nbsp;
          &nbsp;

          <div id="notifications">
            <div id="messageListOpener" class="messages button textual icon" onclick="loadMessageList($(this));">
              <span class="teamworkIcon">b</span>
              <span class="notificationNumber" style="display:none">0</span></div>
          </div>

          <div id="messageListBox" class="divomo divDark" style="position: absolute;left:-1000px; top:-1000px;">
            <div class="divomoArrow"></div>
            <span class="menuTitle">通知</span>
            <div id="messageListPlace" class="messageListPlace"></div>
            <div class="showAllMessages" onclick="$('#messageListBox').trigger('hideDivOnMouseover');"><a
                class="button  textual   " id="domId_372818770" style=""
                href="/app/messageListFull.html?V_ID=824753598">全部显示</a>

            </div>
          </div>


          <div class="menuTimeCounter" style="display:none;"><a
              href="javascript:openBlackPopup('/applications/teamwork/task/timeCounter.jsp?V_ID=1051035560')"
              id="tcMenuCounter"></a></div>
        </div>
      </div>
    </div>

    <script>
      // unread messages managament
      $("#messageListBox").on("hideDivOnMouseover", function () {
        $.getJSON(contextPath + "/messaging/messageAjax", { CM: "READALL" }, function (response) {
          jsonResponseHandling(response);
          if (response.ok) {
            $("#messageListOpener .notificationNumber").fadeOut().html("0");
            $("#twChatOpener").data("totalUnreadChats", false);
          }
        });
      });

      function followMessageLink(el) {
        var href = el.find(".message_link a:first").attr("href");
        if (href)
          self.location.href = href;
      }

      function saveThisPageAsPreferred() {
        location.href = contextPath + "/app/tools/manageFavorites.html?CM=POSTLINK&URL=" + encodeURIComponent(location.href) + "&TITLE=" + encodeURIComponent(document.title);
      }

      (function tmStartup() {
        var counted = undefined;
        var format = '%0h:%0m:%0s';
        if (counted) {
          var ndo = $("#tcMenuCounter");
          ndo.attr("title", counted.taskName).data("time", counted.countingStartedMillis).activateTimeCounter(format);
          ndo.parent().show();
        }

        registerEvent("timeCounterEvent", function (e, data) {

          if (data.type == "start") {

            if (data.response.assignment) {

              //faccio partire il widget se c'Ã¨
              var ndoWidget = getTop().$("body").find("tr[assid=" + data.response.assignment.id + "]");
              if (ndoWidget) {
                ndoWidget.addClass("highlight");
                ndoWidget.find(".timeCounter").data("time", new Date().getTime()).show().activateTimeCounter();
                ndoWidget.find(".play").removeClass("play").addClass("stop").find(".teamworkIcon").html("s");
              }


              //faccio partire il counter sul menu
              var ndoMenu = $("#tcMenuCounter");
              ndoMenu.stopTimeCounter().attr("title", data.response.assignment.taskName).data("time", data.response.assignment.countingStartedMillis).activateTimeCounter(format);
              ndoMenu.parent().show();
            }

          } else if (data.type == "stop") {

            //fermo il widget
            var ndoWidget = getTop().$("body").find(".stop").closest("tr");
            if (ndoWidget) {
              ndoWidget.removeClass("highlight");
              ndoWidget.find(".timeCounter").stopTimeCounter().hide();
              ndoWidget.find(".stop").removeClass("stop").addClass("play").find(".teamworkIcon").html("a");
            }

            //faccio fermare il counter sul menu
            var ndoMenu = $("#tcMenuCounter");
            ndoMenu.stopTimeCounter();
            ndoMenu.parent().hide();
          }
        })
      })();

      function twChatToggle() {
        //console.debug(top.twChat.chatWindow.is(".closed"))

        if (top.twChat.chatWindow.is(".closed")) {
          top.twChat.open();
        } else if ($("#twChatOpener .notificationNumber").is(":visible")) {
          top.twChat.chatWindow.addClass('showChats');
        } else {
          top.twChat.close();
        }
      }


      $(function () {
        //lo stato del socket lo sa solo il client lato js -> twComm
        if (!top.twComm || !top.twComm.isOpen)
          getTop().$("#twChatOpener").addClass("disabled");

        /**
         * Manage chat opener state at start (chat could be open)
         */
        if (getTop() != top && top.twChat && top.twChat.chatWindow && top.twChat.chatWindow.is(".closed")) {
          $("#twChatOpener").removeClass("open");
        } else {
          $("#twChatOpener").addClass("open");
        }

      })
    </script>


    <div id="__FEEDBACKMESSAGEPLACE" style="display:none;"></div>
    <div class="wpHeadLineContainer" style="">
      <div class="wpHLBox-wrapper">

        <div id="wphTasksOver" class="wpHLBox wpHLGrave"><a
            href="/app/task/taskList?V_ID=635388670&amp;CM=FN&amp;END=%3Ct&amp;STATUS=STATUS_ACTIVE">
            <h2>已超时的项目</h2>
            <span class="wphlNumber">5</span>
            <p>应该已经关闭的项目</p>
          </a>
        </div>




        <div id="wphTasksForthcoming" class="wpHLBox"><a
            href="/app/task/taskList?V_ID=1125762441&amp;CM=FN&amp;END=T%3A1w&amp;STATUS=STATUS_ACTIVE">
            <h2>即将结束的项目</h2>
            <span class="wphlNumber">2</span>
            <p>项目将关闭一周</p>
          </a>
        </div>

        <div id="wphOpenProjects" class="wpHLBox"><a
            href="/app/task/taskList?V_ID=543645238&amp;CM=FN&amp;STATUS=STATUS_ACTIVE&amp;ROOT_OR_STANDALONE=yes">
            <h2>进行中的项目</h2>
            <span class="wphlNumber">6</span>
            <p>项目当前处于活动状态。</p>
          </a>
        </div>
        <div id="wphWorklog" class="wpHLBox"><a
            href="/applications/teamwork/task/worklog/worklogWeek.jsp?V_ID=1242411565&amp;FOCUS_MILLIS=1590102000000">
            <h2>工作记录</h2>
            <span class="wphlNumber" style="font-size: 24px">5:00 / 40:00</span>
            <p>做估计的</p>
          </a>
        </div>






      </div>
      <!-- Add Arrows -->
      <div class="wpHLBox-next" style="display: none;"></div>
      <div class="wpHLBox-prev" style="display: none"></div>
    </div>
    <div id="twInnerContainer" class="null">

      <style type="text/css">
        #twInnerContainer {
          border-bottom: 1px solid #f6f6f6;
        }

        h1 .teamworkIcon {
          font-size: 100%;
        }

        .dashboardChooserArrow .button.textual.icon {
          width: 40px !important;
          text-align: center;
          height: 25px;
        }
      </style>

      <script>
        $("#HOME_MENU").addClass('selected');
        $("body").addClass("home");
      </script>

      <div class="topHome">
        <div class="dashboardHeader">

          <h1 style="display: inline-block">Project Manager</h1>
          <div class="dashboardLinksBox">
            <h2 style="display: inline-block; padding-right: 30px;font-weight:400">2020年5月28日 星期四</h2>
            <span class="menuArrow" onclick="bjs_showMenuDiv('divdomo_domId_1842401501', 'domId_1176772732');  "><button
                type="button" class="button noprint    first" id="domId_1176772732" style=""
                onclick=";return false; "><span class="teamworkIcon withLabel">P</span>添加...</button>


            </span>

            <div id="divdomo_domId_1842401501" class="divomo " style=" position: absolute;left:-10000px; top:-10000px;">

              <div class="divomoArrow"></div>

              <div><button type="button" class="button noprint textual   " id="domId_672569303" style=""
                  onclick="openBlackPopup('app/task/taskNew.html?V_ID=675321214&amp;CM=AD','800px','720px');return false; ">+
                  新建项目</button>

                <button type="button" class="button noprint textual   " id="domId_1665841360" style=""
                  onclick="openIssueEditorInBlack('0','AD','');return false; ">+ 创建问题</button>

                <a class="button  textual   " id="domId_1051431581" style=""
                  href="/app/resource/resourceEditor.html?V_ID=1132879607&amp;CM=AD&amp;RESOURCE_TYPE=com.twproject.resource.Person">+
                  添加新员工</a>

                <a class="button  textual   " id="domId_1915134351" style=""
                  href="/app/resource/resourceEditor.html?V_ID=1583295524&amp;CM=AD&amp;RESOURCE_TYPE=com.twproject.resource.Company">+
                  新公司/部门</a>

              </div>
            </div>
          </div>

        </div>
      </div>






      <style>
        .portletPlaceHolder {
          min-height: 200px;
          background-color: #f8f8f8;
        }
      </style>
      <div class="wsPage" pageid="3">
        <div class="headerHome" areaname="HEADER" custom="no" style="display: none;">
          <div portletid="4" id="HEADER4" class="portletContainer">

            <style style="display: none;">
              .wpHeadLineContainer {
                position: relative;
                display: block;
                width: 100vw;
                vertical-align: top;
                padding: 0;
                background: #356A8C;
              }

              .wpHLBox-wrapper {
                position: relative;
                overflow: hidden;
                width: 100%;
                opacity: 1;
                white-space: nowrap;
              }

              .wpHLBox {
                min-width: 280px;
                height: 75px;
                border-radius: 4px;
                display: inline-block;
                margin: 10px 6px;
                position: relative;
                vertical-align: top;
                text-align: left;
                font-size: 18px;
                opacity: 1;
              }

              .wpHLBox:first-of-type {
                margin-left: 8px;
              }


              .wpHLBox:last-of-type {
                margin-right: 8px;
              }


              .wpHLBox.waiting {
                opacity: 0;
              }

              .wpHLBox a {
                display: block;
                position: relative;
                height: 100%;
                padding: 7px 15px;
                background: rgba(255, 255, 255, 0.1);
                border-radius: 4px;
                color: #fff;
                overflow: hidden;

              }

              .wpHLBox:hover a {
                text-decoration: none;
                color: #2F97C6 !important;
                background-color: #fff;
              }

              .wpHLBox.wpHLGrave:hover a .wphlNumber {
                border-color: transparent;
              }

              .wpHLBox h2 {
                font-size: 20px;
                margin: 0;
                padding-right: 50px;
                text-overflow: ellipsis;
                overflow: hidden;
                font-weight: 300;
              }

              .wpHLBox p {
                font-size: 11px;
                white-space: normal;
                margin: 0;
                padding: 2px 0 0;
              }

              .wpHLBox .wphlNumber {
                font-weight: 300;
                position: absolute;
                right: 5px;
                top: 12px;
                min-width: 25px;
                padding: 0 6px;
                line-height: 23px;
                text-align: center;
                font-size: 35px;
              }

              .wpHLBox.wpHLGrave a {
                padding-left: 17px;
              }

              .wpHLBox.wpHLGrave a:before {
                content: "";
                position: absolute;
                width: 10px;
                height: 100%;
                left: 0;
                top: 0;
                background-color: rgba(255, 36, 26, 0.85);
              }

              .wpHLBox-next {
                position: absolute;
                top: 0;
                right: 0;
                width: 80px;
                height: 100%;
                cursor: pointer;
                background-image: linear-gradient(to right, rgba(53, 106, 140, 0) 25%, #356B8C 50%, #356B8C 100%);
              }

              .wpHLBox-prev {
                position: absolute;
                top: 0;
                left: 0;
                width: 80px;
                height: 100%;
                cursor: pointer;
                background-image: linear-gradient(to right, #356B8C 25%, #356B8C 50%, rgba(53, 106, 140, 0) 100%);
              }

              .wpHLBox-prev:after,
              .wpHLBox-next:after {
                cursor: pointer;
                transition: all .5s;
                font-family: "icons";
                position: absolute;
                font-size: 200%;
                color: #fff;
                top: 0;
                bottom: 0;
                margin: auto;
                width: 20px;
                height: 20px;
              }

              .wpHLBox-next:after {
                content: "}";
                right: 10px;
              }

              .wpHLBox-prev:after {
                content: "{";
                left: 10px;
              }

              .wpHLBox-prev:hover:after,
              .wpHLBox-next:hover:after {
                color: #ffffff;
              }

              @media only screen and (max-width: 1024px) {


                .wpHLBox .wphlNumber {
                  font-size: 30px;
                }

                .wpHLBox h2 {
                  padding-right: 55px;
                }

              }


              .neg .wpHLBox a {
                background-color: #fff;
              }

              .neg .wpHLBox a {
                color: #444;
              }

              .neg .wpHLGrave .wphlNumber {
                color: #ff5524;
              }

              .neg .wpHLBox:hover a {
                background-color: rgba(255, 255, 255, 0.8);
              }
            </style>

            <script style="display: none;">

              if ($("#portletList").size() <= 0)
                $(".wpHeadLineContainer").insertBefore("#twInnerContainer");


              var killEmpty = function () {
                var el = $(this);
                if (el.text().length < 10) {
                  $(this).remove();
                } else {
                  el.removeClass("waiting");
                }
              };

              $.fn.slideHeadLine = function () {
                var $headLine = $(this);
                var headLine = $headLine[0];
                var $headLineSlider = $(".wpHLBox-wrapper", $headLine);

                var next = $(".wpHLBox-next", $headLine);
                var prev = $(".wpHLBox-prev", $headLine);
                var elementWidth = $(".wpHLBox", $headLineSlider).outerWidth();

                var headLineWidth = $headLineSlider.outerWidth();
                var headLineLeft = $headLineSlider.scrollLeft();

                next.on("click", function () {
                  var step = headLineLeft + headLineWidth - elementWidth;
                  var isAtTheEnd = ((headLineLeft + headLineWidth) >= $headLineSlider[0].scrollWidth - 10);
                  step = isAtTheEnd ? $headLineSlider[0].scrollWidth : step;

                  $headLineSlider.animate({ scrollLeft: step }, 500, checkPrevNextVisibility);
                });

                prev.on("click", function () {
                  var step = headLineLeft - headLineWidth + elementWidth;
                  var isAtTheStart = (headLineLeft <= 10);
                  step = isAtTheStart ? 0 : step;

                  $headLineSlider.animate({ scrollLeft: step }, 500, checkPrevNextVisibility);
                });

                var checkPrevNextVisibility = function () {

                  headLineWidth = $headLine.width();
                  headLineLeft = $headLineSlider.scrollLeft();

                  if ((headLineLeft + headLineWidth) >= $headLineSlider[0].scrollWidth - 10) {
                    next.fadeOut();
                  } else {
                    next.fadeIn();
                  }

                  if (headLineLeft <= 0) {
                    prev.fadeOut();
                  } else {
                    prev.fadeIn();
                  }
                };

                $(window).on("resize.headLine", checkPrevNextVisibility).resize();

              };

              $(function () {
                setTimeout(function () {
                  $(".wpHeadLineContainer").slideHeadLine();
                }, 1000);

              });

              $(".wpHeadLineContainer .wpHLBox").each(function (i) {
                var box = $(this);
                box.load(contextPath + "/parts/partWPHeadline", { CM: box.prop("id"), "_": new Date().getTime() + "." + i }, killEmpty)
              });
            </script>
          </div>
        </div>
        <div class="mainColumnHome">
          <div areaname="LEFT_TOP" custom="no"></div>
          <div areaname="LEFT" custom="yes">
            <div portletid="27" id="LEFT27" class="portletContainer">
              <div class="portletBox wp_demoInfo" style="">
                <h3>
                  Welcome to your testing environment.<br>Trial ends on 01 六月 2020<br></h3>
                <div>
                  <a class="button" href="https://twproject.com/demo-create-subscription" target="_blank"
                    title="Twproject prices">Buy Twproject</a><br><br>
                  支持网站: <a href="https://twproject.com/support/" target="_blank"
                    title="Twproject help">twproject.com/support</a><br>
                </div>
              </div>
              <style style="display: none;">
                .wp_demoInfo {
                  background: #2F97C6 url(/img/twprojectHand.svg) no-repeat right bottom !important;
                  color: white !important;
                }

                .wp_demoInfo a {
                  color: white;
                  text-decoration: underline;
                }

                .wp_demoInfo a:hover {
                  background-color: #36C0F6;
                  text-decoration: none;
                  color: #fff;
                }

                .wp_demoInfo .button {
                  color: white;
                  border: 1px solid white;
                  text-decoration: none;
                }

                .wp_demoInfo .button:hover {
                  color: #36C0F6;
                  background-color: #fff;
                }
              </style>
            </div>
            <div portletid="1" id="LEFT1" class="portletContainer">
              <div id="createIssuesExDiv" class="portletBox" style="background-color: rgb(251, 251, 212);">
                <script>

                  function saveAndReloadIssues(button) {
                    //console.debug("saveAndReloadIssues")
                    if (canSubmitForm('CREATEISSUE_FORM')) {
                      showSavingMessage();
                      var request = { CM: "SV", OBJID: "new", setValuesAsDefault: "yes" };
                      $("#issueCreateLine").fillJsonWithInputValues(request);

                      $.getJSON(contextPath + "/issue/issueAjaxControllerJson", request, function (response) {
                        jsonResponseHandling(response);
                        if (response.ok) {
                          showFeedbackMessageInDiv("OK", "正确保存的问题", "createIssuesExDiv");
                          //$("#ISSUE_DESCRIPTION").val("");
                          $("body").trigger("issueEvent", [
                            { type: "save", response: response }
                          ])
                        }
                        hideSavingMessage();
                      });
                    }
                  }

                </script>
                <form enctype="application/x-www-form-urlencoded" method="POST"
                  action="/portlethtml/wp_create_issues.html" name="CREATEISSUE_FORM"
                  id="CREATEISSUE_FORM" novalidate="" savedaction="" savedtarget=""><input type="hidden"
                    id="CREATEISSUE_FORMV_ID" name="V_ID" value="293473333" savedvalue="">
                  <input type="hidden" id="CREATEISSUE_FORMCM" name="CM" value="" savedvalue="">


                  <div style="float:right;padding-top: 15px">

                  </div>
                  <h1><a class="button  textual   " id="domId_1953963305" style=""
                      href="/app/issue/issuelist?V_ID=542477828">创建问题</a>


                  </h1>
                  <div class="issueRow issueRowFocused">


                    <table id="issueCreateLine" width="100%" border="0">
                      <tbody>
                        <tr>

                          <td nowrap="" valign="top" colspan="3"><textarea name="ISSUE_DESCRIPTION"
                              id="ISSUE_DESCRIPTION" cols="70" rows="10" class="formElements"
                              style="height:123px;width:100%;" title="描述" required="true" oldvalue="1" maxlength="2000"
                              onkeyup="limitSize(this);" onkeydown="limitSize(this);"
                              onblur="limitSize(this);"></textarea></td>
                        </tr>
                        <tr>
                          <td colspan="3"><input type="text" name="ISSUE_TAGS" id="ISSUE_TAGS" placeholder="创建标签"
                              size="20" class="formElements tagBox" autocomplete="off" maxlength="255"
                              style="width:100%" taggableclass="com.twproject.task.Issue" maxresult="30"
                              tagpropertyname="tags" areaid="4957" value="" oldvalue="1"></td>
                        </tr>
                        <tr>
                          <td>
                            <div id="createIssues"><label for="ISSUE_TASK_txt" class="required">任务*</label><br><input
                                type="text" name="ISSUE_TASK_txt" id="ISSUE_TASK_txt" size="20"
                                class="formElements smartCombo" autocomplete="off" maxlength="255"
                                onfocus="createDropDown($(this),400,100); refreshDropDown ($(this).nextAll('.cbDropDown'),$(this)); setSelection(this,0,1024)"
                                onblur="finalizeOperation($(this).nextAll('.cbDropDown:first'),true,true );"
                                onkeydown="manageKeyEvent ($(this),event,true,true);" onkeypress="stopKeyEvent(event);"
                                value="" required="true"><span class="teamworkIcon menuArrow"
                                style="cursor:pointer; margin-left: -15px"
                                onclick="if ( $(this).prevAll('.cbDropDown:first').size()<=0) {$(this).prevAll('input:text:first').focus();} ">ù</span><input
                                type="hidden" name="ISSUE_TASK" id="ISSUE_TASK" size="10" class="formElements"
                                autocomplete="off" maxlength="255" jsppart="partSmartCombo" value="">
                            </div>
                          </td>
                          <td align="left" nowrap=""> </td>

                          <td><label for="ASSIGNED_BY_txt" class=" ">提问人</label><br><input type="text"
                              name="ASSIGNED_BY_txt" id="ASSIGNED_BY_txt" size="20" class="formElements smartCombo"
                              autocomplete="off" maxlength="255"
                              onfocus="createDropDown($(this),400,100); refreshDropDown ($(this).nextAll('.cbDropDown'),$(this)); setSelection(this,0,1024)"
                              onblur="finalizeOperation($(this).nextAll('.cbDropDown:first'),false,false );"
                              onkeydown="manageKeyEvent ($(this),event,false,false);" onkeypress="stopKeyEvent(event);"
                              value=""><span class="teamworkIcon menuArrow" style="cursor:pointer; margin-left: -15px"
                              onclick="if ( $(this).prevAll('.cbDropDown:first').size()<=0) {$(this).prevAll('input:text:first').focus();} ">ù</span><input
                              type="hidden" name="ASSIGNED_BY" id="ASSIGNED_BY" size="10" class="formElements"
                              autocomplete="off" maxlength="255" jsppart="partSmartCombo" value="" oldvalue="1">
                          </td>
                        </tr>
                        <tr>
                          <td>

                            <script type="text/javascript">

                              (function () {
                                var cvd = { values: [{ "code": "05_GRAVITY_BLOCK", "color": "#DB2727", "value": "中断", "enabled": true, "textColor": "#FFFFFF", "index": 1 }, { "code": "04_GRAVITY_CRITICAL", "color": "#8C6044", "value": "关键的", "enabled": true, "textColor": "#FFFFFF", "index": 2 }, { "code": "03_GRAVITY_HIGH", "color": "#F9791C", "value": "高", "enabled": true, "textColor": "#FFFFFF", "index": 3 }, { "code": "02_GRAVITY_MEDIUM", "color": "#F9C154", "value": "中", "enabled": true, "textColor": "#000000", "index": 4 }, { "code": "01_GRAVITY_LOW", "color": "#EEEEEE", "value": "低", "enabled": true, "textColor": "#000000", "index": 5 }] };


                                _colorValueData["ISSGRLIN"] = cvd;

                              })();
                            </script>



                            <label for="domId_791801241">级别</label><br>
                            <div class="cvcComponent cvcDisplayValue cvcShowOpener " style="cursor:pointer;"
                              cvctype="ISSGRLIN" displayvalue="true"> <input type="hidden" name="ISSUE_GRAVITY"
                                id="ISSUE_GRAVITY" size="2" class="formElements" autocomplete="off" maxlength="255"
                                value="03_GRAVITY_HIGH" oldvalue="1">
                              <div class="cvcColorSquare" onclick="cvc_clickColValSel($(this),event);">
                                <div class="cvcStatuses ellipsis">
                                  <div class="cvcSelBox " title="高" code="03_GRAVITY_HIGH"
                                    style=" color:#FFFFFF;background-color:#F9791C"><span
                                      class="cvcDescription">高</span></div>
                                </div><span class="teamworkIcon menuArrow">ù</span>
                              </div>

                            </div>
                          </td>
                          <td valign="top">

                            <script type="text/javascript">

                              (function () {
                                var cvd = { values: [{ "code": "11122", "color": "#3BBF67", "value": "open", "enabled": true, "textColor": "#FFFFFF", "index": 1 }, { "code": "11123", "color": "#6EBEF4", "value": "closed", "enabled": true, "textColor": "#000000", "index": 2 }, { "code": "11124", "color": "#763A96", "value": "aborted", "enabled": true, "textColor": "#FFFFFF", "index": 3 }] };


                                _colorValueData["STATUSLINE"] = cvd;

                              })();
                            </script>



                            <label for="domId_1911591408">问题状态</label><br>
                            <div class="cvcComponent cvcDisplayValue cvcShowOpener " style="cursor:pointer;"
                              cvctype="STATUSLINE" displayvalue="true"> <input type="hidden" name="ISSUE_STATUS"
                                id="ISSUE_STATUS" size="2" class="formElements" autocomplete="off" maxlength="255"
                                value="11122" oldvalue="1">
                              <div class="cvcColorSquare" onclick="cvc_clickColValSel($(this),event);">
                                <div class="cvcStatuses ellipsis">
                                  <div class="cvcSelBox " title="open" code="11122"
                                    style=" color:#FFFFFF;background-color:#3BBF67"><span
                                      class="cvcDescription">open</span></div>
                                </div><span class="teamworkIcon menuArrow">ù</span>
                              </div>

                            </div>
                          </td>

                          <td>
                            <label for="ISSUE_DATE_CLOSE_BY" class=" ">截止日期</label><br><input type="text"
                              name="ISSUE_DATE_CLOSE_BY" id="ISSUE_DATE_CLOSE_BY" size="8"
                              class="formElements dateField validated date" autocomplete="off" maxlength="255"
                              onchange="$(this).oneTime(100,'dfblur',function(){if ($(this).is('.formElementsError')) {$(this).focus();} });"
                              format="yyyy-M-d" value="" oldvalue="1" entrytype="DATE" maxvalue="3020-6-5"
                              minvalue="1020-5-15"><span title="日历" id="ISSUE_DATE_CLOSE_BYs_inputDate"
                              class="teamworkIcon openCalendar"
                              onclick="var inp=$(this).prevAll(':input:first');$(this).dateField({inputField:inp,dateFormat:inp.attr('format'),isSearchField:false,minDate:inp.attr('minValue'),maxDate:inp.attr('maxValue'),disableHolidays:false});">m</span>

                          </td>
                        </tr>

                      </tbody>
                    </table>
                    <div class="editButton">
                      <div class="noprint buttonArea notFix" id="domId_1328032890" style="text-align:left;">
                        <div class="bbButtons"><button type="button" class="button noprint    first"
                            id="domId_1451238959" style=""
                            onclick="saveAndReloadIssues($(this));return false; ">保存</button>

                        </div>
                      </div>
                    </div>
                  </div>

                </form>
              </div>
            </div>
            <div portletid="12" id="LEFT12" class="portletContainer">
              <div id="myAssigsExDiv" style="">
                <form enctype="application/x-www-form-urlencoded" method="POST"
                  action="/portlethtml/wp_myAssignments.html" name="MYASSIGS_FORM"
                  id="MYASSIGS_FORM" savedaction="" savedtarget=""><input type="hidden" id="MYASSIGS_FORMV_ID"
                    name="V_ID" value="400079675" savedvalue="">
                  <input type="hidden" id="MYASSIGS_FORMCM" name="CM" value="" savedvalue="">

                  <div class="portletBox wp_myAssignemnt">
                    <style type="text/css">
                      .wp_myAssignemnt #wp_myAssig_table .facesBox {
                        white-space: nowrap;
                      }
                    </style>

                    <div style="float:right" class="portletParamIcons">

                      &nbsp;<button type="button" class="button noprint textual icon  ruzzol" id="domId_417703829"
                        style="" title="过滤" onclick="$('#myAssigs').toggle();return false; "><span
                          class="teamworkIcon ">g</span></button>


                    </div>
                    <h1><a class="button  textual   " id="domId_1543269185" style="" title="我的分工"
                        href="/app/task/taskList?V_ID=592232830">我的分工</a>

                    </h1>

                    <div class="portletParams" id="myAssigs" style="display:none;"><input type="hidden"
                        name="ASSIG_SHOW_NOTACTIVE" id="ASSIG_SHOW_NOTACTIVE" size="1" autocomplete="off"
                        maxlength="255" data-checkfield="" value="no" oldvalue="1"><input type="checkbox"
                        id="ck_ASSIG_SHOW_NOTACTIVE" name="ck_ASSIG_SHOW_NOTACTIVE" value="yes"
                        onclick="$(this).prevAll('[type=hidden]:first').val(this.checked ? 'yes' : 'no');obj('MYASSIGS_FORMCM').value='';ajaxSubmit('MYASSIGS_FORM','myAssigsExDiv');">
                      <label for="ck_ASSIG_SHOW_NOTACTIVE">显示非活动分工</label>&nbsp;&nbsp;&nbsp;&nbsp;<label
                        for="ASSIG_SHOW_HORIZON" class=" ">显示分工:</label>&nbsp;<input type="text"
                        name="ASSIG_SHOW_HORIZON" id="ASSIG_SHOW_HORIZON" size="4" class="formElements"
                        autocomplete="off" maxlength="255"
                        onblur="obj('MYASSIGS_FORMCM').value='';ajaxSubmit('MYASSIGS_FORM','myAssigsExDiv');" value="6"
                        oldvalue="1"><input type="text" style="display:none;"></div>
                    <table class="table" id="wp_myAssig_table">
                      <thead class="dataTableHead" style="">
                        <tr>
                          <th class="tableHead" colspan="2" id="wpMAputFilerHere">
                            <div class="tableFilterElementBox"><input id="tableFilterField_7025" type="text"
                                class="formElements formElementsSmall tableFilterElementBox-input" autocomplete="off"
                                rowselector="#wp_myAssig_table .assigRow" cellselector=".columnTaskName,.columnTaskCode"
                                onkeyup="tableFilter($('#tableFilterField_7025'))"><span
                                class="button noprint textual icon tableFilterElementBox-search" data-search=""><span
                                  class="teamworkIcon">L</span></span><span
                                class="button noprint textual icon tableFilterElementBox-close" data-close=""><span
                                  class="teamworkIcon">x</span></span></div><span class="tableHeadEl">任务</span>
                          </th>
                          <th class="tableHead"><span class="tableHeadEl">角色</span></th>
                          <th class="tableHead"><span class="tableHeadEl lreq20 lreqLabel">优先</span></th>
                          <th class="tableHead"><span class="tableHeadEl">问题</span></th>
                          <th class="tableHead"><span class="tableHeadEl">已完成工时</span></th>
                          <th class="tableHead lreq20 lreqHide">&nbsp;</th>
                          <th class="tableHead">&nbsp;</th>
                          <th class="tableHead"><span class="tableHeadEl">项目小组</span></th>
                          <th class="tableHead" style="width: 5px;"><span class="tableHeadEl">%</span></th>
                        </tr>
                      </thead>
                      <tbody class="myAssigsEvidence">

                        <tr assid="25266" class="assigRow alternate expired">
                          <td class="columnTaskName" style="position: relative;">
                            <div class="taskColored" style="background-color: #cf0b0b;"></div>
                            <div class="pathSmall"><span class="pathEl"></span></div>


                            <a class="button  textual   bolder" id="domId_1123719179" style=""
                              title="T45758 - 后“双创”时期海口夜间经济发展质量满意度评价及机制构建 ['Project manager']"
                              href="/app/taskOverview.html??V_ID=382675193&amp;CM=ED&amp;OBJID=45758">后“双创”时期海口夜间经济发展质量满意度评价及机制构建</a>


                          </td>
                          <td class="textSmall columnTaskCode" title="T45758"><span>T45758</span></td>
                          <td align="center" title="Project manager&nbsp;(同方知网)">PM</td>
                          <td align="center" class="lreq20">
                            <div class="cvcColorSquare priorityLabel" style="background-color: #a0a0a0;" title="低">低
                            </div>
                          </td>
                          <td align="right">0/0&nbsp;<a class="button  textual   " id="domId_429198828" style=""
                              href="/app/issue/issuelist?V_ID=2026641854&amp;CM=FN&amp;FLT_ISSUE_TASK=45758&amp;FLT_ISSUE_STATUS=BEHAVES_AS_OPEN_ALL"></a>


                          </td>
                          <td align="right"><span class="wlg">0:00</span> <button type="button"
                              class="button noprint textual icon  " id="domId_1500412141" style="" title="新增的工作日志"
                              onclick="openWorklogEditorPopup($(this),{assId:'25266',title:'T45758 - 后“双创”时期海口夜间经济发展质量满...'});return false; "><span
                                class="teamworkIcon ">w</span></button>

                          </td>
                          <td class="lreq20 lreqHide"><button type="button" class="button noprint textual icon  "
                              id="domId_1673870713" style="" title="增加费用"
                              onclick="openExpenseEditorPopup($(this),{assId:'25266',title:'T45758 - 后“双创”时期海口夜间经济发展质量满...'});return false; "><span
                                class="teamworkIcon ">4</span></button>

                          </td>
                          <td nowrap="" align="center"></td>

                          <td>
                            <div class="facesBox"><span class="button buttonImg  " id="domId_255780326" style=" "
                                onclick="stopBubble(event);try{ window.open('/app/task/taskAssignmentList.html?V_ID=264835603&amp;CM=LIST_ASSIGS&amp;TASK_ID=45758','_self','') } catch(e){};"><img
                                  src="/img/svgavatar?code=%E7%8E%89%E5%8F%B2&amp;fill=hsl%28240%2C70%25%2C80%25%29&amp;stroke=hsl%28240%2C90%25%2C20%25%29"
                                  border="0" name="d714205808" title="史 玉平 (SH)" alt="史 玉平 (SH)"
                                  id="d714205808" "="" resid=" 12771" class="face small active"></span>
                              <span class="button buttonImg  " id="domId_1505863037" style=" "
                                onclick="stopBubble(event);try{ window.open('/app/task/taskAssignmentList.html?V_ID=1242740186&amp;CM=LIST_ASSIGS&amp;TASK_ID=45758','_self','') } catch(e){};"><img
                                  src="/img/svgavatar?code=%E7%8E%89%E5%8F%B2&amp;fill=hsl%28240%2C70%25%2C80%25%29&amp;stroke=hsl%28240%2C90%25%2C20%25%29"
                                  border="0" name="d286755442" title="史 玉平 (PM)" alt="史 玉平 (PM)"
                                  id="d286755442" "="" resid=" 12771" class="face small active"></span>
                              <span class="button buttonImg  " id="domId_308355380" style=" "
                                onclick="stopBubble(event);try{ window.open('/app/task/taskAssignmentList.html?V_ID=144547115&amp;CM=LIST_ASSIGS&amp;TASK_ID=45758','_self','') } catch(e){};"><img
                                  src="/img/svgavatar?code=%E7%8E%89%E5%8F%B2&amp;fill=hsl%28240%2C70%25%2C80%25%29&amp;stroke=hsl%28240%2C90%25%2C20%25%29"
                                  border="0" name="d1389949172" title="史 玉平 (WK)" alt="史 玉平 (WK)"
                                  id="d1389949172" "="" resid=" 12771" class="face small active"></span>

                            </div>
                          </td>

                          <td class="textSmall" nowrap="" style="text-align: right">



                            <div style="width:45px;height:15px;position: relative" title="">
                              <div class="perc"
                                style="width:100%;height:15px;background-color:#E5E5E5;position:relative; border-radius:4px;display: inline-block; overflow:hidden;">
                                <div style="background-color:#9bcee6;width:0%;height:15px;"></div>
                                <div
                                  style="width: 100%;position: absolute; top:0;line-height: 100%; background:none; padding: 2px 3px; text-align: left;font-size:11px;color:#000000">
                                  0%</div>
                              </div>
                            </div>


                          </td>
                        </tr>




                        <tr assid="25238" class="assigRow alternate expired">
                          <td class="columnTaskName" style="position: relative;">

                            <div class="pathSmall"><span class="pathEl"></span></div>


                            <a class="button  textual   bolder" id="domId_641254378" style=""
                              title="Project001 - 我的一个项目 ['Customer']"
                              href="/app/taskOverview.html??V_ID=1115063368&amp;CM=ED&amp;OBJID=45684">我的一个项目</a>


                          </td>
                          <td class="textSmall columnTaskCode" title="Project001"><span>Project001</span></td>
                          <td align="center" title="Customer&nbsp;(同方知网)">SH</td>
                          <td align="center" class="lreq20">
                            <div class="cvcColorSquare priorityLabel" style="background-color: #a0a0a0;" title="低">低
                            </div>
                          </td>
                          <td align="right">0/1&nbsp;<a class="button  textual   " id="domId_1927722254" style=""
                              href="/app/issue/issuelist?V_ID=1635394647&amp;CM=FN&amp;FLT_ISSUE_TASK=45684&amp;FLT_ISSUE_STATUS=BEHAVES_AS_OPEN_ALL"></a>


                          </td>
                          <td align="right"><span class="wlg">0:00</span> <button type="button"
                              class="button noprint textual icon  " id="domId_434634176" style="" title="新增的工作日志"
                              onclick="openWorklogEditorPopup($(this),{assId:'25238',title:'Project001 - 我的一个项目'});return false; "><span
                                class="teamworkIcon ">w</span></button>

                          </td>
                          <td class="lreq20 lreqHide"><button type="button" class="button noprint textual icon  "
                              id="domId_1304712585" style="" title="增加费用"
                              onclick="openExpenseEditorPopup($(this),{assId:'25238',title:'Project001 - 我的一个项目'});return false; "><span
                                class="teamworkIcon ">4</span></button>

                          </td>
                          <td nowrap="" align="center"></td>

                          <td>
                            <div class="facesBox"><span class="button buttonImg  " id="domId_1828204865" style=" "
                                onclick="stopBubble(event);try{ window.open('/app/task/taskAssignmentList.html?V_ID=1106688076&amp;CM=LIST_ASSIGS&amp;TASK_ID=45684','_self','') } catch(e){};"><img
                                  src="/img/svgavatar?code=%E7%8E%89%E5%8F%B2&amp;fill=hsl%28240%2C70%25%2C80%25%29&amp;stroke=hsl%28240%2C90%25%2C20%25%29"
                                  border="0" name="d461012857" title="史 玉平 (SH)" alt="史 玉平 (SH)"
                                  id="d461012857" "="" resid=" 12771" class="face small active"></span>
                              <span class="button buttonImg  " id="domId_750626665" style=" "
                                onclick="stopBubble(event);try{ window.open('/app/task/taskAssignmentList.html?V_ID=1991809924&amp;CM=LIST_ASSIGS&amp;TASK_ID=45684','_self','') } catch(e){};"><img
                                  src="/img/svgavatar?code=%E7%8E%89%E5%8F%B2&amp;fill=hsl%28240%2C70%25%2C80%25%29&amp;stroke=hsl%28240%2C90%25%2C20%25%29"
                                  border="0" name="d505477748" title="史 玉平 (PM)" alt="史 玉平 (PM)"
                                  id="d505477748" "="" resid=" 12771" class="face small active"></span>
                              <span class="button buttonImg  " id="domId_1374303232" style=" "
                                onclick="stopBubble(event);try{ window.open('/app/task/taskAssignmentList.html?V_ID=1416529030&amp;CM=LIST_ASSIGS&amp;TASK_ID=45684','_self','') } catch(e){};"><img
                                  src="/img/svgavatar?code=%E7%8E%89%E5%8F%B2&amp;fill=hsl%28240%2C70%25%2C80%25%29&amp;stroke=hsl%28240%2C90%25%2C20%25%29"
                                  border="0" name="d805917639" title="史 玉平 (WK)" alt="史 玉平 (WK)"
                                  id="d805917639" "="" resid=" 12771" class="face small active"></span>

                            </div>
                          </td>

                          <td class="textSmall" nowrap="" style="text-align: right">



                            <div style="width:45px;height:15px;position: relative" title="">
                              <div class="perc"
                                style="width:100%;height:15px;background-color:#E5E5E5;position:relative; border-radius:4px;display: inline-block; overflow:hidden;">
                                <div style="background-color:#9bcee6;width:0%;height:15px;"></div>
                                <div
                                  style="width: 100%;position: absolute; top:0;line-height: 100%; background:none; padding: 2px 3px; text-align: left;font-size:11px;color:#000000">
                                  0%</div>
                              </div>
                            </div>


                          </td>
                        </tr>


                      </tbody>

                      <tbody>
                        <tr assid="25258" class="assigRow alternate ">
                          <td class="columnTaskName" style="position: relative;">
                            <div class="taskColored" style="background-color: #0c40a3;"></div>
                            <div class="pathSmall"><span class="pathEl"></span></div>


                            <a class="button  textual   bolder" id="domId_613831456" style=""
                              title="SH001 - 2020年度上海市人民政府决策咨询研究教育政策专项 ['Project manager']"
                              href="/app/taskOverview.html??V_ID=1825907741&amp;CM=ED&amp;OBJID=45747">2020年度上海市人民政府决策咨询研究教育政策专项</a>


                          </td>
                          <td class="textSmall columnTaskCode" title="SH001"><span>SH001</span></td>
                          <td align="center" title="Project manager&nbsp;(同方知网)">PM</td>
                          <td align="center" class="lreq20">
                            <div class="cvcColorSquare priorityLabel" style="background-color: #a0a0a0;" title="低">低
                            </div>
                          </td>
                          <td align="right">1/1&nbsp;<a class="button  textual   " id="domId_490087357" style=""
                              href="/app/issue/issuelist?V_ID=2011570011&amp;CM=FN&amp;FLT_ISSUE_TASK=45747&amp;FLT_ISSUE_STATUS=BEHAVES_AS_OPEN_ALL"></a>


                          </td>
                          <td align="right"><span class="wlg">1:00</span> <button type="button"
                              class="button noprint textual icon  " id="domId_622120156" style="" title="新增的工作日志"
                              onclick="openWorklogEditorPopup($(this),{assId:'25258',title:'SH001 - 2020年度上海市人民政府决策咨询研究...'});return false; "><span
                                class="teamworkIcon ">w</span></button>

                          </td>
                          <td class="lreq20 lreqHide"><button type="button" class="button noprint textual icon  "
                              id="domId_2023068296" style="" title="增加费用"
                              onclick="openExpenseEditorPopup($(this),{assId:'25258',title:'SH001 - 2020年度上海市人民政府决策咨询研究...'});return false; "><span
                                class="teamworkIcon ">4</span></button>

                          </td>
                          <td nowrap="" align="center"></td>

                          <td>
                            <div class="facesBox"><span class="button buttonImg  " id="domId_1956146066" style=" "
                                onclick="stopBubble(event);try{ window.open('/app/task/taskAssignmentList.html?V_ID=499153231&amp;CM=LIST_ASSIGS&amp;TASK_ID=45747','_self','') } catch(e){};"><img
                                  src="/img/svgavatar?code=%E7%8E%89%E5%8F%B2&amp;fill=hsl%28240%2C70%25%2C80%25%29&amp;stroke=hsl%28240%2C90%25%2C20%25%29"
                                  border="0" name="d1732151912" title="史 玉平 (SH)" alt="史 玉平 (SH)"
                                  id="d1732151912" "="" resid=" 12771" class="face small active"></span>
                              <span class="button buttonImg  " id="domId_1197228235" style=" "
                                onclick="stopBubble(event);try{ window.open('/app/task/taskAssignmentList.html?V_ID=1986912741&amp;CM=LIST_ASSIGS&amp;TASK_ID=45747','_self','') } catch(e){};"><img
                                  src="/img/svgavatar?code=%E7%8E%89%E5%8F%B2&amp;fill=hsl%28240%2C70%25%2C80%25%29&amp;stroke=hsl%28240%2C90%25%2C20%25%29"
                                  border="0" name="d2006709324" title="史 玉平 (PM)" alt="史 玉平 (PM)"
                                  id="d2006709324" "="" resid=" 12771" class="face small active"></span>
                              <span class="button buttonImg  " id="domId_671727137" style=" "
                                onclick="stopBubble(event);try{ window.open('/app/task/taskAssignmentList.html?V_ID=3459366&amp;CM=LIST_ASSIGS&amp;TASK_ID=45747','_self','') } catch(e){};"><img
                                  src="/img/svgavatar?code=%E7%8E%89%E5%8F%B2&amp;fill=hsl%28240%2C70%25%2C80%25%29&amp;stroke=hsl%28240%2C90%25%2C20%25%29"
                                  border="0" name="d1796845966" title="史 玉平 (WK)" alt="史 玉平 (WK)"
                                  id="d1796845966" "="" resid=" 12771" class="face small active"></span>

                            </div>
                          </td>

                          <td class="textSmall" nowrap="" style="text-align: right">



                            <div style="width:45px;height:15px;position: relative" title="">
                              <div class="perc"
                                style="width:100%;height:15px;background-color:#E5E5E5;position:relative; border-radius:4px;display: inline-block; overflow:hidden;">
                                <div style="background-color:#9bcee6;width:0%;height:15px;"></div>
                                <div
                                  style="width: 100%;position: absolute; top:0;line-height: 100%; background:none; padding: 2px 3px; text-align: left;font-size:11px;color:#000000">
                                  0%</div>
                              </div>
                            </div>


                          </td>
                        </tr>




                        <tr assid="25244" class="assigRow alternate ">
                          <td class="columnTaskName" style="position: relative;">
                            <div class="taskColored" style="background-color: #75a9ff;"></div>
                            <div class="pathSmall"><span class="pathEl">Production Project</span></div>


                            <a class="button  textual   bolder" id="domId_755952195" style=""
                              title="T1791.01 - Collect Customer Requirements ['Worker']"
                              href="/app/taskOverview.html??V_ID=724507793&amp;CM=ED&amp;OBJID=45675">Collect
                              Customer Requirements</a>


                          </td>
                          <td class="textSmall columnTaskCode" title="T1791.01"><span>T1791.01</span></td>
                          <td align="center" title="Worker&nbsp;(同方知网)">WK</td>
                          <td align="center" class="lreq20">
                            <div class="cvcColorSquare priorityLabel" style="background-color: #a0a0a0;" title="低">低
                            </div>
                          </td>
                          <td align="right">2/3&nbsp;<a class="button  textual   " id="domId_570198461" style=""
                              href="/app/issue/issuelist?V_ID=778629121&amp;CM=FN&amp;FLT_ISSUE_TASK=45675&amp;FLT_ISSUE_STATUS=BEHAVES_AS_OPEN_ALL"></a>


                          </td>
                          <td align="right"><span class="wlg">2:00</span> <button type="button"
                              class="button noprint textual icon  " id="domId_1801775476" style="" title="新增的工作日志"
                              onclick="openWorklogEditorPopup($(this),{assId:'25244',title:'T1791.01 - Collect Customer...'});return false; "><span
                                class="teamworkIcon ">w</span></button>

                          </td>
                          <td class="lreq20 lreqHide"><button type="button" class="button noprint textual icon  "
                              id="domId_773518785" style="" title="增加费用"
                              onclick="openExpenseEditorPopup($(this),{assId:'25244',title:'T1791.01 - Collect Customer...'});return false; "><span
                                class="teamworkIcon ">4</span></button>

                          </td>
                          <td nowrap="" align="center"></td>

                          <td>
                            <div class="facesBox"><span class="button buttonImg  " id="domId_755997698" style=" "
                                onclick="stopBubble(event);try{ window.open('/app/task/taskAssignmentList.html?V_ID=808555563&amp;CM=LIST_ASSIGS&amp;TASK_ID=45675','_self','') } catch(e){};"><img
                                  src="/img/svgavatar?code=%E6%96%B9%E6%96%B9&amp;fill=hsl%28300%2C70%25%2C80%25%29&amp;stroke=hsl%28300%2C90%25%2C20%25%29"
                                  border="0" name="d53638095" title="方方之网 (WK)" alt="方方之网 (WK)"
                                  id="d53638095" "="" resid=" 12772" class="face small "></span>
                              <span class="button buttonImg  " id="domId_116829125" style=" "
                                onclick="stopBubble(event);try{ window.open('/app/task/taskAssignmentList.html?V_ID=1275070879&amp;CM=LIST_ASSIGS&amp;TASK_ID=45675','_self','') } catch(e){};"><img
                                  src="/img/svgavatar?code=%E7%8E%89%E5%8F%B2&amp;fill=hsl%28240%2C70%25%2C80%25%29&amp;stroke=hsl%28240%2C90%25%2C20%25%29"
                                  border="0" name="d1488638857" title="史 玉平 (WK)" alt="史 玉平 (WK)"
                                  id="d1488638857" "="" resid=" 12771" class="face small active"></span>

                            </div>
                          </td>

                          <td class="textSmall" nowrap="" style="text-align: right">



                            <div style="width:45px;height:15px;position: relative" title="">
                              <div class="perc"
                                style="width:100%;height:15px;background-color:#E5E5E5;position:relative; border-radius:4px;display: inline-block; overflow:hidden;">
                                <div style="background-color:#9bcee6;width:0%;height:15px;"></div>
                                <div
                                  style="width: 100%;position: absolute; top:0;line-height: 100%; background:none; padding: 2px 3px; text-align: left;font-size:11px;color:#000000">
                                  0%</div>
                              </div>
                            </div>


                          </td>
                        </tr>




                        <tr assid="25236" class="assigRow alternate ">
                          <td class="columnTaskName" style="position: relative;">
                            <div class="taskColored" style="background-color: #75a9ff;"></div>
                            <div class="pathSmall"><span class="pathEl"></span></div>


                            <a class="button  textual   bolder" id="domId_320882930" style=""
                              title="T1791 - Production Project ['Project manager']"
                              href="/app/taskOverview.html??V_ID=93031603&amp;CM=ED&amp;OBJID=45674">Production
                              Project</a>


                          </td>
                          <td class="textSmall columnTaskCode" title="T1791"><span>T1791</span></td>
                          <td align="center" title="Project manager&nbsp;(同方知网)">PM</td>
                          <td align="center" class="lreq20">
                            <div class="cvcColorSquare priorityLabel" style="background-color: #a0a0a0;" title="低">低
                            </div>
                          </td>
                          <td align="right">8/9&nbsp;<a class="button  textual   " id="domId_614251510" style=""
                              href="/app/issue/issuelist?V_ID=2123861242&amp;CM=FN&amp;FLT_ISSUE_TASK=45674&amp;FLT_ISSUE_STATUS=BEHAVES_AS_OPEN_ALL"></a>


                          </td>
                          <td align="right"><span class="wlg">0:00</span> <button type="button"
                              class="button noprint textual icon  " id="domId_262713860" style="" title="新增的工作日志"
                              onclick="openWorklogEditorPopup($(this),{assId:'25236',title:'T1791 - Production Project'});return false; "><span
                                class="teamworkIcon ">w</span></button>

                          </td>
                          <td class="lreq20 lreqHide"><button type="button" class="button noprint textual icon  "
                              id="domId_205466788" style="" title="增加费用"
                              onclick="openExpenseEditorPopup($(this),{assId:'25236',title:'T1791 - Production Project'});return false; "><span
                                class="teamworkIcon ">4</span></button>

                          </td>
                          <td nowrap="" align="center"></td>

                          <td>
                            <div class="facesBox"><span class="button buttonImg  " id="domId_1299262036" style=" "
                                onclick="stopBubble(event);try{ window.open('/app/task/taskAssignmentList.html?V_ID=460698200&amp;CM=LIST_ASSIGS&amp;TASK_ID=45674','_self','') } catch(e){};"><img
                                  src="/img/svgavatar?code=%E7%8E%89%E5%8F%B2&amp;fill=hsl%28240%2C70%25%2C80%25%29&amp;stroke=hsl%28240%2C90%25%2C20%25%29"
                                  border="0" name="d931636026" title="史 玉平 (PM)" alt="史 玉平 (PM)"
                                  id="d931636026" "="" resid=" 12771" class="face small active"></span>

                            </div>
                          </td>

                          <td class="textSmall" nowrap="" style="text-align: right">



                            <div style="width:45px;height:15px;position: relative" title="">
                              <div class="perc"
                                style="width:100%;height:15px;background-color:#E5E5E5;position:relative; border-radius:4px;display: inline-block; overflow:hidden;">
                                <div style="background-color:#9bcee6;width:0%;height:15px;"></div>
                                <div
                                  style="width: 100%;position: absolute; top:0;line-height: 100%; background:none; padding: 2px 3px; text-align: left;font-size:11px;color:#000000">
                                  0%</div>
                              </div>
                            </div>


                          </td>
                        </tr>




                        <tr assid="25255" class="assigRow alternate ">
                          <td class="columnTaskName" style="position: relative;">

                            <div class="pathSmall"><span class="pathEl"></span></div>


                            <a class="button  textual   bolder" id="domId_492929166" style=""
                              title="HN001 - 河南省教育厅2021年度河南省高等学校重点科研项目 ['Project manager']"
                              href="/app/taskOverview.html??V_ID=1709050748&amp;CM=ED&amp;OBJID=45746">河南省教育厅2021年度河南省高等学校重点科研项目</a>


                          </td>
                          <td class="textSmall columnTaskCode" title="HN001"><span>HN001</span></td>
                          <td align="center" title="Project manager&nbsp;(同方知网)">PM</td>
                          <td align="center" class="lreq20">
                            <div class="cvcColorSquare priorityLabel" style="background-color: #a0a0a0;" title="低">低
                            </div>
                          </td>
                          <td align="right">0/0&nbsp;<a class="button  textual   " id="domId_1422143011" style=""
                              href="/app/issue/issuelist?V_ID=193708477&amp;CM=FN&amp;FLT_ISSUE_TASK=45746&amp;FLT_ISSUE_STATUS=BEHAVES_AS_OPEN_ALL"></a>


                          </td>
                          <td align="right"><span class="wlg">0:00</span> <button type="button"
                              class="button noprint textual icon  " id="domId_73164087" style="" title="新增的工作日志"
                              onclick="openWorklogEditorPopup($(this),{assId:'25255',title:'HN001 - 河南省教育厅2021年度河南省高等学校...'});return false; "><span
                                class="teamworkIcon ">w</span></button>

                          </td>
                          <td class="lreq20 lreqHide"><button type="button" class="button noprint textual icon  "
                              id="domId_1308164125" style="" title="增加费用"
                              onclick="openExpenseEditorPopup($(this),{assId:'25255',title:'HN001 - 河南省教育厅2021年度河南省高等学校...'});return false; "><span
                                class="teamworkIcon ">4</span></button>

                          </td>
                          <td nowrap="" align="center"></td>

                          <td>
                            <div class="facesBox"><span class="button buttonImg  " id="domId_1822318385" style=" "
                                onclick="stopBubble(event);try{ window.open('/app/task/taskAssignmentList.html?V_ID=1471852828&amp;CM=LIST_ASSIGS&amp;TASK_ID=45746','_self','') } catch(e){};"><img
                                  src="/img/svgavatar?code=%E5%B0%8F%E5%B0%8F&amp;fill=hsl%28360%2C70%25%2C80%25%29&amp;stroke=hsl%28360%2C90%25%2C20%25%29"
                                  border="0" name="d931575355" title="小A 小AA (SH)" alt="小A 小AA (SH)"
                                  id="d931575355" "="" resid=" 12773" class="face small "></span>
                              <span class="button buttonImg  " id="domId_566350403" style=" "
                                onclick="stopBubble(event);try{ window.open('/app/task/taskAssignmentList.html?V_ID=109196685&amp;CM=LIST_ASSIGS&amp;TASK_ID=45746','_self','') } catch(e){};"><img
                                  src="/img/svgavatar?code=%E7%8E%89%E5%8F%B2&amp;fill=hsl%28240%2C70%25%2C80%25%29&amp;stroke=hsl%28240%2C90%25%2C20%25%29"
                                  border="0" name="d697096434" title="史 玉平 (PM)" alt="史 玉平 (PM)"
                                  id="d697096434" "="" resid=" 12771" class="face small active"></span>
                              <span class="button buttonImg  " id="domId_1317650257" style=" "
                                onclick="stopBubble(event);try{ window.open('/app/task/taskAssignmentList.html?V_ID=890711813&amp;CM=LIST_ASSIGS&amp;TASK_ID=45746','_self','') } catch(e){};"><img
                                  src="/img/svgavatar?code=%E5%B0%8F%E5%B0%8F&amp;fill=hsl%2860%2C70%25%2C80%25%29&amp;stroke=hsl%2860%2C90%25%2C20%25%29"
                                  border="0" name="d335133820" title="小B 小BB (WK)" alt="小B 小BB (WK)"
                                  id="d335133820" "="" resid=" 12774" class="face small "></span>

                            </div>
                          </td>

                          <td class="textSmall" nowrap="" style="text-align: right">



                            <div style="width:45px;height:15px;position: relative" title="">
                              <div class="perc"
                                style="width:100%;height:15px;background-color:#E5E5E5;position:relative; border-radius:4px;display: inline-block; overflow:hidden;">
                                <div style="background-color:#9bcee6;width:0%;height:15px;"></div>
                                <div
                                  style="width: 100%;position: absolute; top:0;line-height: 100%; background:none; padding: 2px 3px; text-align: left;font-size:11px;color:#000000">
                                  0%</div>
                              </div>
                            </div>


                          </td>
                        </tr>




                        <tr assid="25261" class="assigRow alternate ">
                          <td class="columnTaskName" style="position: relative;">

                            <div class="pathSmall"><span class="pathEl"></span></div>


                            <a class="button  textual   bolder" id="domId_1621370570" style=""
                              title="HK - 海口入境旅游及客源市场的季节性特征研究 ['Project manager']"
                              href="/app/taskOverview.html??V_ID=1568219710&amp;CM=ED&amp;OBJID=45748">海口入境旅游及客源市场的季节性特征研究</a>


                          </td>
                          <td class="textSmall columnTaskCode" title="HK"><span>HK</span></td>
                          <td align="center" title="Project manager&nbsp;(同方知网)">PM</td>
                          <td align="center" class="lreq20">
                            <div class="cvcColorSquare priorityLabel" style="background-color: #a0a0a0;" title="低">低
                            </div>
                          </td>
                          <td align="right">0/0&nbsp;<a class="button  textual   " id="domId_1001866339" style=""
                              href="/app/issue/issuelist?V_ID=530753957&amp;CM=FN&amp;FLT_ISSUE_TASK=45748&amp;FLT_ISSUE_STATUS=BEHAVES_AS_OPEN_ALL"></a>


                          </td>
                          <td align="right"><span class="wlg">0:00</span> <button type="button"
                              class="button noprint textual icon  " id="domId_1882169308" style="" title="新增的工作日志"
                              onclick="openWorklogEditorPopup($(this),{assId:'25261',title:'HK - 海口入境旅游及客源市场的季节性特征研究'});return false; "><span
                                class="teamworkIcon ">w</span></button>

                          </td>
                          <td class="lreq20 lreqHide"><button type="button" class="button noprint textual icon  "
                              id="domId_1185439246" style="" title="增加费用"
                              onclick="openExpenseEditorPopup($(this),{assId:'25261',title:'HK - 海口入境旅游及客源市场的季节性特征研究'});return false; "><span
                                class="teamworkIcon ">4</span></button>

                          </td>
                          <td nowrap="" align="center"></td>

                          <td>
                            <div class="facesBox"><span class="button buttonImg  " id="domId_746404381" style=" "
                                onclick="stopBubble(event);try{ window.open('/app/task/taskAssignmentList.html?V_ID=1747816549&amp;CM=LIST_ASSIGS&amp;TASK_ID=45748','_self','') } catch(e){};"><img
                                  src="/img/svgavatar?code=%E7%8E%89%E5%8F%B2&amp;fill=hsl%28240%2C70%25%2C80%25%29&amp;stroke=hsl%28240%2C90%25%2C20%25%29"
                                  border="0" name="d723936362" title="史 玉平 (PM)" alt="史 玉平 (PM)"
                                  id="d723936362" "="" resid=" 12771" class="face small active"></span>

                            </div>
                          </td>

                          <td class="textSmall" nowrap="" style="text-align: right">



                            <div style="width:45px;height:15px;position: relative" title="">
                              <div class="perc"
                                style="width:100%;height:15px;background-color:#E5E5E5;position:relative; border-radius:4px;display: inline-block; overflow:hidden;">
                                <div style="background-color:#9bcee6;width:0%;height:15px;"></div>
                                <div
                                  style="width: 100%;position: absolute; top:0;line-height: 100%; background:none; padding: 2px 3px; text-align: left;font-size:11px;color:#000000">
                                  0%</div>
                              </div>
                            </div>


                          </td>
                        </tr>


                      </tbody>
                    </table>
                  </div>
                </form>



                <script type="text/javascript">

                  //bind for worklogSaved event
                  registerEvent("worklogEvent.wpMyAssignment", function (ev, data) {
                    //console.debug("worklogEvent.wpMyAssignment",data);
                    if (data.type == "save" && data.response && data.response.worklog)
                      $(".wp_myAssignemnt tr[assId=" + data.response.worklog.assId + "] .wlg").html(getMillisInHoursMinutes(data.response.worklog.totalWl));
                    else if (data.type == "delete")
                      refreshPortlet($(".wp_myAssignemnt"));
                  });


                  //inject the table search
                  createTableFilterElement($("#wpMAputFilerHere"), '#wp_myAssig_table .assigRow', '.columnTaskName,.columnTaskCode');

                </script>


              </div>
            </div>
            <div portletid="32" id="LEFT32" class="portletContainer">
              <div id="issueSBCExDiv" style="">

                <div class="portletBox">
                  <div style="float:right" class="portletParamIcons"><button type="button"
                      class="button noprint textual icon  ruzzol" id="domId_321135354" style="" title="过滤"
                      onclick="$('#issueSBCParam').toggle();return false; "><span
                        class="teamworkIcon ">g</span></button>

                  </div>
                  <h1>我的客户问题</h1>

                  <div class="portletParams" id="issueSBCParam" style="display:none;"><label
                      for="ck_SHOW_WHERE_IM_INVOLVED_ONLY_CUST">仅显示我参与的任务</label><input type="hidden"
                      name="SHOW_WHERE_IM_INVOLVED_ONLY_CUST" id="SHOW_WHERE_IM_INVOLVED_ONLY_CUST" size="1"
                      autocomplete="off" maxlength="255" data-checkfield="" value="yes" oldvalue="1"><input
                      type="checkbox" id="ck_SHOW_WHERE_IM_INVOLVED_ONLY_CUST"
                      name="ck_SHOW_WHERE_IM_INVOLVED_ONLY_CUST" checked="" value="yes"
                      onclick="$(this).prevAll('[type=hidden]:first').val(this.checked ? 'yes' : 'no');refreshPortlet($(this),{'SHOW_WHERE_IM_INVOLVED_ONLY_CUST':$('#SHOW_WHERE_IM_INVOLVED_ONLY_CUST').val()});">

                  </div>

                  <table class="table issueSummary" id="wp_issueSBCtable">
                    <thead class="dataTableHead" style="">
                      <tr>
                        <th class="tableHead" id="wpISBCputFilerHere"><span class="tableHeadEl">顾客</span></th>
                        <th class="tableHead" nowrap=""><span class="tableHeadEl">已发现的问题</span></th>
                        <th class="tableHead" nowrap=""><span class="tableHeadEl">过期</span></th>
                        <th class="tableHead" nowrap=""><span class="tableHeadEl">今天</span></th>
                        <th class="tableHead" nowrap=""><span class="tableHeadEl">中断</span></th>
                        <th class="tableHead" nowrap=""><span class="tableHeadEl">未分工</span></th>
                      </tr>
                    </thead>
                    <tbody>

                      <tr customerid="12771" class="alternate">
                        <td class="columnCustomerName" style="position: relative;" width="80%">
                          <a class="button  textual   bolder" id="domId_1904183374" style=""
                            href="/app/resource/resourceEditor.html?V_ID=1485068207&amp;CM=ED&amp;OBJID=12771">玉平
                            史</a>


                        </td>
                        <td align="center"><a class="issBtn issOpen"
                            href="/app/issue/issuelist?V_ID=1486409615&amp;CM=FN&amp;FLT_ISSUE_STATUS=BEHAVES_AS_OPEN_ALL&amp;CUST_ID=12771">1</a>
                        </td>
                        <td align="center"></td>
                        <td align="center"></td>
                        <td align="center"></td>
                        <td align="center"></td>


                      </tr>



                    </tbody>
                  </table>
                </div>

                <script type="text/javascript">
                  //inject the table search
                  //createTableFilterElement($("#wpMAputFilerHere"),'#wp_myAssig_table .assigRow','.columnTaskName,.columnTaskCode');

                  $("#wp_issueSBCtable [customerId] a.issBtn").each(function () {
                    var el = $(this);
                    if (el.text() == "") {
                      el.remove();
                    } else {
                      var row = el.closest("[customerId]");
                      var custId = row.attr("customerId");
                      var issExpired = el.is(".issExpired");
                      var issToday = el.is(".issToday");
                      var link = "/app/issue/issuelist?V_ID=1486409615&CM=FN&FLT_ISSUE_STATUS=BEHAVES_AS_OPEN_ALL&CUST_ID=" + custId;

                      if (issExpired) {
                        link += "&FLT_ISSUE_DATE_CLOSE_BY=" + encodeURIComponent("<t");
                      } else if (issToday) {
                        link += "&FLT_ISSUE_DATE_CLOSE_BY=" + encodeURIComponent("=t");
                      } else if (el.is(".issBlock")) {
                        link += "&FLT_ISSUE_GRAVITY=" + encodeURIComponent("05_GRAVITY_BLOCK");
                      } else if (el.is(".issUnassigned")) {
                        link += "&FLT_ISSUE_UNASSIGNED=yes";
                      } else {
                        // do nothing
                      }

                      el.prop("href", link);
                    }
                  });


                </script>
              </div>
            </div>
            <div portletid="22" id="LEFT22" class="portletContainer">
              <div id="wpPanicDiv" class="portletBox" style="">
                <form enctype="application/x-www-form-urlencoded" method="POST"
                  action="/portlethtml/wp_panicBoard.html" name="d1071438039" id="d1071438039"
                  savedaction="" savedtarget=""><input type="hidden" id="d1071438039V_ID" name="V_ID" value="1071438039"
                    savedvalue="">
                  <input type="hidden" id="d1071438039CM" name="CM" value="" savedvalue="">

                  <h1>恐慌板</h1>
                  <div style="display: inline-block; vertical-align: top;">&nbsp;
                    <script>
                      function letSubmitPANIC_TASK() {
                        $("#cntdwn").stopTime("ctd"); obj('d1071438039CM').value = ''; ajaxSubmit('d1071438039', 'wpPanicDiv');
                      }
                    </script><label for="PANIC_TASK_txt" class=" ">选择“抢”项目</label><input type="text" name="PANIC_TASK_txt"
                      id="PANIC_TASK_txt" placeholder="选择" size="40" class="formElements formElementsBig smartCombo"
                      autocomplete="off" maxlength="255"
                      onfocus="createDropDown($(this),400,100); refreshDropDown ($(this).nextAll('.cbDropDown'),$(this)); setSelection(this,0,1024)"
                      onblur="finalizeOperation($(this).nextAll('.cbDropDown:first'),false,false );" style="width:300px"
                      onkeydown="manageKeyEvent ($(this),event,false,false);" onkeypress="stopKeyEvent(event);"
                      value=""><span class="teamworkIcon menuArrow" style="cursor:pointer; margin-left: -15px"
                      onclick="if ( $(this).prevAll('.cbDropDown:first').size()<=0) {$(this).prevAll('input:text:first').focus();} ">ù</span><input
                      type="hidden" name="PANIC_TASK" id="PANIC_TASK" size="10" class="formElements" autocomplete="off"
                      maxlength="255" jsppart="partSmartCombo" value="" oldvalue="1">
                  </div>
                </form>
              </div>
            </div>
            <div portletid="18" id="LEFT18" class="portletContainer">
              <div id="wp_worklogDay" class="portletBox" style="">
                <div style="float:right"><button type="button" class="button noprint textual icon  "
                    id="domId_1979720760" style="" title="过滤"
                    onclick="$('#configWorklogDay').toggle();return false; "><span
                      class="teamworkIcon ">g</span></button>

                </div>
                <h1>今天的工作记录</h1>




                <div id="configWorklogDay" class="portletParams" style="display:none;">
                  <table class="table">
                    <tbody>
                      <tr>
                        <td><input type="hidden" name="WORKLOG_SHOW_TODAY" id="WORKLOG_SHOW_TODAY" size="1"
                            autocomplete="off" maxlength="255" data-checkfield="" value="yes" oldvalue="1"><input
                            type="checkbox" id="ck_WORKLOG_SHOW_TODAY" name="ck_WORKLOG_SHOW_TODAY" checked=""
                            value="yes"
                            onclick="$(this).prevAll('[type=hidden]:first').val(this.checked ? 'yes' : 'no');refreshPortlet($(this),{'WORKLOG_SHOW_TODAY':$('#WORKLOG_SHOW_TODAY').val()});">
                          &nbsp;<label for="ck_WORKLOG_SHOW_TODAY">显示今天的活动</label>&nbsp;</td>
                        <td></td>
                      </tr>
                    </tbody>
                  </table>
                </div>


                <table class="table">
                  <tbody>
                    <tr>
                      <td class="calHeader left">
                        <span class="button textual today noprint"
                          onclick="wpWLDGoToMillis(new Date().getTime())">今天</span>
                        <span class="button textual teamworkIcon"
                          onclick="wpWLDGoToMillis(new Date(focusMillis).add('d',-1).getTime())" title="前一天">{</span>
                        <span class="button textual teamworkIcon"
                          onclick="wpWLDGoToMillis(new Date(focusMillis).add('d',1).getTime())" title="后一天">}</span>
                      </td>
                      <td class="calHeader">
                        <h2 style="margin: 0" id="wpWLTIT">2020'年'5'月'28'日' 星期四 (今天)</h2>
                      </td>

                    </tr>
                  </tbody>
                </table>



                <table class="table" cellpadding="2" cellspacing="0" border="0">
                  <tbody id="wlDayRowPlace">
                    <tr wlid="5354" assid="25241" class="alternate" __template="WLDAYROW">
                      <td><button type="button" class="button noprint textual icon  " id="domId_684137130" style=""
                          onclick="openBlackPopup('/applications/teamwork/task/worklog/worklogAssignmentList.jsp?V_ID=1778387668&amp;CM=FN&amp;ASS_ID=25241');return false; "><span
                            class="teamworkIcon ">A</span></button> </td>
                      <td class="columnTaskName"><span>子任务一</span></td>
                      <td class="textSmall columnTaskCode"><span>Project001.01</span></td>
                      <td width="55%" align="center"><input type="TEXT" name="WLACT" id="WLACT" size="40"
                          class="formElements" autocomplete="off" maxlength="255" style="width:100%;overflow:hidden;"
                          value=""
                          onkeydown="if (event.keyCode==13) { $(this).blur();event.preventDefault();return false;}"
                          oldvalue="1"></td>
                      <td width="1%" align="center"><input type="text" name="WLDUR" id="WLDUR" size="5"
                          class="formElements validated durationmillis" autocomplete="off" maxlength="255" value="1:00"
                          onkeydown="if (event.keyCode==13) { $(this).blur();event.preventDefault();return false;}"
                          required="true" oldvalue="1" entrytype="DURATIONMILLIS"></td>
                      <td><button type="button" class="button noprint textual icon  delete" id="domId_1157999058"
                          style=""
                          onclick="$(this).confirm(function(){wpWLDDeleteWL($(this))},'您确实想删除这个工作记录?');return false; "><span
                            class="teamworkIcon ">d</span></button> </td>
                    </tr>
                  </tbody>



                  <tbody>
                    <tr class="alternate highlight" id="wlDayLineEdit">
                      <td width="95%" nowrap="" align="left" colspan="4">
                        <script>
                          function letSubmitASSIG() {
                            $(this).closest('tr').find('.button').click(); return false;
                          }
                        </script>&nbsp;<input type="text" name="ASSIG_txt" id="ASSIG_txt" placeholder="Which assignment" size="30"
                          class="formElements smartCombo" autocomplete="off" maxlength="255"
                          onfocus="createDropDown($(this),400,200); refreshDropDown ($(this).nextAll('.cbDropDown'),$(this)); setSelection(this,0,1024)"
                          onblur="finalizeOperation($(this).nextAll('.cbDropDown:first'),true,false );"
                          style="width:98%;" onkeydown="manageKeyEvent ($(this),event,true,false);"
                          onkeypress="stopKeyEvent(event);" value="" required="true"><span
                          class="teamworkIcon menuArrow" style="cursor:pointer; margin-left: -15px"
                          onclick="if ( $(this).prevAll('.cbDropDown:first').size()<=0) {$(this).prevAll('input:text:first').focus();} ">ù</span><input
                          type="hidden" name="ASSIG" id="ASSIG" size="10" class="formElements" autocomplete="off"
                          maxlength="255" jsppart="partSmartCombo" value="" required="true" oldvalue="1">
                      </td>
                      <td width="5%" align="center" colspan="2"><button type="button"
                          class="button noprint textual icon  " id="domId_1543890424" style=""
                          onclick="wpWDAddWl($(this));return false; "><span class="teamworkIcon ">w</span></button>

                      </td>
                    </tr>



                    <tr class="totals">
                      <td colspan="4" align="right">每天工作记录总计</td>
                      <td id="wpWLDtotWorklog" colspan="2">1:00 (-7:00)</td>
                    </tr>
                  </tbody>
                </table>

              </div>






              <script type="text/javascript" style="display: none;">
                var focusMillis = 1590638471566;
                var workable = 0;
                var notBeyond = 1588046471566;
                var notFutureBeyond = 1591243271566;

                (function startup() {

                  //listen for worklogEvent
                  registerEvent("worklogEvent.wpWoklogDay", function (e, data) {
                    wpWLDGoToMillis(focusMillis);
                  });


                  $("#wp_WLDayTemplates").loadTemplates().remove();
                  $.JST.loadDecorator("WLDAYROW", function (row, wl) {
                    row.find("#WLACT").val(wl.action);

                    if (wl.insertedMillis && wl.insertedMillis >= notBeyond && wl.insertedMillis < notFutureBeyond) {
                      row.find(":input").blur(function () {
                        wlDSaveWl($(this));
                      });
                    } else {
                      row.find(":input").prop("disabled", true); //disabilita le righe nel passato
                      //row.find("span.delete").remove();
                    }
                  });
                  wpWLDGoToMillis(focusMillis);

                })();


                function wpWLDDrawRows(response) {
                  //console.debug("wpWLDDrawRows",response);
                  var focusDate = new Date(focusMillis);

                  $("#wpWLTIT").html(focusDate.format(Date.masks.fullDate) + (focusDate.isToday() ? " (今天)" : ""));

                  var tbodyRows = $("#wlDayRowPlace").empty();

                  for (var i = 0; i < response.worklogs.length; i++) {
                    tbodyRows.append($.JST.createFromTemplate(response.worklogs[i], "WLDAYROW"));
                  }
                  workable = response.workable;
                  wpWLDUpdateTotals();
                }

                function wpWLDGoToMillis(millis) {
                  focusMillis = millis;
                  showSavingMessage();
                  $.getJSON(contextPath + "/worklog/worklogAjax", { CM: "LISTWL1DAY", "FOCUS_MILLIS": focusMillis }, function (response) {
                    jsonResponseHandling(response);
                    if (response.ok) {
                      wpWLDDrawRows(response);
                    }
                    hideSavingMessage();
                  });

                  //si disabilita la riga di input se troppo nel passato
                  $("#wlDayLineEdit :input").attr("disabled", focusMillis < notBeyond)
                }

                function wpWLDUpdateTotals() {
                  var tot = 0;
                  $("#wlDayRowPlace [name=WLDUR]").each(function () {
                    var el = $(this);
                    tot += millisFromString(el.val(), true);
                  });
                  var diff = tot - workable;
                  var diffStr = getMillisInHoursMinutes(tot - workable);
                  $("#wpWLDtotWorklog").html(getMillisInHoursMinutes(tot) + ((Math.abs(diff) < 5 ? "" : " (" + (diff > 0 ? "+" : "") + diffStr + ")")));

                  $(window).resize();

                }


                function wlDSaveWl(el) {
                  //console.debug("wlDSaveWl")
                  var row = el.closest("[wlId]");
                  var durField = row.find("[name=WLDUR]");
                  if (el.isValueChanged() && durField.validateField()) {
                    showSavingMessage();
                    var request = {
                      CM: "SV",
                      wlId: row.attr("wlId"),
                      assId: row.attr("assId"),
                      WORKLOG_DURATION: durField.val(),
                      WORKLOG_ACTION: row.find("[name=WLACT]").val(),
                      WORKLOG_INSERTIONDATE: new Date(focusMillis).format()
                    };
                    $.getJSON(contextPath + "/worklog/worklogAjax", request, function (response) {
                      jsonResponseHandling(response);
                      if (response.ok) {
                        if (response.duration == 0) {
                          row.fadeOut(200, function () {
                            $(this).remove();
                            wpWLDUpdateTotals(workable);
                            $("body").trigger("worklogEvent", [{ type: "delete", response: response }])
                          })
                        } else {
                          wpWLDUpdateTotals(workable);
                          row.find(":input").updateOldValue();
                          $("body").trigger("worklogEvent", [{ type: "save", response: response }])

                        }

                      }
                      hideSavingMessage();
                    });
                  }
                }

                function wpWDAddWl(el) {
                  //console.debug("wpWDAddWl")
                  var row = el.closest("tr");
                  if (row.find(":input").isFullfilled()) {
                    openWorklogEditorPopup(el, { assId: row.find("#ASSIG").val(), title: row.find("#ASSIG_txt").val(), "WORKLOG_INSERTIONDATE": new Date(focusMillis).format() });
                  }
                }



                function wpWLDDeleteWL(el) {
                  var row = el.closest("[wlId]");
                  showSavingMessage();
                  var request = { CM: "REMOVEWL", wlId: row.attr("wlId") };
                  $.getJSON(contextPath + "/worklog/worklogAjax", request, function (response) {
                    jsonResponseHandling(response);
                    if (response.ok) {
                      row.fadeOut(200, function () {
                        $(this).remove();
                        wpWLDUpdateTotals(workable);
                        $("body").trigger("worklogEvent", [{ type: "delete", response: response }])

                      })
                    }
                    hideSavingMessage();
                  });
                }


              </script>
            </div>
            <div portletid="2" id="LEFT2" class="portletContainer">
              <div class="portletBox" style="">
                <div style="float:right;padding-top: 5px"><button type="button"
                    class="button noprint textual icon  ruzzol" id="domId_1876010641" style=""
                    onclick="$('#myCreatedIssues').toggle();return false; "><span
                      class="teamworkIcon ">g</span></button>

                </div>

                <h1>我感兴趣的问题</h1>


                <div id="myCreatedIssues" class="portletParams" style="display:none"><label for="MAX_ISSUES_DISPLAY"
                    class=" ">问题最大显示数</label>&nbsp;<input type="text" name="MAX_ISSUES_DISPLAY" id="MAX_ISSUES_DISPLAY"
                    size="2" class="formElements" autocomplete="off" maxlength="255"
                    onblur="refreshPortlet($(this),{'MAX_ISSUES_DISPLAY':$(this).val()});" value="8" oldvalue="1"></div>
                <table class="table dataTable">
                  <thead>
                    <tr>
                      <th class="tableHead" width="1%">级别</th>
                      <th class="tableHead" width="1%">问题状态</th>
                      <th class="tableHead">描述</th>
                      <th class="tableHead">任务</th>
                      <th class="tableHead" nowrap="">分工给</th>
                      <th class="tableHead">做</th>
                      <th class="tableHead"></th>
                      <th class="tableHead"></th>
                    </tr>
                  </thead>

                  <tbody id="wp_myInsIssuesExpired" style="display:none;"></tbody>

                  <tbody id="wp_myInsIssues">
                    <tr class="issueRow alternate " gravity="03_GRAVITY_HIGH" issueid="11358" __template="MYINSISSLINE">
                      <td class="status"></td>
                      <td style="width: 30px; padding-top: 5px;" valign="top" align="center"> <label
                          for="domId_639046414"></label>
                        <div class="cvcComponent " style="cursor:pointer;" cvctype="WP_MYISS_STS"> <input type="hidden"
                            name="ISSUE_STATUS" id="ISSUE_STATUS" size="2" class="formElements" autocomplete="off"
                            maxlength="255" value="11122" oldvalue="1">
                          <div class="cvcColorSquare" onclick="cvc_clickColValSel($(this),event);">
                            <div class="cvcStatuses noValue">
                              <div class="cvcSelBox" code="11122" title="open"><span class="teamworkIcon"
                                  style="color: rgb(59, 191, 103);">©</span></div>
                            </div>
                          </div>
                        </div>
                      </td>
                      <td valign="top" style="max-width: 300px;">
                        <div title="(id:11358) Collect Customer Requirements" onclick="openIssueEditorInBlack(11358);"
                          class="issueDesc" style="overflow: hidden;word-wrap: normal;cursor: pointer">Write
                          specification documents</div>
                      </td>
                      <td valign="top">
                        <div class="pathSmall">Production Project</div> <span class="textSmall" title="任务"><a
                            class="button  textual   " id="domId_640999470" style=""
                            href="/app/taskOverview.html??CM=ED&amp;OBJID=45675">Collect Customer
                            Requirements</a> </span>
                      </td>
                      <td valign="top" nowrap=""> </td>
                      <td valign="top" nowrap=""> </td>
                      <td valign="top"> <span class="button noprint textual small" title="评论 0"
                          onclick="showComments($(this));return false; "><span
                            class="teamworkIcon withLabel">Q</span><span commentsize=""></span></span> </td>
                      <td valign="top"> <span class="button noprint textual icon" title="新增的工作日志"
                          onclick="btnShowWorklog($(this));return false; "><span class="teamworkIcon">w</span></span>
                      </td>
                    </tr>
                    <tr class="issueRow alternate " gravity="03_GRAVITY_HIGH" issueid="11359" __template="MYINSISSLINE">
                      <td class="status"></td>
                      <td style="width: 30px; padding-top: 5px;" valign="top" align="center"> <label
                          for="domId_639046414"></label>
                        <div class="cvcComponent " style="cursor:pointer;" cvctype="WP_MYISS_STS"> <input type="hidden"
                            name="ISSUE_STATUS" id="ISSUE_STATUS" size="2" class="formElements" autocomplete="off"
                            maxlength="255" value="11122" oldvalue="1">
                          <div class="cvcColorSquare" onclick="cvc_clickColValSel($(this),event);">
                            <div class="cvcStatuses noValue">
                              <div class="cvcSelBox" code="11122" title="open"><span class="teamworkIcon"
                                  style="color: rgb(59, 191, 103);">©</span></div>
                            </div>
                          </div>
                        </div>
                      </td>
                      <td valign="top" style="max-width: 300px;">
                        <div title="(id:11359) Collect Customer Requirements" onclick="openIssueEditorInBlack(11359);"
                          class="issueDesc" style="overflow: hidden;word-wrap: normal;cursor: pointer">Call customer and
                          schedule meeting to analyse requirements</div>
                      </td>
                      <td valign="top">
                        <div class="pathSmall">Production Project</div> <span class="textSmall" title="任务"><a
                            class="button  textual   " id="domId_640999470" style=""
                            href="/app/taskOverview.html??CM=ED&amp;OBJID=45675">Collect Customer
                            Requirements</a> </span>
                      </td>
                      <td valign="top" nowrap=""> </td>
                      <td valign="top" nowrap=""> </td>
                      <td valign="top"> <span class="button noprint textual small" title="评论 0"
                          onclick="showComments($(this));return false; "><span
                            class="teamworkIcon withLabel">Q</span><span commentsize=""></span></span> </td>
                      <td valign="top"> <span class="button noprint textual icon" title="新增的工作日志"
                          onclick="btnShowWorklog($(this));return false; "><span class="teamworkIcon">w</span></span>
                      </td>
                    </tr>
                    <tr class="issueRow alternate " gravity="02_GRAVITY_MEDIUM" issueid="11611"
                      __template="MYINSISSLINE">
                      <td class="status"></td>
                      <td style="width: 30px; padding-top: 5px;" valign="top" align="center"> <label
                          for="domId_639046414"></label>
                        <div class="cvcComponent " style="cursor:pointer;" cvctype="WP_MYISS_STS"> <input type="hidden"
                            name="ISSUE_STATUS" id="ISSUE_STATUS" size="2" class="formElements" autocomplete="off"
                            maxlength="255" value="11122" oldvalue="1">
                          <div class="cvcColorSquare" onclick="cvc_clickColValSel($(this),event);">
                            <div class="cvcStatuses noValue">
                              <div class="cvcSelBox" code="11122" title="open"><span class="teamworkIcon"
                                  style="color: rgb(59, 191, 103);">©</span></div>
                            </div>
                          </div>
                        </div>
                      </td>
                      <td valign="top" style="max-width: 300px;">
                        <div title="(id:11611) 2020年度上海市人民政府决策咨询研究教育政策专项" onclick="openIssueEditorInBlack(11611);"
                          class="issueDesc" style="overflow: hidden;word-wrap: normal;cursor: pointer">项目谁负责</div>
                      </td>
                      <td valign="top">
                        <div class="pathSmall"></div> <span class="textSmall" title="任务"><a class="button  textual   "
                            id="domId_640999470" style=""
                            href="/app/taskOverview.html??CM=ED&amp;OBJID=45747">2020年度上海市人民政府决策咨询研究教育政策专项</a>
                        </span>
                      </td>
                      <td valign="top" nowrap=""> <img
                          src="/img/svgavatar?code=%E7%8E%89%E5%8F%B2&amp;fill=hsl%28240%2C70%25%2C80%25%29&amp;stroke=hsl%28240%2C90%25%2C20%25%29"
                          resid="12771" align="absmiddle" class="face small active" title="史 玉平"> <span
                          class="textSmall"></span> </td>
                      <td valign="top" nowrap=""> </td>
                      <td valign="top"> <span class="button noprint textual small" title="评论 0"
                          onclick="showComments($(this));return false; "><span
                            class="teamworkIcon withLabel">Q</span><span commentsize=""></span></span> </td>
                      <td valign="top"> <span class="button noprint textual icon" title="新增的工作日志"
                          onclick="btnShowWorklog($(this));return false; "><span class="teamworkIcon">w</span></span>
                      </td>
                    </tr>
                  </tbody>
                </table>


                <script type="text/javascript">

                  var defs = [initialize(contextPath + "/parts/partIssuePortletSupport.html", "html"),
                  initialize(contextPath + "/parts/partIssueNotes.html", "html")];


                  $.when.apply(null, defs) // per chiamare la when con un array [a,b,c,d] invece che parametri sep.  (a,b,c,d)
                    .done(function () {
                      $("#wp_myInsIssueTemplates").loadTemplates().remove();

                      var expired = [];
                      var issues = [{ "id": "11358", "lastModifier": "史玉平 shi", "lastModified": 1589793535000, "creator": "史玉平 shi", "creationDate": 1589793535000, "areaId": 4957, "area": "同方知网", "description": "Write specification documents", "estimatedDuration": 0, "worklogDone": 0, "tags": "", "icodid": "11358", "orderByTask": 0, "orderByRes": 0, "commentSize": 0, "taskId": "45675", "taskName": "Collect Customer Requirements", "taskCode": "T1791.01", "tcodid": "45675", "taskPath": "Production Project", "assigneeId": "-1", "assigneeName": "取消分工", "assigneeAvatarUrl": "/img/noPhoto_TW.jpg", "rcodid": "-", "statusId": 11122, "statusName": "open", "statusColor": "#3BBF67", "statusOrder": 1, "isOpen": true, "gravityId": "03_GRAVITY_HIGH", "gravityName": "高", "gravityColor": "#F9791C", "gravityOrder": 3, "documents": [] }, { "id": "11359", "lastModifier": "史玉平 shi", "lastModified": 1589793535000, "creator": "史玉平 shi", "creationDate": 1589793535000, "areaId": 4957, "area": "同方知网", "description": "Call customer and schedule meeting to analyse requirements", "estimatedDuration": 0, "worklogDone": 0, "tags": "", "icodid": "11359", "orderByTask": 0, "orderByRes": 0, "commentSize": 0, "taskId": "45675", "taskName": "Collect Customer Requirements", "taskCode": "T1791.01", "tcodid": "45675", "taskPath": "Production Project", "assigneeId": "-1", "assigneeName": "取消分工", "assigneeAvatarUrl": "/img/noPhoto_TW.jpg", "rcodid": "-", "statusId": 11122, "statusName": "open", "statusColor": "#3BBF67", "statusOrder": 1, "isOpen": true, "gravityId": "03_GRAVITY_HIGH", "gravityName": "高", "gravityColor": "#F9791C", "gravityOrder": 3, "documents": [] }, { "id": "11611", "lastModifier": "史 玉平", "lastModified": 1590542044000, "creator": "史 玉平", "creationDate": 1590542044000, "areaId": 4957, "area": "同方知网", "description": "项目谁负责", "estimatedDuration": 0, "worklogDone": 0, "tags": "", "icodid": "11611", "signalledOn": 1590534000000, "orderByTask": 0, "orderByRes": 0, "commentSize": 0, "taskId": "45747", "taskName": "2020年度上海市人民政府决策咨询研究教育政策专项", "taskCode": "SH001", "tcodid": "SH001", "taskPath": "", "assigneeId": "12771", "assigneeName": "史 玉平", "rcodid": "12771", "assigneeAvatarUrl": "/img/svgavatar?code=%E7%8E%89%E5%8F%B2&fill=hsl%28240%2C70%25%2C80%25%29&stroke=hsl%28240%2C90%25%2C20%25%29", "assigneeConnectionStatus": "", "assignedById": "12771", "assignedByName": "史 玉平", "assigendByCodid": "12771", "assignedByAvatarUrl": "/img/svgavatar?code=%E7%8E%89%E5%8F%B2&fill=hsl%28240%2C70%25%2C80%25%29&stroke=hsl%28240%2C90%25%2C20%25%29", "assignedByConnectionStatus": "", "assignmentId": "25260", "statusId": 11122, "statusName": "open", "statusColor": "#3BBF67", "statusOrder": 1, "isOpen": true, "gravityId": "02_GRAVITY_MEDIUM", "gravityName": "中", "gravityColor": "#F9C154", "gravityOrder": 4, "documents": [] }];

                      var ndo = $("#wp_myInsIssuesExpired");
                      for (var i = 0; i < expired.length; i++) {
                        var iss = $.JST.createFromTemplate(expired[i], "MYINSISSLINE");
                        cvc_redraw(iss.find(".cvcComponent"));
                        ndo.append(iss);
                      }
                      if (expired.length > 0)
                        ndo.show();

                      ndo = $("#wp_myInsIssues");
                      for (var i = 0; i < issues.length; i++) {
                        var iss = $.JST.createFromTemplate(issues[i], "MYINSISSLINE");
                        cvc_redraw(iss.find(".cvcComponent"));
                        ndo.append(iss);
                      }

                      //bind  issueEvent
                      registerEvent("issueEvent.myCreatedIssues", function (e, data) {
                        refreshPortlet($("#myCreatedIssues"));
                      });
                    });
                </script>
              </div>
            </div>
            <div portletid="14" id="LEFT14" class="portletContainer">
              <form enctype="application/x-www-form-urlencoded" method="POST"
                action="/portlethtml/wp_projectsSummary.html" name="d678142075" id="d678142075"
                savedaction="" savedtarget="" style=""><input type="hidden" id="d678142075V_ID" name="V_ID"
                  value="678142075" savedvalue="">
                <input type="hidden" id="d678142075CM" name="CM" value="" savedvalue="">

                <div id="wp_projSumm" style="vertical-align:top;" class="portletBox">
                  <div style="float:right" class="portletParamIcons"><button type="button"
                      class="button noprint textual icon  " id="domId_159737108" style="" title="打印To-do"
                      onclick="openBlackPopup('/portlethtml/wp_projectsSummary.html?V_ID=1271991399&amp;CM=PRINT','1000px','600px');return false; "><span
                        class="teamworkIcon ">p</span></button>

                    &nbsp;<button type="button" class="button noprint textual icon  ruzzol" id="domId_347015406"
                      style="" title="过滤" onclick="$('#configProjSumm').toggle();return false; "><span
                        class="teamworkIcon ">g</span></button>

                  </div>
                  <h1>进行中的项目</h1>
                  <div id="configProjSumm" class="portletParams" style="display:none;">
                    <table class="table">
                      <tbody>
                        <tr>
                          <td><label for="OVERDUE_WARN" class=" ">超时提醒（提前天数）</label><br><input type="text"
                              name="OVERDUE_WARN" id="OVERDUE_WARN" size="2" class="formElements validated integer"
                              autocomplete="off" maxlength="255"
                              onblur="obj('d678142075CM').value='';ajaxSubmit('d678142075','wp_projSumm');" value="3"
                              oldvalue="1" entrytype="INTEGER"></td>
                          <td><label for="OVERDUE_ERR" class=" ">超时报错（超过天数）</label><br><input type="text"
                              name="OVERDUE_ERR" id="OVERDUE_ERR" size="2" class="formElements validated integer"
                              autocomplete="off" maxlength="255"
                              onblur="obj('d678142075CM').value='';ajaxSubmit('d678142075','wp_projSumm');" value="1"
                              oldvalue="1" entrytype="INTEGER"></td>
                          <td><label for="TASK_TYPE_SUMM_txt" class=" ">根据类型过滤</label><br><input type="text"
                              name="TASK_TYPE_SUMM_txt" id="TASK_TYPE_SUMM_txt" size="15"
                              class="formElements smartCombo" autocomplete="off" maxlength="255"
                              onfocus="createDropDown($(this),400,100); refreshDropDown ($(this).nextAll('.cbDropDown'),$(this)); setSelection(this,0,1024)"
                              onblur="finalizeOperation($(this).nextAll('.cbDropDown:first'),false,false );obj('d678142075CM').value='';ajaxSubmit('d678142075','wp_projSumm');"
                              onkeydown="manageKeyEvent ($(this),event,false,false);" onkeypress="stopKeyEvent(event);"
                              value=""><span class="teamworkIcon menuArrow" style="cursor:pointer; margin-left: -15px"
                              onclick="if ( $(this).prevAll('.cbDropDown:first').size()<=0) {$(this).prevAll('input:text:first').focus();} ">ù</span><input
                              type="hidden" name="TASK_TYPE_SUMM" id="TASK_TYPE_SUMM" size="10" class="formElements"
                              autocomplete="off" maxlength="255" jsppart="partSmartCombo" value="" oldvalue="1">
                          </td>
                          <td><input type="hidden" name="TASK_SHOW_CHILDREN" id="TASK_SHOW_CHILDREN" size="1"
                              autocomplete="off" maxlength="255" data-checkfield="" value="no" oldvalue="1"><input
                              type="checkbox" id="ck_TASK_SHOW_CHILDREN" name="ck_TASK_SHOW_CHILDREN" value="yes"
                              onclick="$(this).prevAll('[type=hidden]:first').val(this.checked ? 'yes' : 'no');obj('d678142075CM').value='';ajaxSubmit('d678142075','wp_projSumm');">
                            &nbsp;<label for="ck_TASK_SHOW_CHILDREN">显示子任务</label>&nbsp;</td>
                          <td><input type="hidden" name="TASK_SHOW_COSTS" id="TASK_SHOW_COSTS" size="1"
                              autocomplete="off" maxlength="255" data-checkfield="" value="no" oldvalue="1"><input
                              type="checkbox" id="ck_TASK_SHOW_COSTS" name="ck_TASK_SHOW_COSTS" value="yes"
                              onclick="$(this).prevAll('[type=hidden]:first').val(this.checked ? 'yes' : 'no');obj('d678142075CM').value='';ajaxSubmit('d678142075','wp_projSumm');">
                            &nbsp;<label for="ck_TASK_SHOW_COSTS">显示费用</label>&nbsp;</td>
                          <td><a class="button  textual   " id="domId_1536337198" style=""
                              href="/app/task/taskList?V_ID=1861846090&amp;CM=FN&amp;STATUS=STATUS_ACTIVE&amp;ROOT_OR_STANDALONE=yes">&gt;&gt;
                              进一步过滤</a>

                          </td>
                          <td></td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <table class="table projectSummary" id="wp_ps_default" cellpadding="2" style="vertical-align:top;">
                    <thead class="dataTableHead">
                      <tr>
                        <th class="tableHead" id="wpPSputFilerHere">
                          <div class="tableFilterElementBox"><input id="tableFilterField_6474" type="text"
                              class="formElements formElementsSmall tableFilterElementBox-input" autocomplete="off"
                              rowselector="#wp_ps_default [taskId]" cellselector=".columnTaskName,.columnTaskCode"
                              onkeyup="tableFilter($('#tableFilterField_6474'))"><span
                              class="button noprint textual icon tableFilterElementBox-search" data-search=""><span
                                class="teamworkIcon">L</span></span><span
                              class="button noprint textual icon tableFilterElementBox-close" data-close=""><span
                                class="teamworkIcon">x</span></span></div>任务
                        </th>
                        <th class="tableHead">代码</th>
                        <th class="tableHead">重要性</th>
                        <th class="tableHead">结束日期</th>
                        <th class="tableHead">剩余天数</th>
                        <th class="tableHead">%</th>
                      </tr>
                    </thead>
                    <style type="text/css">
                      .expired .columnTaskName .button.textual {
                        color: #D30202;
                      }
                    </style>

                    <tbody>
                      <tr class="alternate " taskid="45748">
                        <td class="columnTaskName" style="position: relative">

                          <a class="button  textual   bolder" id="domId_296583745" style=""
                            href="/app/taskOverview.html??V_ID=985652084&amp;CM=ED&amp;OBJID=45748">海口入境旅游及客源市场的季节性特征研究</a>

                        </td>
                        <td class="textSmall columnTaskCode" title="HK"><span>HK</span></td>
                        <td align="center" class="textSmall">0%</td>
                        <td align="right" class="textSmall ">2020-5-29</td>
                        <td align="center" nowrap=""><span style="color:#FF712E; ">2</span></td>

                        <td class="textSmall" nowrap="" style="text-align: right">



                          <div style="width:70px;height:15px;position: relative" title="">
                            <div class="perc"
                              style="width:100%;height:15px;background-color:#E5E5E5;position:relative; border-radius:4px;display: inline-block; overflow:hidden;">
                              <div style="background-color:#9bcee6;width:0%;height:15px;"></div>
                              <div
                                style="width: 100%;position: absolute; top:0;line-height: 100%; background:none; padding: 2px 3px; text-align: left;font-size:11px;color:#000000">
                                0%</div>
                            </div>
                          </div>


                        </td>
                      </tr>

                      <style type="text/css">
                        .expired .columnTaskName .button.textual {
                          color: #D30202;
                        }
                      </style>

                      <tr class="alternate " taskid="45746">
                        <td class="columnTaskName" style="position: relative">

                          <a class="button  textual   bolder" id="domId_605670985" style=""
                            href="/app/taskOverview.html??V_ID=986032971&amp;CM=ED&amp;OBJID=45746">河南省教育厅2021年度河南省高等学校重点科研项目</a>

                        </td>
                        <td class="textSmall columnTaskCode" title="HN001"><span>HN001</span></td>
                        <td align="center" class="textSmall">80%</td>
                        <td align="right" class="textSmall ">2020-6-26</td>
                        <td align="center" nowrap=""><span style="color:#38d056; ">22</span></td>

                        <td class="textSmall" nowrap="" style="text-align: right">



                          <div style="width:70px;height:15px;position: relative" title="">
                            <div class="perc"
                              style="width:100%;height:15px;background-color:#E5E5E5;position:relative; border-radius:4px;display: inline-block; overflow:hidden;">
                              <div style="background-color:#9bcee6;width:0%;height:15px;"></div>
                              <div
                                style="width: 100%;position: absolute; top:0;line-height: 100%; background:none; padding: 2px 3px; text-align: left;font-size:11px;color:#000000">
                                0%</div>
                            </div>
                          </div>


                        </td>
                      </tr>

                      <style type="text/css">
                        .expired .columnTaskName .button.textual {
                          color: #D30202;
                        }
                      </style>

                      <tr class="alternate expired" taskid="45684">
                        <td class="columnTaskName" style="position: relative">

                          <a class="button  textual   bolder" id="domId_54157569" style=""
                            href="/app/taskOverview.html??V_ID=519148609&amp;CM=ED&amp;OBJID=45684">我的一个项目</a>

                        </td>
                        <td class="textSmall columnTaskCode" title="Project001"><span>Project001</span></td>
                        <td align="center" class="textSmall">30%</td>
                        <td align="right" class="textSmall warning alertIcon">2020-5-26</td>
                        <td align="center" nowrap=""><span style="color:#D30202; ">-3</span></td>

                        <td class="textSmall" nowrap="" style="text-align: right">



                          <div style="width:70px;height:15px;position: relative" title="">
                            <div class="perc"
                              style="width:100%;height:15px;background-color:#E5E5E5;position:relative; border-radius:4px;display: inline-block; overflow:hidden;">
                              <div style="background-color:#9bcee6;width:0%;height:15px;"></div>
                              <div
                                style="width: 100%;position: absolute; top:0;line-height: 100%; background:none; padding: 2px 3px; text-align: left;font-size:11px;color:#000000">
                                0%</div>
                            </div>
                          </div>


                        </td>
                      </tr>

                      <style type="text/css">
                        .expired .columnTaskName .button.textual {
                          color: #D30202;
                        }
                      </style>

                      <tr class="alternate " taskid="45747">
                        <td class="columnTaskName" style="position: relative">
                          <div class="taskColored" style="background-color: #0c40a3;"></div>
                          <a class="button  textual   bolder" id="domId_1988420570" style=""
                            href="/app/taskOverview.html??V_ID=1452072309&amp;CM=ED&amp;OBJID=45747">2020年度上海市人民政府决策咨询研究教育政策专项</a>

                        </td>
                        <td class="textSmall columnTaskCode" title="SH001"><span>SH001</span></td>
                        <td align="center" class="textSmall">50%</td>
                        <td align="right" class="textSmall ">2021-1-27</td>
                        <td align="center" nowrap=""><span style="color:#38d056; ">175</span></td>

                        <td class="textSmall" nowrap="" style="text-align: right">



                          <div style="width:70px;height:15px;position: relative" title="">
                            <div class="perc"
                              style="width:100%;height:15px;background-color:#E5E5E5;position:relative; border-radius:4px;display: inline-block; overflow:hidden;">
                              <div style="background-color:#9bcee6;width:0%;height:15px;"></div>
                              <div
                                style="width: 100%;position: absolute; top:0;line-height: 100%; background:none; padding: 2px 3px; text-align: left;font-size:11px;color:#000000">
                                0%</div>
                            </div>
                          </div>


                        </td>
                      </tr>

                      <style type="text/css">
                        .expired .columnTaskName .button.textual {
                          color: #D30202;
                        }
                      </style>

                      <tr class="alternate " taskid="45674">
                        <td class="columnTaskName" style="position: relative">
                          <div class="taskColored" style="background-color: #75a9ff;"></div>
                          <a class="button  textual   bolder" id="domId_370019094" style=""
                            href="/app/taskOverview.html??V_ID=1074029070&amp;CM=ED&amp;OBJID=45674">Production
                            Project</a>

                        </td>
                        <td class="textSmall columnTaskCode" title="T1791"><span>T1791</span></td>
                        <td align="center" class="textSmall">0%</td>
                        <td align="right" class="textSmall ">2020-8-26</td>
                        <td align="center" nowrap=""><span style="color:#38d056; ">65</span></td>

                        <td class="textSmall" nowrap="" style="text-align: right">



                          <div style="width:70px;height:15px;position: relative" title="">
                            <div class="perc"
                              style="width:100%;height:15px;background-color:#E5E5E5;position:relative; border-radius:4px;display: inline-block; overflow:hidden;">
                              <div style="background-color:#9bcee6;width:0%;height:15px;"></div>
                              <div
                                style="width: 100%;position: absolute; top:0;line-height: 100%; background:none; padding: 2px 3px; text-align: left;font-size:11px;color:#000000">
                                0%</div>
                            </div>
                          </div>


                        </td>
                      </tr>

                      <style type="text/css">
                        .expired .columnTaskName .button.textual {
                          color: #D30202;
                        }
                      </style>

                      <tr class="alternate expired" taskid="45758">
                        <td class="columnTaskName" style="position: relative">
                          <div class="taskColored" style="background-color: #cf0b0b;"></div>
                          <a class="button  textual   bolder" id="domId_57090528" style=""
                            href="/app/taskOverview.html??V_ID=1668692505&amp;CM=ED&amp;OBJID=45758">后“双创”时期海口夜间经济发展质量满意度评价及机制构建</a>

                        </td>
                        <td class="textSmall columnTaskCode" title="T45758"><span>T45758</span></td>
                        <td align="center" class="textSmall">0%</td>
                        <td align="right" class="textSmall warning alertIcon">2020-5-21</td>
                        <td align="center" nowrap=""><span style="color:#D30202; ">-6</span></td>

                        <td class="textSmall" nowrap="" style="text-align: right">



                          <div style="width:70px;height:15px;position: relative" title="">
                            <div class="perc"
                              style="width:100%;height:15px;background-color:#E5E5E5;position:relative; border-radius:4px;display: inline-block; overflow:hidden;">
                              <div style="background-color:#9bcee6;width:0%;height:15px;"></div>
                              <div
                                style="width: 100%;position: absolute; top:0;line-height: 100%; background:none; padding: 2px 3px; text-align: left;font-size:11px;color:#000000">
                                0%</div>
                            </div>
                          </div>


                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>

                <script>
                  //inject the table search
                  createTableFilterElement($("#wpPSputFilerHere"), '#wp_ps_default [taskId]', '.columnTaskName,.columnTaskCode');

                </script>



              </form>
            </div>
            <div portletid="30" id="LEFT30" class="portletContainer">
              <div id="issueSummaryExDiv" class="issueSummary" style="">
                <div class="portletBox">
                  <div style="float:right" class="portletParamIcons"><button type="button"
                      class="button noprint textual icon  ruzzol" id="domId_1094515429" style="" title="过滤"
                      onclick="$('#issueSummaryParam').toggle();return false; "><span
                        class="teamworkIcon ">g</span></button>

                  </div>
                  <h1>问题摘要</h1>

                  <div class="portletParams" id="issueSummaryParam" style="display:none;"><label
                      for="ck_SHOW_WHERE_IM_INVOLVED_ONLY">仅显示我参与的任务</label><input type="hidden"
                      name="SHOW_WHERE_IM_INVOLVED_ONLY" id="SHOW_WHERE_IM_INVOLVED_ONLY" size="1" autocomplete="off"
                      maxlength="255" data-checkfield="" value="yes" oldvalue="1"><input type="checkbox"
                      id="ck_SHOW_WHERE_IM_INVOLVED_ONLY" name="ck_SHOW_WHERE_IM_INVOLVED_ONLY" checked="" value="yes"
                      onclick="$(this).prevAll('[type=hidden]:first').val(this.checked ? 'yes' : 'no');refreshPortlet($(this),{'SHOW_WHERE_IM_INVOLVED_ONLY':$('#SHOW_WHERE_IM_INVOLVED_ONLY').val()});">

                  </div>




                  <table class="table" id="wp_issueSummary_table">
                    <thead class="dataTableHead" style="">
                      <tr>
                        <th class="tableHead" colspan="2" id="wpMICputFilerHere"><span class="tableHeadEl">任务</span>
                        </th>
                        <th class="tableHead"><span class="tableHeadEl">已发现的问题</span></th>
                        <th class="tableHead"><span class="tableHeadEl">过期</span></th>
                        <th class="tableHead"><span class="tableHeadEl">今天</span></th>
                        <th class="tableHead"><span class="tableHeadEl">中断</span></th>
                        <th class="tableHead"><span class="tableHeadEl">未分工</span></th>
                      </tr>
                    </thead>
                    <tbody>

                      <tr taskid="45747" class="alternate  ">
                        <td class="columnTaskName" style="position: relative;">
                          <div class="taskColored" style="background-color: #0c40a3;"></div>
                          <div class="pathSmall"><span class="pathEl"></span></div>


                          <a class="button  textual   bolder" id="domId_939237584" style=""
                            href="/app/taskOverview.html??V_ID=592715333&amp;CM=ED&amp;OBJID=45747">2020年度上海市人民政府决策咨询研究教育政策专项</a>


                        </td>
                        <td class="textSmall columnTaskCode" title="SH001"><span>SH001</span></td>
                        <td align="center"><a class="issBtn issOpen"
                            href="/app/task/taskIssueList.html?OBJID=45747">1</a></td>
                        <td align="center"></td>
                        <td align="center"></td>
                        <td align="center"></td>
                        <td align="center"></td>


                      </tr>



                      <tr taskid="45675" class="alternate  ">
                        <td class="columnTaskName" style="position: relative;">
                          <div class="taskColored" style="background-color: #75a9ff;"></div>
                          <div class="pathSmall"><span class="pathEl">Production Project</span></div>


                          <a class="button  textual   bolder" id="domId_1737446945" style=""
                            href="/app/taskOverview.html??V_ID=1446332759&amp;CM=ED&amp;OBJID=45675">Collect
                            Customer Requirements</a>


                        </td>
                        <td class="textSmall columnTaskCode" title="T1791.01"><span>T1791.01</span></td>
                        <td align="center"><a class="issBtn issOpen"
                            href="/app/task/taskIssueList.html?OBJID=45675">2</a></td>
                        <td align="center"></td>
                        <td align="center"></td>
                        <td align="center"></td>
                        <td align="center"><a class="issBtn issUnassigned"
                            href="/app/task/taskIssueList.html?OBJID=45675&amp;FLT_ISSUE_UNASSIGNED=yes">2</a>
                        </td>


                      </tr>



                    </tbody>
                  </table>
                </div>

                <script type="text/javascript">
                  //inject the table search
                  //createTableFilterElement($("#wpMAputFilerHere"),'#wp_myAssig_table .assigRow','.columnTaskName,.columnTaskCode');

                  $("#wp_issueSummary_table [taskId] a.issBtn").each(function () {
                    var el = $(this);
                    if (el.text() == "") {
                      el.remove();
                    } else {
                      var row = el.closest("[taskId]");
                      var taskExpired = row.is(".expired");
                      var toBeDoneToday = row.is(".toBeDoneToday");
                      var issExpired = el.is(".issExpired");
                      var issToday = el.is(".issToday");
                      var taskId = row.attr("taskId");
                      var link = contextPath + "/app/task/taskIssueList.html?OBJID=" + taskId;

                      if (taskExpired && (issExpired || issToday)) {
                        link += ""; // si devono vedere tutte quelle aperte
                      } else if (toBeDoneToday && issToday) {
                        link += ""; // si devono vedere tutte quelle aperte

                      } else if (!taskExpired && issExpired) {
                        link += "&FLT_ISSUE_DATE_CLOSE_BY=" + encodeURIComponent("<t");
                      } else if (issToday) {
                        link += "&FLT_ISSUE_DATE_CLOSE_BY=t";
                      } else if (el.is(".issBlock")) {
                        link += "&FLT_ISSUE_GRAVITY=" + encodeURIComponent("05_GRAVITY_BLOCK");
                      } else if (el.is(".issUnassigned")) {
                        link += "&FLT_ISSUE_UNASSIGNED=yes";
                      } else {
                        // do nothing
                      }

                      el.prop("href", link);
                    }
                  });


                </script>
              </div>
            </div>
            <div portletid="23" id="LEFT23" class="portletContainer">
              <div id="wpScrumBDDiv" style="">
                <form enctype="application/x-www-form-urlencoded" method="POST"
                  action="/portlethtml/wp_scrumBurnDown.html" name="d1109805146"
                  id="d1109805146" savedaction="" savedtarget=""><input type="hidden" id="d1109805146V_ID" name="V_ID"
                    value="1109805146" savedvalue="">
                  <input type="hidden" id="d1109805146CM" name="CM" value="" savedvalue="">

                  <div class="portletBox">

                    <div style="float:right" class="portletParamIcons"><button type="button"
                        class="button noprint textual icon  " id="domId_1336213496" style="" title="过滤"
                        onclick="$('#burnDownParams').toggle();return false; "><span
                          class="teamworkIcon ">g</span></button>

                    </div>
                    <h1 style="padding-bottom: 10px">Collect Customer Requirements</h1>
                    <div style="width:100px;float:left;margin-right:20px">



                      <div class="progressBar" style="width:100px;height:15px;position: relative">

                        <div data-balloon="<strong>进度: 0%</strong> " data-timer="3000" data-forceposition="left"
                          class="perc"
                          style="width:100%;height:15px;background-color:#D6E500;position:relative; display: inline-block; overflow:hidden;">
                          <div style="background-color:#728100;width:0%;height:15px;"></div>
                          <div
                            style="cursor: pointer;width: 100%;position: absolute; top:0;line-height: 100%; background:none; padding: 2px 4px; text-align: left;font-size:11px;color:#FFFFFF">
                            0%</div>
                        </div>
                      </div>


                    </div>
                    <div class="pathCodeWrapper"><span class="teamworkIcon" style="color:#3BBF67;font-size:10px;"
                        title="进行中">©</span>
                      <span class="pathCode" title="参考代码">T#45675#</span></div>
                    <div id="burnDownParams" class="portletParams" style="display:none">
                      <script>
                        function letSubmitBURNDOWN_TASK() {
                          obj('d1109805146CM').value = ''; ajaxSubmit('d1109805146', 'wpScrumBDDiv');
                        }
                      </script><label for="BURNDOWN_TASK_txt" class=" ">选择一个项目</label>&nbsp;<input type="text" name="BURNDOWN_TASK_txt"
                        id="BURNDOWN_TASK_txt" size="40" class="formElements smartCombo" autocomplete="off"
                        maxlength="255"
                        onfocus="createDropDown($(this),400,100); refreshDropDown ($(this).nextAll('.cbDropDown'),$(this)); setSelection(this,0,1024)"
                        onblur="finalizeOperation($(this).nextAll('.cbDropDown:first'),false,false );"
                        onkeydown="manageKeyEvent ($(this),event,false,false);" onkeypress="stopKeyEvent(event);"
                        value="Collect Customer Requirements"><span class="teamworkIcon menuArrow"
                        style="cursor:pointer; margin-left: -15px"
                        onclick="if ( $(this).prevAll('.cbDropDown:first').size()<=0) {$(this).prevAll('input:text:first').focus();} ">ù</span><input
                        type="hidden" name="BURNDOWN_TASK" id="BURNDOWN_TASK" size="10" class="formElements"
                        autocomplete="off" maxlength="255" jsppart="partSmartCombo" value="45675" oldvalue="1">
                    </div>
                    <div class="container level_2">
                      <br>
                      <h2>燃尽图</h2>
                      <div id="plot" style="width: 90%; height: 400px; margin: 0px auto; position: relative;"
                        class="jqplot-target"><canvas width="716" height="400" class="jqplot-base-canvas"
                          style="position: absolute; left: 0px; top: 0px;"></canvas>
                        <div class="jqplot-title"
                          style="position: absolute; top: 0px; left: 0px; width: 716px; text-align: center;">T1791.01 -
                          Collect Customer Requirements: 2020-5-18 - 2020-5-29</div>
                        <div class="jqplot-axis jqplot-xaxis"
                          style="position: absolute; width: 716px; height: 14px; left: 0px; bottom: 0px;">
                          <div class="jqplot-xaxis-tick" style="position: absolute; left: 53.5px;">May 18</div>
                          <div class="jqplot-xaxis-tick" style="position: absolute; left: 76.3px;">May 18</div>
                          <div class="jqplot-xaxis-tick" style="position: absolute; left: 99.1px;">May 19</div>
                          <div class="jqplot-xaxis-tick" style="position: absolute; left: 121.9px;">May 19</div>
                          <div class="jqplot-xaxis-tick" style="position: absolute; left: 144.7px;">May 20</div>
                          <div class="jqplot-xaxis-tick" style="position: absolute; left: 167.5px;">May 20</div>
                          <div class="jqplot-xaxis-tick" style="position: absolute; left: 190.3px;">May 21</div>
                          <div class="jqplot-xaxis-tick" style="position: absolute; left: 213.1px;">May 21</div>
                          <div class="jqplot-xaxis-tick" style="position: absolute; left: 235.9px;">May 22</div>
                          <div class="jqplot-xaxis-tick" style="position: absolute; left: 258.7px;">May 22</div>
                          <div class="jqplot-xaxis-tick" style="position: absolute; left: 281.5px;">May 23</div>
                          <div class="jqplot-xaxis-tick" style="position: absolute; left: 304.3px;">May 23</div>
                          <div class="jqplot-xaxis-tick" style="position: absolute; left: 327.1px;">May 24</div>
                          <div class="jqplot-xaxis-tick" style="position: absolute; left: 349.9px;">May 24</div>
                          <div class="jqplot-xaxis-tick" style="position: absolute; left: 372.7px;">May 25</div>
                          <div class="jqplot-xaxis-tick" style="position: absolute; left: 395.5px;">May 25</div>
                          <div class="jqplot-xaxis-tick" style="position: absolute; left: 418.3px;">May 26</div>
                          <div class="jqplot-xaxis-tick" style="position: absolute; left: 441.1px;">May 26</div>
                          <div class="jqplot-xaxis-tick" style="position: absolute; left: 463.9px;">May 27</div>
                          <div class="jqplot-xaxis-tick" style="position: absolute; left: 486.7px;">May 27</div>
                          <div class="jqplot-xaxis-tick" style="position: absolute; left: 509.5px;">May 28</div>
                          <div class="jqplot-xaxis-tick" style="position: absolute; left: 532.3px;">May 28</div>
                          <div class="jqplot-xaxis-tick" style="position: absolute; left: 555.1px;">May 29</div>
                          <div class="jqplot-xaxis-tick" style="position: absolute; left: 577.9px;">May 29</div>
                          <div class="jqplot-xaxis-tick" style="position: absolute; left: 600.7px;">May 30</div>
                          <div class="jqplot-xaxis-tick" style="position: absolute; left: 623.5px;">May 30</div>
                        </div>
                        <div class="jqplot-axis jqplot-yaxis"
                          style="position: absolute; height: 400px; width: 62px; left: 0px; top: 0px;">
                          <div style="position: absolute; width: 46px; top: 193.5px; left: 0px;"
                            class="jqplot-yaxis-label">hours</div>
                          <div class="jqplot-yaxis-tick" style="position: absolute; top: 369px;"> h</div>
                          <div class="jqplot-yaxis-tick" style="position: absolute; top: 330.333px;">0 h</div>
                          <div class="jqplot-yaxis-tick" style="position: absolute; top: 291.667px;">0 h</div>
                          <div class="jqplot-yaxis-tick" style="position: absolute; top: 253px;">0 h</div>
                          <div class="jqplot-yaxis-tick" style="position: absolute; top: 214.333px;">0 h</div>
                          <div class="jqplot-yaxis-tick" style="position: absolute; top: 175.667px;">0 h</div>
                          <div class="jqplot-yaxis-tick" style="position: absolute; top: 137px;">0 h</div>
                          <div class="jqplot-yaxis-tick" style="position: absolute; top: 98.3333px;">0 h</div>
                          <div class="jqplot-yaxis-tick" style="position: absolute; top: 59.6667px;">0 h</div>
                          <div class="jqplot-yaxis-tick" style="position: absolute; top: 21px;">0 h</div>
                        </div>
                        <div class="jqplot-axis jqplot-y2axis"
                          style="position: absolute; height: 400px; width: 54px; right: 0px; top: 0px;">
                          <div style="position: absolute; width: 48px; top: 193.5px; right: 0px;"
                            class="jqplot-y2axis-label">issues</div>
                          <div class="jqplot-y2axis-tick" style="position: absolute; top: 369px;">0</div>
                          <div class="jqplot-y2axis-tick" style="position: absolute; top: 319.286px;">0</div>
                          <div class="jqplot-y2axis-tick" style="position: absolute; top: 269.571px;">1</div>
                          <div class="jqplot-y2axis-tick" style="position: absolute; top: 219.857px;">1</div>
                          <div class="jqplot-y2axis-tick" style="position: absolute; top: 170.143px;">2</div>
                          <div class="jqplot-y2axis-tick" style="position: absolute; top: 120.429px;">2</div>
                          <div class="jqplot-y2axis-tick" style="position: absolute; top: 70.7143px;">3</div>
                          <div class="jqplot-y2axis-tick" style="position: absolute; top: 21px;">3</div>
                        </div><canvas width="716" height="400" class="jqplot-grid-canvas"
                          style="position: absolute; left: 0px; top: 0px;"></canvas><canvas width="570" height="348"
                          class="jqplot-series-shadowCanvas"
                          style="position: absolute; left: 72px; top: 28px;"></canvas><canvas width="570" height="348"
                          class="jqplot-series-shadowCanvas"
                          style="position: absolute; left: 72px; top: 28px;"></canvas><canvas width="570" height="348"
                          class="jqplot-series-shadowCanvas"
                          style="position: absolute; left: 72px; top: 28px;"></canvas><canvas width="570" height="348"
                          class="jqplot-series-canvas"
                          style="position: absolute; left: 72px; top: 28px;"></canvas><canvas width="570" height="348"
                          class="jqplot-series-canvas"
                          style="position: absolute; left: 72px; top: 28px;"></canvas><canvas width="570" height="348"
                          class="jqplot-series-canvas" style="position: absolute; left: 72px; top: 28px;"></canvas>
                        <table class="jqplot-table-legend" style="right: 74px; top: 28px;">
                          <tbody>
                            <tr class="jqplot-table-legend">
                              <td class="jqplot-table-legend jqplot-table-legend-swatch"
                                style="text-align: center; padding-top: 0px;">
                                <div class="jqplot-table-legend-swatch-outline">
                                  <div class="jqplot-table-legend-swatch"
                                    style="background-color: rgb(75, 178, 197); border-color: rgb(75, 178, 197);"></div>
                                </div>
                              </td>
                              <td class="jqplot-table-legend jqplot-table-legend-label" style="padding-top: 0px;">理想趋势
                              </td>
                            </tr>
                            <tr class="jqplot-table-legend">
                              <td class="jqplot-table-legend jqplot-table-legend-swatch" style="text-align: center;">
                                <div class="jqplot-table-legend-swatch-outline">
                                  <div class="jqplot-table-legend-swatch"
                                    style="background-color: rgb(234, 162, 40); border-color: rgb(234, 162, 40);"></div>
                                </div>
                              </td>
                              <td class="jqplot-table-legend jqplot-table-legend-label">已发现的问题</td>
                            </tr>
                            <tr class="jqplot-table-legend">
                              <td class="jqplot-table-legend jqplot-table-legend-swatch" style="text-align: center;">
                                <div class="jqplot-table-legend-swatch-outline">
                                  <div class="jqplot-table-legend-swatch"
                                    style="background-color: rgb(197, 180, 127); border-color: rgb(197, 180, 127);">
                                  </div>
                                </div>
                              </td>
                              <td class="jqplot-table-legend jqplot-table-legend-label">其余的时间</td>
                            </tr>
                          </tbody>
                        </table><canvas width="570" height="348" class="jqplot-highlight-canvas"
                          style="position: absolute; left: 72px; top: 28px;"></canvas>
                        <div class="jqplot-highlighter-tooltip" style="position: absolute; display: none;"></div>
                        <div class="jqplot-cursor-tooltip" style="position: absolute; display: none;"></div><canvas
                          width="570" height="348" class="jqplot-lineRenderer-highlight-canvas"
                          style="position: absolute; left: 72px; top: 28px;"></canvas><canvas width="570" height="348"
                          class="jqplot-event-canvas" style="position: absolute; left: 72px; top: 28px;"></canvas>
                      </div><br>



                      <div class="container level_1">
                        <table class="table">
                          <tbody>
                            <tr>
                              <th class="tableHead">责任人</th>
                              <th class="tableHead">已完成/已分工</th>
                              <th class="tableHead">% on assigned</th>
                              <th class="tableHead">% on total done</th>
                            </tr>
                            <tr class="alternate">
                              <td width="20%">史 玉平</td>

                              <td width="10%" align="right">2:00/0:00</td>
                              <td align="center">



                                <div style="width:120px;height:12px;position: relative" title="">
                                  <div class="perc"
                                    style="width:100%;height:12px;background-color:#D02D1F;position:relative; border-radius:4px;display: inline-block; overflow:hidden;">
                                    <div style="background-color:#ffff00;width:0%;height:12px;"></div>
                                    <div
                                      style="width: 100%;position: absolute; top:0;line-height: 100%; background:none; padding: 2px 3px; text-align: left;font-size:8px;color:#FFFFFF">
                                      ∞%</div>
                                  </div>
                                </div>


                              </td>
                              <td align="center">



                                <div style="width:120px;height:12px;position: relative" title="">
                                  <div class="perc"
                                    style="width:100%;height:12px;background-color:#e0e0e0;position:relative; border-radius:4px;display: inline-block; overflow:hidden;">
                                    <div style="background-color:#ffff00;width:100%;height:12px;"></div>
                                    <div
                                      style="width: 100%;position: absolute; top:0;line-height: 100%; background:none; padding: 2px 3px; text-align: left;font-size:8px;color:#FFFFFF">
                                      100%</div>
                                  </div>
                                </div>


                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <h2 style="padding-top: 30px">问题</h2>
                      <table width="100%">
                        <tbody>
                          <tr>
                            <td valign="top">
                              <div id="statusPie" style="width: 100%; height: 200px; position: relative;"
                                class="jqplot-target"><canvas width="260" height="200" class="jqplot-base-canvas"
                                  style="position: absolute; left: 0px; top: 0px;"></canvas>
                                <div class="jqplot-title"
                                  style="position: absolute; top: 0px; left: 0px; width: 260px; text-align: center;">
                                  问题状态</div><canvas width="260" height="200" class="jqplot-grid-canvas"
                                  style="position: absolute; left: 0px; top: 0px;"></canvas><canvas width="240"
                                  height="147" class="jqplot-series-shadowCanvas"
                                  style="position: absolute; left: 10px; top: 30px;"></canvas><canvas width="240"
                                  height="147" class="jqplot-series-canvas"
                                  style="position: absolute; left: 10px; top: 30px;"></canvas>
                                <table class="jqplot-table-legend" style="position: absolute; left: 10px; top: 30px;">
                                  <tbody>
                                    <tr class="jqplot-table-legend">
                                      <td class="jqplot-table-legend jqplot-table-legend-swatch"
                                        style="text-align: center; padding-top: 0px;">
                                        <div class="jqplot-table-legend-swatch-outline">
                                          <div class="jqplot-table-legend-swatch"
                                            style="background-color: rgb(59, 191, 103); border-color: rgb(59, 191, 103);">
                                          </div>
                                        </div>
                                      </td>
                                      <td class="jqplot-table-legend jqplot-table-legend-label"
                                        style="padding-top: 0px;">open: 2</td>
                                    </tr>
                                    <tr class="jqplot-table-legend">
                                      <td class="jqplot-table-legend jqplot-table-legend-swatch"
                                        style="text-align: center; padding-top: 0px;">
                                        <div class="jqplot-table-legend-swatch-outline">
                                          <div class="jqplot-table-legend-swatch"
                                            style="background-color: rgb(110, 190, 244); border-color: rgb(110, 190, 244);">
                                          </div>
                                        </div>
                                      </td>
                                      <td class="jqplot-table-legend jqplot-table-legend-label"
                                        style="padding-top: 0px;">closed: 1</td>
                                    </tr>
                                  </tbody>
                                </table><canvas width="240" height="147" class="jqplot-highlight-canvas"
                                  style="position: absolute; left: 10px; top: 30px;"></canvas>
                                <div class="jqplot-highlighter-tooltip" style="position: absolute; display: none;">
                                </div>
                                <div class="jqplot-cursor-tooltip" style="position: absolute; display: none;"></div>
                                <canvas width="240" height="147" class="jqplot-pieRenderer-highlight-canvas"
                                  style="position: absolute; left: 10px; top: 30px;"></canvas><canvas width="240"
                                  height="147" class="jqplot-event-canvas"
                                  style="position: absolute; left: 10px; top: 30px;"></canvas>
                              </div>
                            </td>
                            <td valign="top">
                              <div id="gravityPie" style="width: 100%; height: 200px; position: relative;"
                                class="jqplot-target"><canvas width="260" height="200" class="jqplot-base-canvas"
                                  style="position: absolute; left: 0px; top: 0px;"></canvas>
                                <div class="jqplot-title"
                                  style="position: absolute; top: 0px; left: 0px; width: 260px; text-align: center;">级别
                                </div><canvas width="260" height="200" class="jqplot-grid-canvas"
                                  style="position: absolute; left: 0px; top: 0px;"></canvas><canvas width="240"
                                  height="147" class="jqplot-series-shadowCanvas"
                                  style="position: absolute; left: 10px; top: 30px;"></canvas><canvas width="240"
                                  height="147" class="jqplot-series-canvas"
                                  style="position: absolute; left: 10px; top: 30px;"></canvas>
                                <table class="jqplot-table-legend" style="position: absolute; left: 10px; top: 30px;">
                                  <tbody>
                                    <tr class="jqplot-table-legend">
                                      <td class="jqplot-table-legend jqplot-table-legend-swatch"
                                        style="text-align: center; padding-top: 0px;">
                                        <div class="jqplot-table-legend-swatch-outline">
                                          <div class="jqplot-table-legend-swatch"
                                            style="background-color: rgb(249, 121, 28); border-color: rgb(249, 121, 28);">
                                          </div>
                                        </div>
                                      </td>
                                      <td class="jqplot-table-legend jqplot-table-legend-label"
                                        style="padding-top: 0px;">高: 2</td>
                                    </tr>
                                  </tbody>
                                </table><canvas width="240" height="147" class="jqplot-highlight-canvas"
                                  style="position: absolute; left: 10px; top: 30px;"></canvas>
                                <div class="jqplot-highlighter-tooltip" style="position: absolute; display: none;">
                                </div>
                                <div class="jqplot-cursor-tooltip" style="position: absolute; display: none;"></div>
                                <canvas width="240" height="147" class="jqplot-pieRenderer-highlight-canvas"
                                  style="position: absolute; left: 10px; top: 30px;"></canvas><canvas width="240"
                                  height="147" class="jqplot-event-canvas"
                                  style="position: absolute; left: 10px; top: 30px;"></canvas>
                              </div>
                            </td>
                            <td valign="top">
                              <div id="gravityPieHis" style="width: 100%; height: 200px; position: relative;"
                                class="jqplot-target"><canvas width="261" height="200" class="jqplot-base-canvas"
                                  style="position: absolute; left: 0px; top: 0px;"></canvas>
                                <div class="jqplot-title"
                                  style="position: absolute; top: 0px; left: 0px; width: 261px; text-align: center;">
                                  项目开始的重要性</div><canvas width="261" height="200" class="jqplot-grid-canvas"
                                  style="position: absolute; left: 0px; top: 0px;"></canvas><canvas width="241"
                                  height="147" class="jqplot-series-shadowCanvas"
                                  style="position: absolute; left: 10px; top: 30px;"></canvas><canvas width="241"
                                  height="147" class="jqplot-series-canvas"
                                  style="position: absolute; left: 10px; top: 30px;"></canvas>
                                <table class="jqplot-table-legend" style="position: absolute; left: 10px; top: 30px;">
                                  <tbody>
                                    <tr class="jqplot-table-legend">
                                      <td class="jqplot-table-legend jqplot-table-legend-swatch"
                                        style="text-align: center; padding-top: 0px;">
                                        <div class="jqplot-table-legend-swatch-outline">
                                          <div class="jqplot-table-legend-swatch"
                                            style="background-color: rgb(249, 121, 28); border-color: rgb(249, 121, 28);">
                                          </div>
                                        </div>
                                      </td>
                                      <td class="jqplot-table-legend jqplot-table-legend-label"
                                        style="padding-top: 0px;">关键的: 1</td>
                                    </tr>
                                    <tr class="jqplot-table-legend">
                                      <td class="jqplot-table-legend jqplot-table-legend-swatch"
                                        style="text-align: center; padding-top: 0px;">
                                        <div class="jqplot-table-legend-swatch-outline">
                                          <div class="jqplot-table-legend-swatch"
                                            style="background-color: rgb(249, 121, 28); border-color: rgb(249, 121, 28);">
                                          </div>
                                        </div>
                                      </td>
                                      <td class="jqplot-table-legend jqplot-table-legend-label"
                                        style="padding-top: 0px;">高: 2</td>
                                    </tr>
                                  </tbody>
                                </table><canvas width="241" height="147" class="jqplot-highlight-canvas"
                                  style="position: absolute; left: 10px; top: 30px;"></canvas>
                                <div class="jqplot-highlighter-tooltip" style="position: absolute; display: none;">
                                </div>
                                <div class="jqplot-cursor-tooltip" style="position: absolute; display: none;"></div>
                                <canvas width="241" height="147" class="jqplot-pieRenderer-highlight-canvas"
                                  style="position: absolute; left: 10px; top: 30px;"></canvas><canvas width="241"
                                  height="147" class="jqplot-event-canvas"
                                  style="position: absolute; left: 10px; top: 30px;"></canvas>
                              </div>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                      <table width="100%">
                        <tbody>
                          <tr>
                            <td valign="top">
                              <div id="assigneePie" style="width: 100%; height: 250px; position: relative;"
                                class="jqplot-target"><canvas width="392" height="250" class="jqplot-base-canvas"
                                  style="position: absolute; left: 0px; top: 0px;"></canvas>
                                <div class="jqplot-title"
                                  style="position: absolute; top: 0px; left: 0px; width: 392px; text-align: center;">责任人
                                </div><canvas width="392" height="250" class="jqplot-grid-canvas"
                                  style="position: absolute; left: 0px; top: 0px;"></canvas><canvas width="372"
                                  height="197" class="jqplot-series-shadowCanvas"
                                  style="position: absolute; left: 10px; top: 30px;"></canvas><canvas width="372"
                                  height="197" class="jqplot-series-canvas"
                                  style="position: absolute; left: 10px; top: 30px;"></canvas><canvas width="372"
                                  height="197" class="jqplot-highlight-canvas"
                                  style="position: absolute; left: 10px; top: 30px;"></canvas>
                                <div class="jqplot-highlighter-tooltip" style="position: absolute; display: none;">
                                </div>
                                <div class="jqplot-cursor-tooltip" style="position: absolute; display: none;"></div>
                                <canvas width="372" height="197" class="jqplot-pieRenderer-highlight-canvas"
                                  style="position: absolute; left: 10px; top: 30px;"></canvas><canvas width="372"
                                  height="197" class="jqplot-event-canvas"
                                  style="position: absolute; left: 10px; top: 30px;"></canvas>
                                <div style="height:190px;overflow:auto;position:absolute;top:28px;left:10px;">
                                  <table class="jqplot-table-legend" style="position: relative; left: 0px; top: 0px;">
                                    <tbody>
                                      <tr class="jqplot-table-legend">
                                        <td class="jqplot-table-legend jqplot-table-legend-swatch"
                                          style="text-align: center; padding-top: 0px;">
                                          <div class="jqplot-table-legend-swatch-outline">
                                            <div class="jqplot-table-legend-swatch"
                                              style="background-color: rgb(75, 178, 197); border-color: rgb(75, 178, 197);">
                                            </div>
                                          </div>
                                        </td>
                                        <td class="jqplot-table-legend jqplot-table-legend-label"
                                          style="padding-top: 0px;">取消分工: 2</td>
                                      </tr>
                                    </tbody>
                                  </table>
                                </div>
                              </div>
                            </td>
                            <td valign="top">
                              <div id="assigneePieHis" style="width: 100%; height: 250px; position: relative;"
                                class="jqplot-target"><canvas width="393" height="250" class="jqplot-base-canvas"
                                  style="position: absolute; left: 0px; top: 0px;"></canvas>
                                <div class="jqplot-title"
                                  style="position: absolute; top: 0px; left: 0px; width: 393px; text-align: center;">
                                  人员在该项目的开始</div><canvas width="393" height="250" class="jqplot-grid-canvas"
                                  style="position: absolute; left: 0px; top: 0px;"></canvas><canvas width="373"
                                  height="197" class="jqplot-series-shadowCanvas"
                                  style="position: absolute; left: 10px; top: 30px;"></canvas><canvas width="373"
                                  height="197" class="jqplot-series-canvas"
                                  style="position: absolute; left: 10px; top: 30px;"></canvas><canvas width="373"
                                  height="197" class="jqplot-highlight-canvas"
                                  style="position: absolute; left: 10px; top: 30px;"></canvas>
                                <div class="jqplot-highlighter-tooltip" style="position: absolute; display: none;">
                                </div>
                                <div class="jqplot-cursor-tooltip" style="position: absolute; display: none;"></div>
                                <canvas width="373" height="197" class="jqplot-pieRenderer-highlight-canvas"
                                  style="position: absolute; left: 10px; top: 30px;"></canvas><canvas width="373"
                                  height="197" class="jqplot-event-canvas"
                                  style="position: absolute; left: 10px; top: 30px;"></canvas>
                                <div style="height:190px;overflow:auto;position:absolute;top:28px;left:10px;">
                                  <table class="jqplot-table-legend" style="position: relative; left: 0px; top: 0px;">
                                    <tbody>
                                      <tr class="jqplot-table-legend">
                                        <td class="jqplot-table-legend jqplot-table-legend-swatch"
                                          style="text-align: center; padding-top: 0px;">
                                          <div class="jqplot-table-legend-swatch-outline">
                                            <div class="jqplot-table-legend-swatch"
                                              style="background-color: rgb(75, 178, 197); border-color: rgb(75, 178, 197);">
                                            </div>
                                          </div>
                                        </td>
                                        <td class="jqplot-table-legend jqplot-table-legend-label"
                                          style="padding-top: 0px;">史 玉平: 1</td>
                                      </tr>
                                      <tr class="jqplot-table-legend">
                                        <td class="jqplot-table-legend jqplot-table-legend-swatch"
                                          style="text-align: center; padding-top: 0px;">
                                          <div class="jqplot-table-legend-swatch-outline">
                                            <div class="jqplot-table-legend-swatch"
                                              style="background-color: rgb(234, 162, 40); border-color: rgb(234, 162, 40);">
                                            </div>
                                          </div>
                                        </td>
                                        <td class="jqplot-table-legend jqplot-table-legend-label"
                                          style="padding-top: 0px;">取消分工: 2</td>
                                      </tr>
                                    </tbody>
                                  </table>
                                </div>
                              </div>
                            </td>
                          </tr>
                        </tbody>
                      </table>


                      <script type="text/javascript">
                        var defs = [initialize(contextPath + "/commons/js/jquery/jqplot/jquery.jqplot.min.css", "css"),
                        initialize(contextPath + "/commons/js/jquery/jqplot/jquery.jqplot.min.js", "script")];

                        $.when.apply(null, defs).done(function () {
                          var defs1 = [initialize(contextPath + "/commons/js/jquery/jqplot/plugins/jqplot.dateAxisRenderer.min.js", "script"),
                          initialize(contextPath + "/commons/js/jquery/jqplot/plugins/jqplot.highlighter.min.js", "script"),
                          initialize(contextPath + "/commons/js/jquery/jqplot/plugins/jqplot.cursor.min.js", "script"),
                          initialize(contextPath + "/commons/js/jquery/jqplot/plugins/jqplot.pieRenderer.js", "script")];

                          $.when.apply(null, defs1).done(startup)
                        });

                        function startup() {
                          var plot = $.jqplot("plot", [[[1589756400000, 0], [1590793199000, 0]], [[1589756400000, 0], [1589793535000, 1], [1589793535000, 2], [1589796008000, 3], [1589849929000, 2], [1589850037000, 3], [1589850040000, 2], [1589850071000, 3], [1589850074000, 2], [1590793199000, 2]], [[1589756400000, 0], [1589850078000, -7200000], [1590793199000, -7200000]]], {
                            title: "T1791.01 - Collect Customer Requirements: 2020-5-18 - 2020-5-29",
                            legend: { show: true },
                            series: [
                              { label: "理想趋势" },
                              {
                                label: "已发现的问题",
                                yaxis: "y2axis"
                              },
                              { label: "其余的时间" }

                            ],
                            axes: {
                              xaxis: {
                                renderer: $.jqplot.DateAxisRenderer,
                                tickOptions: { formatString: '%b %#d' },
                                numberTicks: 20
                              },
                              yaxis: {
                                label: "hours",
                                tickOptions: { formatter: durationFromMillis },
                                min: 0,
                                numberTicks: 10
                              },
                              y2axis: {
                                label: "issues",
                                tickOptions: { formatString: "%i" },
                                min: 0,
                                padMin: 1
                              }
                            },
                            cursor: { tooltipLocation: 'sw' }
                          });
                          drawPies();
                        }


                        function durationFromMillis(bo, millis) {
                          return getMillisInHours(millis) + " h";
                        }


                        function drawPies() {
                          if (parseInt("3") > 0) {
                            $.jqplot("statusPie", [[["open: 2", 2], ["closed: 1", 1]]], {
                              seriesColors: ["#3BBF67", "#6EBEF4"],
                              title: "问题状态",
                              legend: {
                                show: true,
                                rowSpacing: "0",
                                location: "nw"
                              },
                              seriesDefaults: { renderer: $.jqplot.PieRenderer },
                              cursor: { show: false }
                            });
                          }


                          if (parseInt("2") > 0) {
                            $.jqplot("gravityPie", [[["高: 2", 2]]], {
                              seriesColors: ["#F9791C"],
                              title: "级别",
                              legend: {
                                show: true,
                                rowSpacing: "0",
                                location: "nw"
                              },
                              seriesDefaults: { renderer: $.jqplot.PieRenderer },
                              cursor: { show: false }
                            });
                          }

                          if (parseInt("2") > 0) {
                            var tort = $.jqplot("assigneePie", [[["取消分工: 2", 2]]], {
                              title: "责任人",
                              legend: {
                                show: true,
                                rowSpacing: "0",
                                location: "nw"
                              },
                              seriesDefaults: { renderer: $.jqplot.PieRenderer },
                              cursor: { show: false }
                            });
                            wrapLegend(tort);
                          }

                          if (parseInt("3") > 0) {
                            $.jqplot("gravityPieHis", [[["关键的: 1", 1], ["高: 2", 2]]], {
                              seriesColors: ["#F9791C"],
                              title: "项目开始的重要性",
                              legend: {
                                show: true,
                                rowSpacing: "0",
                                location: "nw"
                              },
                              seriesDefaults: { renderer: $.jqplot.PieRenderer },
                              cursor: { show: false }
                            });
                          }

                          if (parseInt("3") > 0) {
                            var tort = $.jqplot("assigneePieHis", [[["史 玉平: 1", 1], ["取消分工: 2", 2]]], {
                              title: "人员在该项目的开始",
                              legend: {
                                show: true,
                                rowSpacing: "0",
                                location: "nw"
                              },
                              seriesDefaults: { renderer: $.jqplot.PieRenderer },
                              cursor: { show: false }
                            });

                            wrapLegend(tort);
                          }
                        }


                        function wrapLegend(tort) {
                          var lege = tort.target.find("table");
                          lege.css("position", "relative");
                          lege.remove();
                          tort.target.append(lege);
                          lege.css({ top: 0, left: 0 });
                          lege.wrap("<div style='height:190px;overflow:auto;position:absolute;top:28px;left:10px;'>");
                        }

                      </script>


                    </div>


                  </div>
                </form>
              </div>
            </div>
            <div portletid="20" id="LEFT20" class="portletContainer">
              <div id="wp_iframe" class="portletBox" style="">
                <label>To see content here, you must configure the iframe portlet from admin -&gt; manage
                  portlets.</label></div>
            </div>
            <div portletid="13" id="LEFT13" class="portletContainer">
              <style style="display: none;">
                .myIssue .columnTaskName {
                  width: 10%;
                }
              </style>
              <div class="portletBox myIssue" style="">
                <div style="float:right;padding-top: 5px">&nbsp;<button type="button"
                    class="button noprint textual icon  ruzzol" id="domId_861637690" style="" title="过滤"
                    onclick="$('#myIssues').toggle();return false; "><span class="teamworkIcon ">g</span></button>

                </div>
                <h1><a class="button  textual   " id="domId_774995535" style=""
                    href="/app/issue/issuelist?V_ID=1982958805&amp;CM=FN&amp;FLNM=PF_MY_OPEN_ISSUES">我报告的问题</a>

                </h1>



                <div id="myIssues" class="portletParams" style="display:none"><label for="MAX_MY_ISSUES_DISPLAY"
                    class=" ">问题最大显示数</label>&nbsp;<input type="text" name="MAX_MY_ISSUES_DISPLAY"
                    id="MAX_MY_ISSUES_DISPLAY" size="2" class="formElements" autocomplete="off" maxlength="255"
                    onblur="refreshPortlet($(this),{'MAX_MY_ISSUES_DISPLAY':$(this).val()});" value="8"
                    oldvalue="1">&nbsp;&nbsp;<input type="hidden" name="SHOW_ALSO_DEP" id="SHOW_ALSO_DEP" size="1"
                    autocomplete="off" maxlength="255" data-checkfield="" value="yes" oldvalue="1"><input
                    type="checkbox" id="ck_SHOW_ALSO_DEP" name="ck_SHOW_ALSO_DEP" checked="" value="yes"
                    onclick="$(this).prevAll('[type=hidden]:first').val(this.checked ? 'yes' : 'no');">
                  <label for="ck_SHOW_ALSO_DEP">展会还发出从我的部门</label></div>


                <table class="table dataTable">
                  <thead>
                    <tr>
                      <th class="tableHead" width="1%">级别</th>
                      <th class="tableHead">问题状态</th>
                      <th class="tableHead">描述</th>
                      <th class="tableHead" colspan="2">任务</th>
                      <th class="tableHead" nowrap="">分工给</th>
                      <th class="tableHead" nowrap="">做</th>
                      <th class="tableHead" nowrap=""></th>
                      <th class="tableHead" nowrap=""></th>
                    </tr>
                  </thead>
                  <tbody id="wp_myIssuesExpired" style="display:none;"></tbody>
                  <tbody id="wp_myIssues">
                    <tr class="alternate issueRow " gravity="02_GRAVITY_MEDIUM" issueid="11611" assid="25260"
                      __template="MYISSLINE">
                      <td class="status"></td>
                      <td style="width: 30px; padding-top: 5px;" valign="top" align="center"> <label
                          for="domId_639046414"></label>
                        <div class="cvcComponent " style="cursor:pointer;" cvctype="WP_MYISS_STS"> <input type="hidden"
                            name="ISSUE_STATUS" id="ISSUE_STATUS" size="2" class="formElements" autocomplete="off"
                            maxlength="255" value="11122" oldvalue="1">
                          <div class="cvcColorSquare" onclick="cvc_clickColValSel($(this),event);">
                            <div class="cvcStatuses noValue">
                              <div class="cvcSelBox" code="11122" title="open"><span class="teamworkIcon"
                                  style="color: rgb(59, 191, 103);">©</span></div>
                            </div>
                          </div>
                        </div>
                      </td>
                      <td style="max-width: 300px;">
                        <div class="issueDesc linkEnabled" style="overflow: hidden;word-wrap: normal;cursor: pointer"
                          title="(id:11611) 2020年度上海市人民政府决策咨询研究教育政策专项" onclick="openIssueEditorInBlack(11611);">项目谁负责
                        </div>
                      </td>
                      <td valign="top" class="textSmall columnTaskName">
                        <div class="pathSmall"></div> <span title="任务"><a class="button  textual   "
                            id="domId_640999470" style=""
                            href="/app/taskOverview.html??CM=ED&amp;OBJID=45747">2020年度上海市人民政府决策咨询研究教育政策专项</a>
                        </span>
                      </td>
                      <td valign="top" class="textSmall columnTaskCode"><span title="任务">SH001</span></td>
                      <td valign="top" nowrap=""> <img
                          src="/img/svgavatar?code=%E7%8E%89%E5%8F%B2&amp;fill=hsl%28240%2C70%25%2C80%25%29&amp;stroke=hsl%28240%2C90%25%2C20%25%29"
                          align="absmiddle" class="face small active" title="史 玉平" resid="12771"> <span
                          class="textSmall"></span> </td>
                      <td nowrap=""> </td>
                      <td valign="top" style="padding-top: 5px"> <span class="button noprint textual small" title="评论 0"
                          onclick="showComments($(this));return false; "><span
                            class="teamworkIcon withLabel">Q</span><span commentsize=""
                            style="padding-bottom: 3px"></span></span> </td>
                      <td valign="top" style="padding-top: 5px"> <span class="button noprint textual icon"
                          title="新增的工作日志" onclick="btnShowWorklog($(this));return false; "><span
                            class="teamworkIcon">w</span></span> </td>
                    </tr>
                  </tbody>
                </table>




                <script type="text/javascript">
                  var defs = [initialize(contextPath + "/parts/partIssuePortletSupport.html", "html"),
                  initialize(contextPath + "/parts/partIssueNotes.html", "html")];

                  $.when.apply(null, defs) // per chiamare la when con un array [a,b,c,d] invece che parametri sep.  (a,b,c,d)
                    .done(function () {
                      $("#wp_myIssueTemplates").loadTemplates().remove();

                      var expired = [];
                      var issues = [{ "id": "11611", "lastModifier": "史 玉平", "lastModified": 1590542044000, "creator": "史 玉平", "creationDate": 1590542044000, "areaId": 4957, "area": "同方知网", "description": "项目谁负责", "estimatedDuration": 0, "worklogDone": 0, "tags": "", "icodid": "11611", "signalledOn": 1590534000000, "orderByTask": 0, "orderByRes": 0, "commentSize": 0, "taskId": "45747", "taskName": "2020年度上海市人民政府决策咨询研究教育政策专项", "taskCode": "SH001", "tcodid": "SH001", "taskPath": "", "assigneeId": "12771", "assigneeName": "史 玉平", "rcodid": "12771", "assigneeAvatarUrl": "/img/svgavatar?code=%E7%8E%89%E5%8F%B2&fill=hsl%28240%2C70%25%2C80%25%29&stroke=hsl%28240%2C90%25%2C20%25%29", "assigneeConnectionStatus": "", "assignedById": "12771", "assignedByName": "史 玉平", "assigendByCodid": "12771", "assignedByAvatarUrl": "/img/svgavatar?code=%E7%8E%89%E5%8F%B2&fill=hsl%28240%2C70%25%2C80%25%29&stroke=hsl%28240%2C90%25%2C20%25%29", "assignedByConnectionStatus": "", "assignmentId": "25260", "statusId": 11122, "statusName": "open", "statusColor": "#3BBF67", "statusOrder": 1, "isOpen": true, "gravityId": "02_GRAVITY_MEDIUM", "gravityName": "中", "gravityColor": "#F9C154", "gravityOrder": 4, "documents": [] }];

                      var ndo = $("#wp_myIssuesExpired");
                      for (var i = 0; i < expired.length; i++) {
                        var iss = $.JST.createFromTemplate(expired[i], "MYISSLINE");
                        cvc_redraw(iss.find(".cvcComponent"));
                        ndo.append(iss);
                      }
                      if (expired.length > 0)
                        ndo.show();

                      ndo = $("#wp_myIssues");
                      for (var i = 0; i < issues.length; i++) {
                        var iss = $.JST.createFromTemplate(issues[i], "MYISSLINE");
                        cvc_redraw(iss.find(".cvcComponent"));
                        ndo.append(iss);
                      }


                      //bind  issueEvent
                      registerEvent("issueEvent.wpMyIssues", function (e, data) {
                        //console.debug("wp_myIssues",data);
                        refreshPortlet($("#myIssues"));
                      });

                    })

                </script>
              </div>
            </div>
            <div portletid="6" id="LEFT6" class="portletContainer">
              <div class="portletBox lreq10 lreqLabel" style="">
                <h1 style="display: inline;">计时器</h1> <span id="tcSearchPlace">
                  <div class="tableFilterElementBox" style="float: none;"><input id="tableFilterField_6551" type="text"
                      class="formElements formElementsSmall tableFilterElementBox-input" autocomplete="off"
                      rowselector="[assId]" cellselector=".columnTaskName,.columnTaskCode"
                      onkeyup="tableFilter($('#tableFilterField_6551'))"><span
                      class="button noprint textual icon tableFilterElementBox-search" data-search=""><span
                        class="teamworkIcon">L</span></span><span
                      class="button noprint textual icon tableFilterElementBox-close" data-close=""><span
                        class="teamworkIcon">x</span></span></div>
                </span>
                <h2 class="sectionTitle">单一连续时间段</h2>
                <table class="table fixHead timeCounterWidget" cellpadding="4" cellspacing="0" border="0" id="tcPrj">
                  <thead class="dataTableHead" style="" id="thead_1">
                    <tr>

                      <th class="tableHead" colspan="3" nowrap="" id="tcPrjFC">分工</th>
                      <th class="tableHead" nowrap="">优先</th>
                      <th class="tableHead" nowrap="" colspan="2"></th>
                    </tr>
                  </thead>


                  <tbody>
                    <tr class="alternate" assid="25258">


                      <td class="columnTaskName" style="position: relative;">
                        <div class="pathSmall"><span class="pathEl"></span></div>
                        <a class="button  textual   " id="domId_1564769032" style=""
                          href="/app/taskOverview.html??V_ID=910969689&amp;CM=ED&amp;OBJID=45747">2020年度上海市人民政府决策咨询研究教育政策专项</a>




                      </td>

                      <td class="textSmall columnTaskCode">
                        <span>SH001</span>
                      </td>
                      <td class="textSmall" width="40">PM</td>
                      <td align="left" width="30">
                        <div class="cvcColorSquare priorityLabel" style="background-color:#a0a0a0" title="priority: 30">
                          低
                        </div>
                      </td>

                      <td align="right" width="200" nowrap="">
                        <div class="timeCounter" style="display: none; margin-right: 20px; white-space: nowrap">00<span
                            class="">h</span> 00<span class="counterLabel">m</span><span class="sec"> 00<span
                              class="counterLabel">s</span></span></div>
                        <button type="button" class="button noprint textual icon  controls play" id="domId_1256643560"
                          style="" onclick="pTCStartStop($(this));return false; "><span
                            class="teamworkIcon ">a</span></button>

                      </td>
                    </tr>


                    <tr class="alternate" assid="25260">


                      <td class="columnTaskName" style="position: relative;">
                        <div class="pathSmall"><span class="pathEl"></span></div>
                        <a class="button  textual   " id="domId_787598682" style=""
                          href="/app/taskOverview.html??V_ID=1234272582&amp;CM=ED&amp;OBJID=45747">2020年度上海市人民政府决策咨询研究教育政策专项</a>




                      </td>

                      <td class="textSmall columnTaskCode">
                        <span>SH001</span>
                      </td>
                      <td class="textSmall" width="40">WK</td>
                      <td align="left" width="30">
                        <div class="cvcColorSquare priorityLabel" style="background-color:#a0a0a0" title="priority: 30">
                          低
                        </div>
                      </td>

                      <td align="right" width="200" nowrap="">
                        <div class="timeCounter" style="display: none; margin-right: 20px; white-space: nowrap">00<span
                            class="">h</span> 00<span class="counterLabel">m</span><span class="sec"> 00<span
                              class="counterLabel">s</span></span></div>
                        <button type="button" class="button noprint textual icon  controls play" id="domId_1874739301"
                          style="" onclick="pTCStartStop($(this));return false; "><span
                            class="teamworkIcon ">a</span></button>

                      </td>
                    </tr>


                    <tr class="alternate" assid="25244">


                      <td class="columnTaskName" style="position: relative;">
                        <div class="pathSmall"><span class="pathEl">Production Project</span></div>
                        <a class="button  textual   " id="domId_2144489129" style=""
                          href="/app/taskOverview.html??V_ID=1558482789&amp;CM=ED&amp;OBJID=45675">Collect
                          Customer Requirements</a>




                      </td>

                      <td class="textSmall columnTaskCode">
                        <span>T1791.01</span>
                      </td>
                      <td class="textSmall" width="40">WK</td>
                      <td align="left" width="30">
                        <div class="cvcColorSquare priorityLabel" style="background-color:#a0a0a0" title="priority: 30">
                          低
                        </div>
                      </td>

                      <td align="right" width="200" nowrap="">
                        <div class="timeCounter" style="display: none; margin-right: 20px; white-space: nowrap">00<span
                            class="">h</span> 00<span class="counterLabel">m</span><span class="sec"> 00<span
                              class="counterLabel">s</span></span></div>
                        <button type="button" class="button noprint textual icon  controls play" id="domId_562192264"
                          style="" onclick="pTCStartStop($(this));return false; "><span
                            class="teamworkIcon ">a</span></button>

                      </td>
                    </tr>


                    <tr class="alternate" assid="25236">


                      <td class="columnTaskName" style="position: relative;">
                        <div class="pathSmall"><span class="pathEl"></span></div>
                        <a class="button  textual   " id="domId_1970872414" style=""
                          href="/app/taskOverview.html??V_ID=107250980&amp;CM=ED&amp;OBJID=45674">Production
                          Project</a>




                      </td>

                      <td class="textSmall columnTaskCode">
                        <span>T1791</span>
                      </td>
                      <td class="textSmall" width="40">PM</td>
                      <td align="left" width="30">
                        <div class="cvcColorSquare priorityLabel" style="background-color:#a0a0a0" title="priority: 30">
                          低
                        </div>
                      </td>

                      <td align="right" width="200" nowrap="">
                        <div class="timeCounter" style="display: none; margin-right: 20px; white-space: nowrap">00<span
                            class="">h</span> 00<span class="counterLabel">m</span><span class="sec"> 00<span
                              class="counterLabel">s</span></span></div>
                        <button type="button" class="button noprint textual icon  controls play" id="domId_828441027"
                          style="" onclick="pTCStartStop($(this));return false; "><span
                            class="teamworkIcon ">a</span></button>

                      </td>
                    </tr>


                    <tr class="alternate" assid="25266">


                      <td class="columnTaskName" style="position: relative;">
                        <div class="pathSmall"><span class="pathEl"></span></div>
                        <a class="button  textual   " id="domId_641309623" style=""
                          href="/app/taskOverview.html??V_ID=696531624&amp;CM=ED&amp;OBJID=45758">后“双创”时期海口夜间经济发展质量满意度评价及机制构建</a>




                      </td>

                      <td class="textSmall columnTaskCode">
                        <span>T45758</span>
                      </td>
                      <td class="textSmall" width="40">PM</td>
                      <td align="left" width="30">
                        <div class="cvcColorSquare priorityLabel" style="background-color:#a0a0a0" title="priority: 30">
                          低
                        </div>
                      </td>

                      <td align="right" width="200" nowrap="">
                        <div class="timeCounter" style="display: none; margin-right: 20px; white-space: nowrap">00<span
                            class="">h</span> 00<span class="counterLabel">m</span><span class="sec"> 00<span
                              class="counterLabel">s</span></span></div>
                        <button type="button" class="button noprint textual icon  controls play" id="domId_673644771"
                          style="" onclick="pTCStartStop($(this));return false; "><span
                            class="teamworkIcon ">a</span></button>

                      </td>
                    </tr>


                    <tr class="alternate" assid="25268">


                      <td class="columnTaskName" style="position: relative;">
                        <div class="pathSmall"><span class="pathEl"></span></div>
                        <a class="button  textual   " id="domId_368400258" style=""
                          href="/app/taskOverview.html??V_ID=190464157&amp;CM=ED&amp;OBJID=45758">后“双创”时期海口夜间经济发展质量满意度评价及机制构建</a>




                      </td>

                      <td class="textSmall columnTaskCode">
                        <span>T45758</span>
                      </td>
                      <td class="textSmall" width="40">WK</td>
                      <td align="left" width="30">
                        <div class="cvcColorSquare priorityLabel" style="background-color:#a0a0a0" title="priority: 30">
                          低
                        </div>
                      </td>

                      <td align="right" width="200" nowrap="">
                        <div class="timeCounter" style="display: none; margin-right: 20px; white-space: nowrap">00<span
                            class="">h</span> 00<span class="counterLabel">m</span><span class="sec"> 00<span
                              class="counterLabel">s</span></span></div>
                        <button type="button" class="button noprint textual icon  controls play" id="domId_1380452669"
                          style="" onclick="pTCStartStop($(this));return false; "><span
                            class="teamworkIcon ">a</span></button>

                      </td>
                    </tr>


                    <tr class="alternate" assid="25237">


                      <td class="columnTaskName" style="position: relative;">
                        <div class="pathSmall"><span class="pathEl"></span></div>
                        <a class="button  textual   " id="domId_1538866151" style=""
                          href="/app/taskOverview.html??V_ID=1612604896&amp;CM=ED&amp;OBJID=45684">我的一个项目</a>




                      </td>

                      <td class="textSmall columnTaskCode">
                        <span>Project001</span>
                      </td>
                      <td class="textSmall" width="40">PM</td>
                      <td align="left" width="30">
                        <div class="cvcColorSquare priorityLabel" style="background-color:#a0a0a0" title="priority: 30">
                          低
                        </div>
                      </td>

                      <td align="right" width="200" nowrap="">
                        <div class="timeCounter" style="display: none; margin-right: 20px; white-space: nowrap">00<span
                            class="">h</span> 00<span class="counterLabel">m</span><span class="sec"> 00<span
                              class="counterLabel">s</span></span></div>
                        <button type="button" class="button noprint textual icon  controls play" id="domId_1806861932"
                          style="" onclick="pTCStartStop($(this));return false; "><span
                            class="teamworkIcon ">a</span></button>

                      </td>
                    </tr>


                    <tr class="alternate" assid="25239">


                      <td class="columnTaskName" style="position: relative;">
                        <div class="pathSmall"><span class="pathEl"></span></div>
                        <a class="button  textual   " id="domId_33002634" style=""
                          href="/app/taskOverview.html??V_ID=1029199695&amp;CM=ED&amp;OBJID=45684">我的一个项目</a>




                      </td>

                      <td class="textSmall columnTaskCode">
                        <span>Project001</span>
                      </td>
                      <td class="textSmall" width="40">WK</td>
                      <td align="left" width="30">
                        <div class="cvcColorSquare priorityLabel" style="background-color:#a0a0a0" title="priority: 30">
                          低
                        </div>
                      </td>

                      <td align="right" width="200" nowrap="">
                        <div class="timeCounter" style="display: none; margin-right: 20px; white-space: nowrap">00<span
                            class="">h</span> 00<span class="counterLabel">m</span><span class="sec"> 00<span
                              class="counterLabel">s</span></span></div>
                        <button type="button" class="button noprint textual icon  controls play" id="domId_1925980927"
                          style="" onclick="pTCStartStop($(this));return false; "><span
                            class="teamworkIcon ">a</span></button>

                      </td>
                    </tr>


                    <tr class="alternate" assid="25255">


                      <td class="columnTaskName" style="position: relative;">
                        <div class="pathSmall"><span class="pathEl"></span></div>
                        <a class="button  textual   " id="domId_308174486" style=""
                          href="/app/taskOverview.html??V_ID=538153284&amp;CM=ED&amp;OBJID=45746">河南省教育厅2021年度河南省高等学校重点科研项目</a>




                      </td>

                      <td class="textSmall columnTaskCode">
                        <span>HN001</span>
                      </td>
                      <td class="textSmall" width="40">PM</td>
                      <td align="left" width="30">
                        <div class="cvcColorSquare priorityLabel" style="background-color:#a0a0a0" title="priority: 30">
                          低
                        </div>
                      </td>

                      <td align="right" width="200" nowrap="">
                        <div class="timeCounter" style="display: none; margin-right: 20px; white-space: nowrap">00<span
                            class="">h</span> 00<span class="counterLabel">m</span><span class="sec"> 00<span
                              class="counterLabel">s</span></span></div>
                        <button type="button" class="button noprint textual icon  controls play" id="domId_1688606671"
                          style="" onclick="pTCStartStop($(this));return false; "><span
                            class="teamworkIcon ">a</span></button>

                      </td>
                    </tr>


                    <tr class="alternate" assid="25261">


                      <td class="columnTaskName" style="position: relative;">
                        <div class="pathSmall"><span class="pathEl"></span></div>
                        <a class="button  textual   " id="domId_1174963937" style=""
                          href="/app/taskOverview.html??V_ID=904018734&amp;CM=ED&amp;OBJID=45748">海口入境旅游及客源市场的季节性特征研究</a>




                      </td>

                      <td class="textSmall columnTaskCode">
                        <span>HK</span>
                      </td>
                      <td class="textSmall" width="40">PM</td>
                      <td align="left" width="30">
                        <div class="cvcColorSquare priorityLabel" style="background-color:#a0a0a0" title="priority: 30">
                          低
                        </div>
                      </td>

                      <td align="right" width="200" nowrap="">
                        <div class="timeCounter" style="display: none; margin-right: 20px; white-space: nowrap">00<span
                            class="">h</span> 00<span class="counterLabel">m</span><span class="sec"> 00<span
                              class="counterLabel">s</span></span></div>
                        <button type="button" class="button noprint textual icon  controls play" id="domId_396059813"
                          style="" onclick="pTCStartStop($(this));return false; "><span
                            class="teamworkIcon ">a</span></button>

                      </td>
                    </tr>
                  </tbody>
                </table>

                <br>
                <h2 class="sectionTitle">多重时间段</h2>
                <table class="table timeCounterWidget" cellpadding="4" cellspacing="0" border="0" id="tcRoutine">
                  <thead class="dataTableHead" style="">
                    <tr>
                      <th class="tableHead" colspan="3" nowrap="" id="tcRoutineFC">分工</th>
                      <th class="tableHead" nowrap="">优先</th>
                      <th class="tableHead" nowrap=""></th>
                    </tr>
                  </thead>
                  <tbody></tbody>
                </table>


                <script>

                  //inject the table search
                  createTableFilterElement($("#tcSearchPlace"), "[assId]", ".columnTaskName,.columnTaskCode").css("float", "none");


                  $(function () {
                    var assig = undefined
                    if (assig)
                      $(".timeCounterWidget tr[assId=" + assig.id + "]").addClass("highlight").find(".timeCounter").data("time", assig.countingStartedMillis).activateTimeCounter().show();
                  });

                  function pTCStartStop(el) {
                    var row = el.closest("tr[assId]");
                    var assId = row.attr("assId");
                    showSavingMessage();

                    if (el.is(".stop")) {//   ---------------------------------  STOP
                      var request = { CM: "STOPCOUNTER", assId: assId };
                      $.getJSON(contextPath + "/worklog/worklogAjax", request, function (response) {
                        jsonResponseHandling(response);
                        if (response.ok) {
                          row.removeClass("highlight");
                          row.find(".timeCounter").stopTimeCounter().hide();
                          el.removeClass("stop").addClass("play").find(".teamworkIcon").html("a");
                          getTop().$("body").trigger("timeCounterEvent", [
                            { type: "stop", response: response }
                          ]);

                          pTCAskForAction(el, response);
                        }
                        hideSavingMessage();
                      });

                    } else {//   ---------------------------------  START

                      //se ce n'Ã¨ uno aperto lo stoppo
                      $(".timeCounterWidget .controls.stop").click();

                      var request = { CM: "STARTCOUNTER", assId: assId };
                      $.getJSON(contextPath + "/worklog/worklogAjax", request, function (response) {
                        jsonResponseHandling(response);
                        if (response.ok) {
                          row.addClass("highlight");
                          row.find(".timeCounter").data("time", new Date().getTime()).show().activateTimeCounter();
                          el.removeClass("play").addClass("stop").find(".teamworkIcon").html("s");
                          pTCAskForAction(el, response);
                          getTop().$("body").trigger("timeCounterEvent", [
                            { type: "start", response: response }
                          ]);
                        }
                        hideSavingMessage();
                      });

                    }
                  }


                  function pTCAskForAction(el, response) {
                    //console.debug("pTCAskForAction",el,response)
                    if (!response.worklog)
                      return;

                    openWorklogEditorCloseToElement(el, { wlId: response.worklog.id, assId: response.worklog.assId, title: response.worklog.taskCode + " - " + response.worklog.taskName, millis: new Date().getTime() }, function (wlBox) {
                      wlBox.find("#WORKLOG_DURATION").val(getMillisInHoursMinutes(response.worklog.duration));
                      wlBox.find("#WORKLOG_ACTION").focus();
                    });
                  }



                  function removeWorklog(el, wlId, event, alreadyConfirmed) {
                    if (event)
                      event.stopPropagation();
                    function del() {
                      showSavingMessage();
                      var req = { "CM": "REMOVEWL", wlId: wlId };

                      $.getJSON(contextPath + "/worklog/worklogAjax", req, function (response) {
                        jsonResponseHandling(response);
                        hideSavingMessage();
                      });
                    };

                    if (alreadyConfirmed) {
                      del()
                    } else {
                      el.confirm(del, "确认删除?");
                    }
                  }



                </script>


              </div>
            </div>
          </div>
          <div areaname="LEFT_BOTTOM" custom="no"></div>
        </div>
        <div class="rightColumnHome">
          <div areaname="RIGHT_TOP" custom="no"></div>
          <div areaname="RIGHT" custom="yes">
            <div portletid="29" id="RIGHT29" class="portletContainer">
              <link href="/commons/layout/disclose/mb.disclose.css?_=65017" rel="stylesheet" type="text/css"
                style="display: none;">
              <script type="text/javascript" src="/commons/layout/disclose/jquery.mb.disclose.js?_=65017"
                style="display: none;"></script>
              <style style="display: none;">
                .welcomeDiv {
                  height: 330px;
                  background-color: #586874;
                  border: none;
                }

                .welcomeDiv h2 {
                  font-weight: 200;
                  font-size: 35px;
                  line-height: 1.1em;
                }

                #wrapper {
                  position: absolute;
                  top: 0;
                  left: 0;
                  width: 100%;
                  height: 280px;
                }

                #mbCarousel {
                  position: relative;
                  width: 100%;
                  margin: auto;
                  height: 280px;
                }

                #mbCarousel .banner {
                  position: relative;
                  padding: 30px 40px;
                  border-top-left-radius: 5px;
                  border-top-right-radius: 5px;
                  color: #fff;
                  font-size: 20px;
                  font-weight: 200;
                }

                #mbCarousel .button.light {
                  color: #fff;
                  border: 1px solid #fff;
                  background-color: transparent;
                  font-size: 14px;
                  min-width: 120px;
                  margin-bottom: 10px;
                }

                #mbCarousel .button.light:hover {
                  background-color: rgba(0, 0, 0, 0.1);
                  ;
                }

                #welcomeDiv #buttonBar {
                  float: right;
                  text-align: right;
                  padding: 10px;
                  opacity: 0.5;
                }

                #welcomeDiv #buttonBar .button.textual {
                  color: #fff;
                }

                #projects {
                  background: #6bc2e7;
                }

                #projectsdone {
                  background: #46b5a0;
                }

                #resource {
                  background: #68b645;
                }

                #aboutYou {
                  background: #a8b547;
                }

                #issues {
                  background: #f2b64c;
                }

                #home {
                  background: #f79a66;
                }

                #welcomeDiv #slideIndex {
                  text-align: left;
                  padding: 8px 0 0 40px;
                  display: inline-block;
                }



                .idxPage {
                  width: 20px;
                  height: 20px;
                }

                .idxPage.sel {
                  box-shadow: none;
                }

                .idxPage.done {
                  background-image: url(/img/check-inactive.png);
                  background-color: #586874;
                  background-repeat: no-repeat;
                  border: 1px solid rgba(255, 255, 255, 1);
                  background-position: center;
                }

                .idxPage.done.sel {
                  background-image: url(/img/check-active.png);
                  background-color: #fff;
                  background-repeat: no-repeat;
                }

                .step-img {
                  float: right;
                  width: 220px;
                  margin-left: 80px;
                }

                .step-img.gantt {
                  width: 260px;
                  margin-left: 0;
                }

                .task-number {
                  position: absolute;
                  right: 50px;
                  bottom: 50px;
                  font-size: 5em;
                  background-color: #fff;
                  border-radius: 50%;
                  width: 130px;
                  height: 130px;
                  text-align: center;
                  box-shadow: -8px 5px 0 rgba(0, 0, 0, 0.3);
                }

                .task-number a.button.textual {
                  color: #68b645;
                  font-weight: 200;
                }

                .task-number a.button.textual:hover {
                  color: #333;
                  text-decoration: none;
                }
              </style>
              <div id="welcomeDiv" class="welcomeDiv portletBox" style="">

                <div id="wrapper">
                  <div id="mbCarousel" style="overflow: hidden; visibility: visible;">
                    <!----------------------------------------------------------------------------------------------------------------->
                    <!--------------------------------------------------- TASK-------------------------------------------------------------->
                    <!----------------------------------------------------------------------------------------------------------------->



                    <!----------------------------------------------------------------------------------------------------------------->
                    <!--------------------------------------------------- RESOURCE -------------------------------------------------------------->
                    <!----------------------------------------------------------------------------------------------------------------->

                    <!----------------------------------------------------------------------------------------------------------------->
                    <!--------------------------------------------------- OPTION -------------------------------------------------------------->
                    <!----------------------------------------------------------------------------------------------------------------->

                    <!----------------------------------------------------------------------------------------------------------------->
                    <!--------------------------------------------------- ISSUE -------------------------------------------------------------->
                    <!----------------------------------------------------------------------------------------------------------------->

                    <!----------------------------------------------------------------------------------------------------------------->
                    <!--------------------------------------------------- DASHBOARD-------------------------------------------------------------->
                    <!----------------------------------------------------------------------------------------------------------------->

                    <div class="mbDiscloseWrapper"
                      style="z-index: 1; opacity: 1; top: 0px; left: 0px; transform: rotate(0deg) scale(1);"
                      id="CSSA_1590638473947">
                      <div id="aboutYou" class="banner in"
                        style="height: 280px; box-sizing: border-box; overflow: hidden;">
                        <img src="/img/step-3.png" class="step-img">

                        <h2>Let's talk about you</h2>

                        <div class="bannerText">
                          <p>Upload your photo, update your info, set location and language.</p>
                        </div>
                        <a class="button     light" id="domId_1284930046" style=""
                          href="/app/resource/resourceOptions.html?V_ID=364077622&amp;CM=EDIT_OPT&amp;OBJID=12771">Update
                          info</a>


                      </div>
                    </div>
                  </div>
                  <div id="slideIndex">
                    <div class="idxContainer">
                      <div class="idxPage done" id="pageIdx_0"></div>
                      <div class="idxPage done" id="pageIdx_1"></div>
                      <div class="idxPage sel" id="pageIdx_2"></div>
                      <div class="idxPage done" id="pageIdx_3"></div>
                      <div class="idxPage done" id="pageIdx_4"></div>
                    </div>
                  </div>
                  <div id="buttonBar">

                    <button class="button textual small" onclick="removePortlet($(this))">Don't show this help again
                      <span class="teamworkIcon">x</span>
                    </button>
                  </div>

                </div>
              </div>
              <script style="display: none;">
                $(function () {
                  $("#mbCarousel").disclose({
                    animationIn: { opacity: 0 },
                    animationOut: { opacity: 0 }
                  });

                  $('#mbCarousel').disclose('goto', "aboutYou");
                });

                function removePortlet(el) {
                  var portletId = el.closestAttr("portletId");
                  var pageId = el.closest(".wsPage[pageId]").attr("pageId");
                  var req = { CM: "REMPORTLET", portletId: portletId, pageId: pageId };

                  showSavingMessage();
                  $.getJSON(contextPath + "/applications/website/admin/ajax/ajaxCustomizationController.jsp", req, function (response) {
                    hideSavingMessage();
                    jsonResponseHandling(response);
                    if (response.ok) {
                      el.closest("[portletId]").fadeOut(500, function () {
                        $(this.remove())
                      });
                    }
                  })
                }

                function customizeThisPage(el) {
                  var pageId = el.closest(".wsPage[pageId]").attr("pageId");
                  getTop().location.href = "/applications/website/admin/customizePage.jsp?V_ID=298419114&PAGEID=" + pageId
                }
              </script>
            </div>
            <div portletid="24" id="RIGHT24" class="portletContainer">
              <style type="text/css" style="display: none;">
                .todoLine {
                  border-bottom: 1px solid #CCCCCC;
                  background: #F7F7F7;
                  position: relative;
                  min-height: 25px;
                  padding: 0;
                }

                .todoLine:first-of-type {
                  border-top: 1px solid #CCCCCC;
                }

                .todoLine.done .body {
                  text-decoration: line-through;
                }

                .doIt span.teamworkIcon {
                  position: relative;
                  cursor: pointer;
                }

                .todoLine.done .body {
                  color: #656565
                }

                .confirmBox {
                  background-color: #fff
                }

                .todoLine .body {
                  word-wrap: break-word;
                }

                .todos.small input.formElements {
                  padding: 10px;
                  /*!*!*background-image: url("/img/crossed-bg.png")*!*!*/

                }

                div.issueDrag.dragHandler {
                  opacity: .6;
                }
              </style>

              <div class="portletBox todos small todo-list" style="position: relative; overflow: auto;">
                <h1>To-do</h1>


                <div class="container">
                  <input type="text" style="font-size:16px;width:100%;margin-bottom: 10px" placeholder="To-do"
                    onkeypress="saveTodo(event,$(this));" class="formElements">

                  <div id="wp_todo_list" class="ui-sortable"></div>


                </div>

              </div>

              <script type="text/javascript" style="display: none;">

                //    $(function () {
                $("#todotempl").loadTemplates().remove();
                var ndo = $("#wp_todo_list");
                var todos = [];


                for (var i = 0; i < todos.length; i++) {
                  var todo = $.JST.createFromTemplate(todos[i], "TODOLINE");
                  ndo.append(todo);
                }

                $("#wp_todo_list").sortable({
                  handle: ".dragHandler",
                  axis: "y",
                  //    scroll: false,
                  update: function (table, row) {
                    var sortedIds = [];
                    $(this).children().each(function () {
                      sortedIds.push($(this).attr("issueId"));
                    });

                    var request = { CM: "SORT_ISSUES", SORT_FLAVOUR: "BY_RESOURCE", issues: sortedIds.join(",") };
                    showSavingMessage();
                    $.getJSON(contextPath + "/issue/issueAjaxControllerJson", request, function (response) {
                      jsonResponseHandling(response);
                      if (response.ok) {
                        //do nothing
                      }
                      hideSavingMessage();
                    });
                  },
                  start: function (e, ui) {
                    ui.placeholder.height(ui.helper.outerHeight());
                  }
                })//.disableSelection();
                //});

                function removeTodo(el) {
                  if (el.confirm(function () {
                    var row = el.closest("[issueId]");
                    var request = { CM: "DL", OBJID: row.attr("issueId") };
                    showSavingMessage();
                    $.getJSON(contextPath + "/issue/issueAjaxControllerJson", request, function (response) {
                      jsonResponseHandling(response);
                      if (response.ok) {
                        row.fadeOut(300, function () {
                          $(this).remove();
                        });
                      }
                      hideSavingMessage();
                    });
                  }));
                }


                function saveTodo(ev, el) {
                  if (ev.keyCode == 13 && el.val() != "") {
                    var row = el.closest("[issueId]");
                    var request = { CM: "ADDTODO", descr: el.val() };
                    showSavingMessage();
                    $.getJSON(contextPath + "/issue/issueAjaxControllerJson", request, function (response) {
                      jsonResponseHandling(response);
                      if (response.ok) {
                        if (response.todo) {
                          var domTodo = insertSorted(response.todo);
                          domTodo.effect("highlight", { color: "#F9EFC5" }, 2000);
                          el.val("");
                        }
                      }
                      hideSavingMessage();
                    });
                  }
                }


                function doUndo(el) {
                  var row = el.closest("[issueId]");

                  var request = { CM: "TDDONE", OBJID: row.attr("issueId"), done: row.is(".done") ? "no" : "yes" };
                  showSavingMessage();
                  $.getJSON(contextPath + "/issue/issueAjaxControllerJson", request, function (response) {
                    jsonResponseHandling(response);
                    if (response.ok) {
                      if (response.todo) {
                        row.remove();
                        var domTodo = insertSorted(response.todo);
                        domTodo.effect("highlight", { color: "#F9EFC5" }, 2000);
                      }
                    }
                    hideSavingMessage();
                  });
                }


                function insertSorted(jsTodo) {
                  var ndo = $("#wp_todo_list");
                  var foundOne = false;
                  var todo = $.JST.createFromTemplate(jsTodo, "TODOLINE");
                  ndo.find("[issueId]").each(function () {
                    var row = $(this);
                    var isOpen = row.attr("isOpen") == "true";
                    if (isOpen < jsTodo.isOpen) {
                      row.before(todo);
                      foundOne = true;
                      return false;
                    } else if (isOpen == jsTodo.isOpen) {
                      if (parseInt(row.attr("orderByRes")) >= parseInt(jsTodo.orderByRes)) {
                        row.before(todo);
                        foundOne = true;
                        return false;
                      }
                    }
                  });
                  if (!foundOne) {
                    ndo.append(todo);
                  }
                  return todo;
                }

              </script>
            </div>
            <div portletid="9" id="RIGHT9" class="portletContainer">
              <div class="myAppointments portletBox small" style="">

                <style type="text/css">
                  .myAppointments .eventDetail {
                    padding: 1px 4px;
                  }

                  .myAppointments .eventLine {
                    margin-bottom: 5px;
                    color: #444;
                  }

                  .myAppointments .eventLine em {
                    color: #a5a5a5;
                  }

                  .myAppointments h4 {
                    border-bottom: 1px solid #cccccc;
                    font-weight: 600;
                  }

                  .myAppointments .button.textual.icon {
                    margin: 12px 8px 0 0;
                  }

                  .eventDetail>i {
                    font-size: 90%;
                  }

                  .eventDetail .teamworkIcon {
                    background-color: #afdcff;
                    color: transparent;
                  }

                  .eventDetail .teamworkIcon {
                    margin-right: 2px;
                    display: inline-block;
                    color: transparent;
                    box-sizing: border-box;
                    border: 2px solid #fff;
                  }

                  .teamworkIcon.isMeeting {
                    background-color: #CFF7EA;
                  }

                  .teamworkIcon.isPersonal {
                    background-color: #afdcff;
                  }

                  .teamworkIcon.isReminder {
                    background-color: #FCEC6B;
                  }

                  .teamworkIcon.isUnavailability {
                    background-color: #f4cdcb;
                  }
                </style>

                <div style="float:right;"></div>

                <h1><a class="button  textual   " id="domId_1493519603" style="" title="日程"
                    href="/app/agendaWeekDay.html?V_ID=272901692">我的约会</a>

                </h1>

                <div class="events">
                  <h5>今天 - 星期四 28</h5>
                  <div class="event today"></div>
                  <div class="eventLine"><em>没有任何事件</em></div>
                  <div class="event">
                    <h5>明天 - 星期五 29</h5>
                  </div>
                  <div class="eventLine"><em>没有任何事件</em></div>


                </div>
              </div>
            </div>
            <div portletid="17" id="RIGHT17" class="portletContainer">
              <div id="managFavDiv" class="bookmarksDiv portletBox small" style="">
                <style>
                  .bookmarksDiv h2,
                  .customPagesDiv h2 {
                    padding: 0;
                    border: 0
                  }

                  .customPagesDiv .button.textual {
                    color: #617777;
                    display: block;
                    font-size: 14px;
                    line-height: 24px;
                    text-align: left;
                  }

                  .bookmarksDiv .linkLine,
                  .customPagesDiv .linkLine {
                    position: relative;
                    border-bottom: 1px solid #CCCCCC;
                  }

                  .linkLine .button.textual {
                    line-height: 30px;
                  }
                </style>
                <form enctype="application/x-www-form-urlencoded" method="POST"
                  action="/portlethtml/wp_links.html" name="d97033458" id="d97033458"
                  savedaction="" savedtarget=""><input type="hidden" id="d97033458V_ID" name="V_ID" value="97033458"
                    savedvalue="">
                  <input type="hidden" id="d97033458CM" name="CM" value="" savedvalue="">
                  <input type="hidden" id="d97033458OBJID" name="OBJID" value="dummy" savedvalue="">



                  <div>


                    <span style="float: right;"><button type="button" class="button noprint textual icon  edit "
                        id="domId_947475840" style="" title="添加链接" onclick="$('#addDiv').toggle();return false; "><span
                          class="teamworkIcon ">P</span></button>


                    </span>
                    <h1>书签</h1>

                    <div id="addDiv" style="display:none">
                      <table class="table">
                        <tbody>
                          <tr>
                            <td><label for="TITLE" class="required">书签*</label><br><input type="text" name="TITLE"
                                id="TITLE" size="30" class="formElements" autocomplete="off" maxlength="255"
                                style="width:100%" value="" required="true" oldvalue="1"></td>
                          </tr>
                          <tr>
                            <td><label for="URL" class="required">书签 URL*</label><br><input type="text" name="URL"
                                id="URL" size="30" class="formElements" autocomplete="off" maxlength="255"
                                style="width:100%" value="" required="true" oldvalue="1"></td>
                          </tr>
                          <tr>
                            <td><button type="button" class="button noprint    small" id="domId_762807131" style=""
                                onclick="stopBubble(event);obj('d97033458CM').value='SV';ajaxSubmit('d97033458','managFavDiv');">添加</button>

                            </td>
                          </tr>
                        </tbody>
                      </table>
                      <div class="separator"></div>
                    </div>

                    <div class="linkLine"><a class="button  textual   " id="domId_933807039" style=""
                        href="https://demo.twproject.com/app/getsThingsDone?V_ID=159073985">Twproject</a>

                      <div style="float:right"> <button type="button" class="button noprint textual icon  delete"
                          id="domId_684412197" style="" title="删除它"
                          onclick="$(this).confirm(function(){deleteBookmark($(this))});return false; "><span
                            class="teamworkIcon ">d</span></button>

                      </div>
                    </div>
                  </div>

                  <script>
                    function deleteBookmark(el) {

                      var row = el.closest(".linkLine");
                      var link = row.find("a:first").text();
                      var request = { CM: "DELBOOKMARK", "LNKLBL": link };
                      showSavingMessage();
                      $.getJSON(contextPath + "/applications/teamwork/portal/portalAjaxController.jsp", request, function (response) {
                        jsonResponseHandling(response);
                        if (response.ok == true) {
                          row.remove();
                        }
                        hideSavingMessage();
                      });


                    }


                  </script>

                </form>
              </div>
            </div>
            <div portletid="31" id="RIGHT31" class="portletContainer">
              <div class="portletBox" id="teamLoad" style=""><input type="hidden" name="wpTL_WG_IDS" id="wpTL_WG_IDS"
                  size="20" class="formElements grayed" autocomplete="off" readonly="" maxlength="255"
                  value="12771,12805" oldvalue="1">
                <div style="float:right;padding-top: 5px">
                  <button type="button" class="button noprint textual icon  ruzzol" id="domId_1259430695" style=""
                    title="更改工作组" onclick="wptl_openWorkGroup();return false; "><span
                      class="teamworkIcon ">g</span></button>


                </div>
                <h1><a class="button  textual   " id="domId_2018442686" style=""
                    href="/applications/teamwork/task/plan/operatorLoad.jsp?V_ID=880879372&amp;WG_IDS=12771%2C12805">团队费用</a>

                  <span style="font-size: 9px;">&nbsp;&nbsp;（7天）</span></h1>
                <hr>

                <table class="table" cellpadding="6" id="teamLoadTable">
                  <tbody>
                    <tr resid="12805" resname="苏 轼12805" __template="wptl_TEAMLOAD">
                      <td style=""><a href="/applications/teamwork/task/plan/operatorLoad.jsp?WG_IDS=12805"><img
                            src="/img/svgavatar?code=%E8%BD%BC%E8%8B%8F&amp;fill=hsl%28120%2C70%25%2C80%25%29&amp;stroke=hsl%28120%2C90%25%2C20%25%29"
                            border="0" title="苏 轼" resid="12805" class="face small"> 苏 轼</a> </td>
                      <td class="workloadInfo" style="font-weight: bolder;">
                        <div data-timer="0" data-forceposition="left"
                          data-balloon="<b>工作量期</b><br><span class='textSmall'>2020-5-28 : 2020-6-4<br>工作量 - min: 0:00  max: <b>0:00</b><br>平均工作能力: 8:00<br>"
                          style="cursor: pointer;">0%</div>
                      </td>
                    </tr>
                    <tr resid="12771" resname="史 玉平12771" __template="wptl_TEAMLOAD">
                      <td style=""><a href="/applications/teamwork/task/plan/operatorLoad.jsp?WG_IDS=12771"><img
                            src="/img/svgavatar?code=%E7%8E%89%E5%8F%B2&amp;fill=hsl%28240%2C70%25%2C80%25%29&amp;stroke=hsl%28240%2C90%25%2C20%25%29"
                            border="0" title="史 玉平" resid="12771" class="face small active"> 史 玉平</a> </td>
                      <td class="workloadInfo" style="font-weight: bolder;">
                        <div data-timer="0" data-forceposition="left"
                          data-balloon="<b>工作量期</b><br><span class='textSmall'>2020-5-28 : 2020-6-4<br>工作量 - min: 0:00  max: <b>0:00</b><br>平均工作能力: 8:00<br>"
                          style="cursor: pointer;">0%</div>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>





              <script style="display: none;">


                function computeResourceLoad(el, period, resId, currentWorkload, assId) {
                  //console.debug("computeResourceLoad",period, resId, currentWorkload,assId);

                  if (!period || false)
                    return;

                  var row = el.closest("tr");
                  //si chiama con delay sulla riga in modo da
                  row.stopTime("loadOpLoad");
                  var workloadInfo = row.find(".workloadInfo");
                  workloadInfo.removeClass("loading").empty();

                  if (resId) {
                    workloadInfo.addClass("loading");
                    row.oneTime(1000, "loadOpLoad", function () {
                      getOperatorLoad(resId, period.startMillis, period.endMillis, currentWorkload, assId, function (response) {
                        if (response.ok && response.stats) {
                          var bl = $("<div>").attr({ "data-timer": 0, "data-forceposition": "left" });
                          bl.attr("data-balloon", "<b>工作量期</b><br><span class='textSmall'>" +
                            (new Date().format()) + " : " + (new Date(period.endMillis).format()) + "<br>" +
                            "工作量 - min: " + getMillisInHoursMinutes(response.stats.minLoad) + "  max: <b>" + getMillisInHoursMinutes(response.stats.maxLoad) + "</b><br>" +
                            "平均工作能力: " + getMillisInHoursMinutes(response.stats.meanCapacity) + "<br>"
                          );
                          bl.css("cursor", "pointer");
                          bl.addClass("");
                          if (response.stats.meanLoadPerc > 100)
                            bl.addClass("warning alertIcon");
                          else if (response.stats.meanLoadPerc > 90)
                            bl.addClass("attention");
                          bl.append(parseInt(response.stats.meanLoadPerc) + "%");
                          workloadInfo.empty().append(bl);
                        } else {
                          workloadInfo.empty();
                        }
                        workloadInfo.removeClass("loading");
                      });
                    })
                  }
                }



                function getOperatorLoad(resId, startMillis, endMillis, currentWL, assId, callback) {
                  //console.debug("getOperatorLoad",resId, startMillis, endMillis, currentWL, assId);
                  //se il progetto doveva giÃ&nbsp; essere chiuso non si calcola niente
                  if (endMillis < new Date().getTime()) {
                    if (typeof (callback) == "function") {
                      callback({ ok: false });
                    }
                    return;
                  }

                  var request = {
                    CM: "GETOPLOAD",
                    resId: resId,
                    startMillis: startMillis,
                    endMillis: endMillis,
                    simulatedLoad: currentWL,
                    assId: assId
                  };
                  $.getJSON(contextPath + "/api/planAjax", request, function (response) {
                    jsonResponseHandling(response);
                    if (typeof (callback) == "function") {
                      callback(response);
                    }
                  })
                }
              </script>

              <script type="text/javascript" style="display: none;">
                $("#tmldmplt").loadTemplates().remove();
                $.JST.loadDecorator("wptl_TEAMLOAD", function (row, person) {
                  computeResourceLoad(row.find(".workloadInfo"), { "type": "period", "startMillis": 1590620400000, "endMillis": 1591225199998, "duration": 604799998, "freq": 0, "repeat": 1, "trimmed": false }, person.id, 0, false);
                });
                drawTeamLoad();

                function drawTeamLoad() {
                  var teamIds = $("#wpTL_WG_IDS").val().split(",");

                  var ndo = $("#teamLoadTable");

                  for (var i = 0; i < teamIds.length; i++) {
                    var request = { "command": "get", "object": "person", "id": parseInt(teamIds[i]), "full": false };
                    callAPI(request, function (response) {
                      jsonResponseHandling(response);
                      if (response.ok && response.object) {
                        var person = response.object;
                        var row = $.JST.createFromTemplate(person, "wptl_TEAMLOAD");
                        //si mettono in ordine
                        var rows = ndo.find("tr[resId]");
                        if (rows.length == 0) {
                          ndo.append(row);
                        } else {
                          var lastRow = rows.eq(0);
                          for (var i = 0; i < rows.length; i++) {
                            var oldRow = rows.eq(i);
                            var attr = oldRow.attr("resName");
                            //console.debug("attr "+attr +" --- "+person.displayName )
                            lastRow = oldRow;
                            if (attr.toUpperCase() > (person.displayName + person.id).toUpperCase()) {
                              break;
                            }
                          };
                          row.insertBefore(lastRow);
                        }


                      }

                    })

                  }
                }



                function wptl_openWorkGroup() {
                  var url = contextPath + "/app/workgroup/workgroupPopup.html?" +
                    "canBeEmpty=yes&" +
                    "useCallbackFunction=yes&" +
                    "title=" + encodeURIComponent("选择您的团队") + "&" +
                    "WG_IDS=" + encodeURIComponent($("#teamLoad :input[name=wpTL_WG_IDS]").val()) + "&" +
                    "PERM_REQUIRED=TW_ass_man";
                  openBlackPopup(url, 700, 580, wptl_wgCallback);
                }

                function wptl_wgCallback(selectedResources) {
                  //console.debug("wptl_wgCallback",selectedResources);
                  if (selectedResources) {
                    var tmp = [];
                    for (var i = 0; i < selectedResources.length; i++)
                      tmp.push(selectedResources[i].id);
                    refreshPortlet($("#teamLoad"), { "wpTL_WG_IDS": tmp.join(",") });
                  } else {
                    //refreshPortlet($("#teamLoad"),{"wpTL_WG_IDS":""});
                  }

                }
              </script>
            </div>
            <div portletid="16" id="RIGHT16" class="portletContainer">
              <div class=" twActivity portletBox small" style="">

                <h1>最近 30 工作日 的活跃积分</h1>
                <table class="table" cellpadding="0" cellspacing="0">
                  <tbody>
                    <tr>
                      <td colspan="3">
                        <hr>
                      </td>
                    </tr>
                    <tr>
                      <td width="40" valign="top" style="padding-top: 2px"><span class="button buttonImg  "
                          id="domId_1595688154" style=" "
                          onclick="stopBubble(event);try{ window.open('/app/resource/resourceEditor.html?V_ID=737471716&amp;CM=ED&amp;OBJID=12771','_self','') } catch(e){};"><img
                            src="/img/svgavatar?code=%E7%8E%89%E5%8F%B2&amp;fill=hsl%28240%2C70%25%2C80%25%29&amp;stroke=hsl%28240%2C90%25%2C20%25%29"
                            border="0" name="d1672134628" title="史 玉平" alt="史 玉平" id="d1672134628"
                            class="face small"></span>
                      </td>
                      <td valign="top">
                        <a class="button  textual   " id="domId_1559003975" style=""
                          href="/app/resource/resourceEditor.html?V_ID=1241039477&amp;CM=ED&amp;OBJID=12771">史
                          玉平</a>

                        &nbsp;<button type="button" class="button noprint textual icon  " id="domId_1724282984" style=""
                          title="发送消息"
                          onclick="openBlackPopup('/app/sticky/stickyEditor.html?V_ID=1789310275&amp;CM=AD&amp;POP=yes&amp;receiver=12771','600px','600px');return false; "><span
                            class="teamworkIcon ">ì</span></button>


                      </td>
                      <td>
                        <span title="最后登录 2(d.)">2020-5-27 下午4:35</span>
                      </td>

                    </tr>
                    <tr>
                      <td colspan="3">
                        <hr>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <div portletid="7" id="RIGHT7" class="portletContainer">
              <div id="wp_tc_slim" class="portletBox tcSlim lreq10 lreqLabel" style="">
                <h1>计时器</h1>
                <table class="table" cellpadding="4">

                  <tbody>
                    <tr>
                      <td><input type="text" name="wpTCSAssignment_txt" id="wpTCSAssignment_txt" placeholder="选择你的任务"
                          size="45" class="formElements smartCombo" autocomplete="off" maxlength="255"
                          onfocus="createDropDown($(this),400,100); refreshDropDown ($(this).nextAll('.cbDropDown'),$(this)); setSelection(this,0,1024)"
                          onblur="finalizeOperation($(this).nextAll('.cbDropDown:first'),true,false );"
                          style="width:100%" onkeydown="manageKeyEvent ($(this),event,true,false);"
                          onkeypress="stopKeyEvent(event);" value="" required="true"><span
                          class="teamworkIcon menuArrow" style="cursor:pointer; margin-left: -15px"
                          onclick="if ( $(this).prevAll('.cbDropDown:first').size()<=0) {$(this).prevAll('input:text:first').focus();} ">ù</span><input
                          type="hidden" name="wpTCSAssignment" id="wpTCSAssignment" size="10" class="formElements"
                          autocomplete="off" maxlength="255" jsppart="partSmartCombo" value="" required="true"
                          oldvalue="1">
                      </td>
                      <td style="position: relative" width="1%">
                        <div class="timeCounter" style="white-space: nowrap">00<span class="counterLabel">h</span>
                          00<span class="counterLabel">m</span><span class="sec"> 00<span
                              class="counterLabel">s</span></span></div>
                      </td>
                      <td align="center" width="1%"><button type="button"
                          class="button noprint textual icon  controls play" id="domId_433796699" style=""
                          onclick="wpTCSStartStop($(this));return false; "><span class="teamworkIcon ">a</span></button>

                      </td>
                    </tr>
                  </tbody>
                </table>

                <script>
                  $(function () {
                    var assig = undefined;

                    if (assig)
                      $("#wp_tc_slim").find(".timeCounter").data("time", assig.countingStartedMillis).activateTimeCounter();


                    if (!window.removeWorklog) {
                      window.removeWorklog = function (el, wlId, event, alreadyConfirmed) {
                        if (event)
                          event.stopPropagation();
                        function del() {
                          showSavingMessage();
                          var req = { "CM": "REMOVEWL", wlId: wlId };

                          $.getJSON(contextPath + "/worklog/worklogAjax", req, function (response) {
                            jsonResponseHandling(response);
                            hideSavingMessage();
                          });
                        };

                        if (alreadyConfirmed) {
                          del()
                        } else {
                          el.confirm(del, "确认删除?");
                        }
                      }

                    }
                  });

                  function wpTCSStartStop(el) {
                    //console.debug("wpTCSStartStop",el)
                    var assCombo = $("#wpTCSAssignment");
                    var wp = $("#wp_tc_slim");
                    if (assCombo.isFullfilled()) {
                      var assId = assCombo.val();
                      showSavingMessage();

                      if (el.is(".stop")) {
                        var request = { CM: "STOPCOUNTER", assId: assId };
                        $.getJSON(contextPath + "/worklog/worklogAjax", request, function (response) {
                          jsonResponseHandling(response);
                          if (response.ok) {
                            $("#wp_tc_slim .timeCounter").stopTimeCounter();
                            el.removeClass("stop").addClass("play").find(".teamworkIcon").html("a");
                            wp.find("input").prop("disabled", false);
                            getTop().$("body").trigger("timeCounterEvent", [
                              { type: "stop", response: response }
                            ]);
                            wpTCSAskForAction(el, response);
                          }
                          hideSavingMessage();
                        });


                      } else {   //START
                        var request = { CM: "STARTCOUNTER", assId: assId };
                        $.getJSON(contextPath + "/worklog/worklogAjax", request, function (response) {
                          jsonResponseHandling(response);
                          if (response.ok) {
                            $("#wp_tc_slim .timeCounter").data("time", new Date().getTime()).activateTimeCounter();
                            el.removeClass("play").addClass("stop").find(".teamworkIcon").html("s");
                            wp.find("input").prop("disabled", true);
                            wpTCSAskForAction(el, response);
                            getTop().$("body").trigger("timeCounterEvent", [
                              { type: "start", response: response }
                            ]);

                          }
                          hideSavingMessage();
                        });

                      }

                    }
                  }


                  function wpTCSAskForAction(el, response) {
                    //console.debug("wpTCSAskForAction",el,response)
                    if (!response.worklog)
                      return;
                    openWorklogEditorCloseToElement(el, { wlId: response.worklog.id, assId: response.worklog.assId, title: response.worklog.taskCode + " - " + response.worklog.taskName, millis: new Date().getTime() }, function (wlBox) {
                      wlBox.find("#WORKLOG_DURATION").val(getMillisInHoursMinutes(response.worklog.duration));
                      wlBox.find("#WORKLOG_ACTION").focus();
                    });
                  }



                </script>


              </div>
            </div>
            <div portletid="19" id="RIGHT19" class="portletContainer">
              <div class="myResponsabilities portletBox small" style="">
                <h1>我的答复</h1>
                <div class="myResponsability"><b>Project manager</b><br>
                  Can manage the project and its descendants on which she/he has been assigned.</div>
                <div class="myResponsability"><b>Customer</b><br>
                  Can read and signal issues on the project and its descendants on which she/he has been assigned.</div>
                <div class="myResponsability"><b>Area manager</b><br>
                  Has complete control on the area.</div>
                <div class="myResponsability"><b>Operational</b><br>
                  Minimal standard permission for an operator.</div>
                <div class="myResponsability"><b>Supervisor</b><br>
                  Can read everything and comment on the project and its descendants on which she/he has been assigned.
                </div>
                <div class="myResponsability"><b>Worker</b><br>
                  Can work (e.g. insert worklog, manage issues and documents) on the project and its descendants on
                  which she/he has been assigned.</div>
              </div>
            </div>
            <div portletid="10" id="RIGHT10" class="portletContainer">
              <div class="portletBox small myMeetings" style="">
                <h1>下一次会议</h1>
                <div class="event">没有即将召开的会议.</div>
              </div>
            </div>
            <div portletid="8" id="RIGHT8" class="portletContainer">
              <div class="portletBox small" id="wpLogged" style="">
                <h1>Logged operators</h1>

                <table class="table" id="wpLoggedTable">
                  <thead>
                    <tr>
                      <th class="tableHead">登录身份：</th>
                      <th class="tableHead">最后登录</th>
                      <th class="tableHead">最后请求</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="alternate" opid="6708" wsconnectionid="72" __template="wpLoggedRow">
                      <td>tuan tran</td>
                      <td align="center">11:54</td>
                      <td align="center">12:00</td>
                    </tr>
                    <tr class="alternate" opid="6636" wsconnectionid="74" __template="wpLoggedRow">
                      <td>史 玉平</td>
                      <td align="center">23:35</td>
                      <td align="center">12:01</td>
                    </tr>
                  </tbody>

                </table>



                <script>
                  $(function () {
                    $("#wpLoggedTpl").loadTemplates().remove();
                    var loggedOperators = [{ "id": 6708, "lastModified": 1590638082000, "creationDate": 1590638049000, "loginName": "app_tuantran@yahoo.com", "enabled": true, "hidden": false, "administrator": false, "lastLoggedOn": 1590638082000, "person": { "id": "12926", "lastModified": 1590638049000, "creationDate": 1590638049000, "area": "NONE", "areaId": 5017, "displayName": "tuan tran", "loadComplete": false, "ads_id": 10932, "location": "office", "address": "", "city": "", "province": "", "country": "", "zip": "", "url": "", "email": "app_tuantran@yahoo.com", "mobile": "", "fax": "", "telephone": "", "avatarUrl": "/img/svgavatar?code=TT&fill=hsl%28180%2C70%25%2C80%25%29&stroke=hsl%28180%2C90%25%2C20%25%29", "resConnectionStatus": "", "name": "tuan", "surname": "tran" }, "sessionId": "1F720D8C0552EBA8E9C750BD116F0436", "lastMessageOn": 1590638437504, "wsConnectionId": 72, "isAway": true, "chatIsActive": true }];
                    drawOperatorsList(loggedOperators);
                  });


                  $("body").on("ws-connect.wpLogged ws-disconnect.wpLogged", function (e, data) {
                    //console.debug("ws-logged", data);
                    top.twComm.sendToServer("ws-getLoggedOperators", {});
                  }).on("ws-getLoggedOperators.wpLogged", function (e, data) {
                    //console.debug("ws-getLoggedOperators");
                    drawOperatorsList(data);
                  });


                  function drawOperatorsList(loggedOperators) {
                    var ndo = $("#wpLoggedTable tbody");
                    ndo.empty();
                    for (var i = 0; i < loggedOperators.length; i++) {
                      var op = loggedOperators[i];
                      ndo.append($.JST.createFromTemplate(op, "wpLoggedRow"));
                    }
                    if (loggedOperators.length == 0) {
                      ndo.append("您是唯一活跃的操作者.");
                    }

                  }

                </script>
              </div>
            </div>
            <div portletid="26" id="RIGHT26" class="portletContainer">
              <div class="portletBox" id="projectUpdates" style="">
                <div style="float:right;padding-top: 5px">
                  <button type="button" class="button noprint textual icon  ruzzol" id="domId_1774293941" style=""
                    title="过滤" onclick="$('#wpProjectUpdatesParam').toggle();return false; "><span
                      class="teamworkIcon ">g</span></button>


                </div>

                <h1>最新项目更新</h1>

                <div id="wpProjectUpdatesParam" class="portletParams" style="display:none"><label for="MAX_AGE_IN_DAYS"
                    class=" ">年龄限制（天）</label>&nbsp;<input type="text" name="MAX_AGE_IN_DAYS" id="MAX_AGE_IN_DAYS"
                    size="2" class="formElements" autocomplete="off" maxlength="255"
                    onblur="refreshPortlet($(this),{'MAX_AGE_IN_DAYS':$(this).val()});" value="1"
                    oldvalue="1">&nbsp;&nbsp;<label for="ck_PROJECT_ONLY">仅显示项目</label><input type="hidden"
                    name="PROJECT_ONLY" id="PROJECT_ONLY" size="1" autocomplete="off" maxlength="255" data-checkfield=""
                    value="no" oldvalue="1"><input type="checkbox" id="ck_PROJECT_ONLY" name="ck_PROJECT_ONLY"
                    value="yes"
                    onclick="$(this).prevAll('[type=hidden]:first').val(this.checked ? 'yes' : 'no');refreshPortlet($(this),{'PROJECT_ONLY':$('#PROJECT_ONLY').val()});">
                  &nbsp;&nbsp;<label for="ck_SHOW_ONLY_MINE">只显示我被分配到的地方</label><input type="hidden"
                    name="SHOW_ONLY_MINE" id="SHOW_ONLY_MINE" size="1" autocomplete="off" maxlength="255"
                    data-checkfield="" value="no" oldvalue="1"><input type="checkbox" id="ck_SHOW_ONLY_MINE"
                    name="ck_SHOW_ONLY_MINE" value="yes"
                    onclick="$(this).prevAll('[type=hidden]:first').val(this.checked ? 'yes' : 'no');refreshPortlet($(this),{'SHOW_ONLY_MINE':$('#SHOW_ONLY_MINE').val()});">
                  &nbsp;&nbsp;<label for="ck_SHOW_COMMENTS_ONLY">仅显示评论</label><input type="hidden"
                    name="SHOW_COMMENTS_ONLY" id="SHOW_COMMENTS_ONLY" size="1" autocomplete="off" maxlength="255"
                    data-checkfield="" value="no" oldvalue="1"><input type="checkbox" id="ck_SHOW_COMMENTS_ONLY"
                    name="ck_SHOW_COMMENTS_ONLY" value="yes"
                    onclick="$(this).prevAll('[type=hidden]:first').val(this.checked ? 'yes' : 'no');refreshPortlet($(this),{'SHOW_COMMENTS_ONLY':$('#SHOW_COMMENTS_ONLY').val()});">
                </div>
                <table class="table" cellpadding="6" id="taskLogTable" lastpage="1">
                  <tbody>
                    <tr logid="9338" __template="TASKLOG">
                      <td colspan="2" style="padding-bottom: 0; border-top: 1px solid #cecfd2"><a
                          href="/app/taskOverview.html??CM=ED&amp;OBJID=46199"><strong>Project001.01.02
                            - 子任务一的子任务2</strong></a></td>
                    </tr>
                    <tr logid="9338" __template="TASKLOG">
                      <td valign="top" style="padding: 6px;">
                        <div class="commentHeader"> <img class="face active"
                            src="/img/svgavatar?code=%E7%8E%89%E5%8F%B2&amp;fill=hsl%28240%2C70%25%2C80%25%29&amp;stroke=hsl%28240%2C90%25%2C20%25%29"
                            resid="12771" title="史 玉平"> <b>史 玉平</b> <span title="2020-5-28">几个小时前</span></div>
                        <div style="width: 100%; overflow-x: hidden" class="commentBody"> 状态: <span class="teamworkIcon"
                            style="color:#3BBF67">©</span>&nbsp;进行中 <span class="teamworkIcon fromTo">:</span> <span
                            class="teamworkIcon" style="color:#6EBEF4">©</span>&nbsp;<strong>完成</strong><br> </div>
                      </td>
                    </tr>
                    <tr logid="9337" __template="TASKLOG">
                      <td colspan="2" style="padding-bottom: 0; border-top: 1px solid #cecfd2"><a
                          href="/app/taskOverview.html??CM=ED&amp;OBJID=45685"><strong>Project001.01
                            - 子任务一</strong></a></td>
                    </tr>
                    <tr logid="9337" __template="TASKLOG">
                      <td valign="top" style="padding: 6px;">
                        <div class="commentHeader"> <img class="face active"
                            src="/img/svgavatar?code=%E7%8E%89%E5%8F%B2&amp;fill=hsl%28240%2C70%25%2C80%25%29&amp;stroke=hsl%28240%2C90%25%2C20%25%29"
                            resid="12771" title="史 玉平"> <b>史 玉平</b> <span title="2020-5-28">几个小时前</span></div>
                        <div style="width: 100%; overflow-x: hidden" class="commentBody"> 状态: <span class="teamworkIcon"
                            style="color:#3BBF67">©</span>&nbsp;进行中 <span class="teamworkIcon fromTo">:</span> <span
                            class="teamworkIcon" style="color:#6EBEF4">©</span>&nbsp;<strong>完成</strong><br> </div>
                      </td>
                    </tr>
                    <tr logid="9336" __template="TASKLOG">
                      <td colspan="2" style="padding-bottom: 0; border-top: 1px solid #cecfd2"><a
                          href="/app/taskOverview.html??CM=ED&amp;OBJID=45686"><strong>Project001.02
                            - 子任务2</strong></a></td>
                    </tr>
                    <tr logid="9336" __template="TASKLOG">
                      <td valign="top" style="padding: 6px;">
                        <div class="commentHeader"> <img class="face active"
                            src="/img/svgavatar?code=%E7%8E%89%E5%8F%B2&amp;fill=hsl%28240%2C70%25%2C80%25%29&amp;stroke=hsl%28240%2C90%25%2C20%25%29"
                            resid="12771" title="史 玉平"> <b>史 玉平</b> <span title="2020-5-28">几个小时前</span></div>
                        <div style="width: 100%; overflow-x: hidden" class="commentBody"> 状态: <span class="teamworkIcon"
                            style="color:#F79136">©</span>&nbsp;等候 <span class="teamworkIcon fromTo">:</span> <span
                            class="teamworkIcon" style="color:#6EBEF4">©</span>&nbsp;<strong>完成</strong><br> </div>
                      </td>
                    </tr>
                    <tr logid="9335" __template="TASKLOG">
                      <td colspan="2" style="padding-bottom: 0; border-top: 1px solid #cecfd2"><a
                          href="/app/taskOverview.html??CM=ED&amp;OBJID=46199"><strong>Project001.01.02
                            - 子任务一的子任务2</strong></a></td>
                    </tr>
                    <tr logid="9335" __template="TASKLOG">
                      <td valign="top" style="padding: 6px;">
                        <div class="commentHeader"> <img class="face active"
                            src="/img/svgavatar?code=%E7%8E%89%E5%8F%B2&amp;fill=hsl%28240%2C70%25%2C80%25%29&amp;stroke=hsl%28240%2C90%25%2C20%25%29"
                            resid="12771" title="史 玉平"> <b>史 玉平</b> <span title="2020-5-28">几个小时前</span></div>
                        <div style="width: 100%; overflow-x: hidden" class="commentBody"> 状态: <span class="teamworkIcon"
                            style="color:#6EBEF4">©</span>&nbsp;完成 <span class="teamworkIcon fromTo">:</span> <span
                            class="teamworkIcon" style="color:#3BBF67">©</span>&nbsp;<strong>进行中</strong><br> </div>
                      </td>
                    </tr>
                    <tr logid="9334" __template="TASKLOG">
                      <td colspan="2" style="padding-bottom: 0; border-top: 1px solid #cecfd2"><a
                          href="/app/taskOverview.html??CM=ED&amp;OBJID=46199"><strong>Project001.01.02
                            - 子任务一的子任务2</strong></a></td>
                    </tr>
                    <tr logid="9334" __template="TASKLOG">
                      <td valign="top" style="padding: 6px;">
                        <div class="commentHeader"> <img class="face active"
                            src="/img/svgavatar?code=%E7%8E%89%E5%8F%B2&amp;fill=hsl%28240%2C70%25%2C80%25%29&amp;stroke=hsl%28240%2C90%25%2C20%25%29"
                            resid="12771" title="史 玉平"> <b>史 玉平</b> <span title="2020-5-28">几个小时前</span></div>
                        <div style="width: 100%; overflow-x: hidden" class="commentBody"> 状态: <span class="teamworkIcon"
                            style="color:#3BBF67">©</span>&nbsp;进行中 <span class="teamworkIcon fromTo">:</span> <span
                            class="teamworkIcon" style="color:#6EBEF4">©</span>&nbsp;<strong>完成</strong><br> </div>
                      </td>
                    </tr>
                    <tr class="hasMore">
                      <td colspan="3"><span class="button noprint textual" onclick="drawHistory(2)">更多...</span></td>
                    </tr>
                  </tbody>
                </table>
              </div>




              <script type="text/javascript" style="display: none;">
                //$(function(){
                $("#ietmplt").loadTemplates().remove();
                $.JST.loadDecorator("TASKLOG", function (histRow, taskLog) {
                  histRow.find(".commentBody").activateTeamworkLinks(true);
                });
                drawHistory(1);
                //});


                function drawHistory(pageNumber) {
                  //si cancella eventuale more
                  var maxAge = 1;
                  $("tr.hasMore").remove();
                  var request = { "command": "list", "object": "taskLog", "filters": { "creationDate": ">-" + maxAge + "d" }, "page": pageNumber, "pageSize": 5 };

                  if ($("#PROJECT_ONLY").val() == "yes")
                    request.filters.rootOnly = true;

                  if ($("#SHOW_ONLY_MINE").val() == "yes")
                    request.filters.assigneeId = 12771;

                  if ($("#SHOW_COMMENTS_ONLY").val() == "yes")
                    request.filters.comment = "!()";



                  callAPI(request, function (response) {
                    jsonResponseHandling(response);
                    if (response.ok && response.objects) {
                      $("#projectUpdates").show();
                      //console.debug("drawHistory",issHists);
                      for (var i = 0; i < response.objects.length; i++) {
                        $("#taskLogTable").append($.JST.createFromTemplate(response.objects[i], "TASKLOG"));
                      }
                      if (response.hasMore) {
                        var hm = $("<tr class='hasMore'><td colspan=3><span class='button noprint textual' onclick='drawHistory(" + (pageNumber + 1) + ")'>更多...</span></td></tr>")
                        $("#taskLogTable").append(hm);
                      }
                    }

                  })
                }
              </script>
            </div>
          </div>
          <div areaname="RIGHT_BOTTOM" custom="no">
            <div portletid="11" id="RIGHT_BOTTOM11" class="portletContainer"></div>
          </div>
        </div>
        <div class="bottomHome" areaname="BOTTOM" custom="no">
          <div portletid="15" id="BOTTOM15" class="portletContainer">
            <div id="summaryBar" style="height: 50px; overflow: hidden; position: relative;" class="summaryBar"><span
                class="moveBarEl" style="position: absolute; top: 0%; left: 0%; width: 14.2857%; height: 100%;">星期日
                24</span><span class="moveBarEl"
                style="position: absolute; top: 0%; left: 14.2857%; width: 14.2857%; height: 100%;">星期一 25</span><span
                class="moveBarEl"
                style="position: absolute; top: 0%; left: 28.5715%; width: 14.2857%; height: 100%;">星期二 26</span><span
                class="moveBarEl"
                style="position: absolute; top: 0%; left: 42.8572%; width: 14.2857%; height: 100%;">星期三 27</span><span
                class="moveBarEl" style="position: absolute; top: 0%; left: 57.143%; width: 14.2857%; height: 100%;">星期四
                28</span><span class="moveBarEl"
                style="position: absolute; top: 0%; left: 71.4287%; width: 14.2857%; height: 100%;">星期五 29</span><span
                class="moveBarEl"
                style="position: absolute; top: 0%; left: 85.7144%; width: 14.2857%; height: 100%;">星期六 30</span><span
                title="今天" class="moveBarToday"
                style="position: absolute; top: 0%; left: 64.2981%; height: 100%;"></span></div>

            <style style="display: none;">
              .sbAgeEv {
                background-color: #BCFF3A;
                box-shadow: 0 0 0 1px #6e9325;
                opacity: .5;
              }

              .sbTask {
                background-color: #2f2f2f;
                opacity: .5;
              }

              .sbTaskMil {
                color: #2f2f2f;
                font-size: 12px;
                opacity: .7;
              }

              .sbIssue {
                color: #2f2f2f;
                font-size: 12px;
                opacity: .7;
              }
            </style>

            <script type="text/javascript" style="display: none;">

              sb_startup(1590638472691);

              function sb_startup(focusMillis) {
                var date = new Date(focusMillis);
                date.clearTime();
                date.setFirstDayOfThisWeek();

                var startMillis = date.getTime();
                date.setDate(date.getDate() + 6);
                date.setHours(23, 59, 59);
                var endMillis = date.getTime();


                var barFolio = sb_createBarFolio(startMillis, endMillis);
                barFolio.redraw();

                sb_loadAppointments(barFolio, focusMillis);
                sb_loadIssues(barFolio, focusMillis);
                sb_loadTasks(barFolio, startMillis, endMillis);
              }



              function sb_createBarFolio(startMillis, endMillis) {
                //console.debug("createBarFolio")
                var moveBar = $("#summaryBar");
                moveBar.empty();

                var barFolio = new Folio(moveBar);
                barFolio.width = endMillis - startMillis;
                barFolio.height = 50;
                barFolio.left = startMillis;
                barFolio.inPercent = true;

                var d = new Date(startMillis);
                while (d.getTime() < endMillis) {
                  var headLbl = $("<span>").html(d.format("EEE dd")).addClass("moveBarEl");
                  barFolio.addElement(headLbl, 0, d.getTime(), 24 * 3600000, 50);
                  d.setDate(d.getDate() + 1);
                }

                //today
                var today = $("<span>").prop("title", "今天").addClass("moveBarToday");
                barFolio.addElement(today, 0, new Date().getTime(), barFolio.getPixelWidth() * 2, 50);

                return barFolio;
              }



              function sb_loadAppointments(folio, focusMillis) {
                var request = {
                  CM: "GETEVENTS",
                  type: "WEEK",
                  focusMillis: focusMillis,
                  FILTER: "NONE",
                  WG_IDS: "12771"
                };

                showSavingMessage();
                $.getJSON(contextPath + "/agenda/agendaAjax", request, function (response) {
                  jsonResponseHandling(response);
                  if (response.ok == true) {
                    for (var i = 0; response.events && i < response.events.length; i++) {
                      var agev = response.events[i];
                      var ev = $("<span>").prop("title", agev.summary).addClass("sbAgeEv");
                      folio.addElement(ev, 15, agev.startMillis, agev.endMillis - agev.startMillis, 10);
                    }
                    folio.redraw();
                  }
                  hideSavingMessage();
                });
              }

              function sb_loadTasks(folio, startMillis, endMillis) {
                var request = {
                  CM: "GTSKOPPER",
                  startMillis: startMillis,
                  endMillis: endMillis
                };

                showSavingMessage();
                $.getJSON(contextPath + "/task/taskAjax", request, function (response) {
                  jsonResponseHandling(response);
                  if (response.ok == true) {
                    //onsole.debug(response)

                    for (var i = 0; response.tasks && i < response.tasks.length; i++) {
                      var tsk = response.tasks[i];

                      //var tk = $("<span>").prop("title", tsk.code + " " + tsk.name).addClass("sbTask");
                      //folio.addElement(tk, 27, tsk.start, tsk.end-tsk.start, 10);


                      //si disegnano le milestones
                      if (tsk.startIsMilestone) {
                        var tk = $("<span>").prop("title", tsk.code + " " + tsk.name).addClass("teamworkIcon sbTaskMil").html("^");
                        folio.addElement(tk, 27, tsk.start, folio.getPixelWidth() * 10, 10);
                      }
                      if (tsk.endIsMilestone) {
                        var tk = $("<span>").prop("title", tsk.code + " " + tsk.name).addClass("teamworkIcon sbTaskMil").html("^");
                        folio.addElement(tk, 27, tsk.end - folio.getPixelWidth() * 10, folio.getPixelWidth() * 10, 10);
                      }

                    }
                    folio.redraw();
                  }
                  hideSavingMessage();
                });
              }


              function sb_loadIssues(folio, focusMillis) {
                var request = {
                  CM: "GETTASKISS",
                  type: "WEEK",
                  focusMillis: focusMillis,
                  FILTER: "NONE",
                  ISSUEONLY: "yes",
                  WG_IDS: "12771"
                };

                showSavingMessage();
                $.getJSON(contextPath + "/agenda/agendaAjax", request, function (response) {
                  jsonResponseHandling(response);
                  if (response.ok == true) {
                    for (var i = 0; response.issues && i < response.issues.length; i++) {
                      var iss = response.issues[i];
                      var start = Date.fromInt(iss[0]);
                      start.clearTime().getTime();
                      var qta = iss[2];
                      var wl = iss[3];

                      var is = $("<span>").addClass("sbIssue").append($("<span>").addClass("teamworkIcon").append("i")).append(qta);
                      folio.addElement(is, 35, start, wl, 10);
                    }
                    folio.redraw();
                  }
                  hideSavingMessage();
                });
              }


            </script>
          </div>
        </div>


      </div>
      <script>
        var customChoices = { "RIGHT": [{ "id": "29", "lastModifier": "Gerardo Véliz", "lastModified": 1564344856000, "creationDate": 1547618833000, "name": "Welcome", "file": "portlethtml/wp_welcome.html" }, { "id": "24", "lastModified": 1441701719000, "creationDate": 1441701719000, "name": "Todo", "file": "portlethtml/wp_todo.html" }, { "id": "9", "lastModified": 1441701719000, "creationDate": 1441701719000, "name": "My agenda", "file": "portlethtml/wp_myAppointments.html" }, { "id": "17", "lastModified": 1441701719000, "creationDate": 1441701719000, "name": "links", "file": "portlethtml/wp_links.html" }, { "id": "31", "lastModified": 1564383547000, "creationDate": 1564383547000, "name": "Team work load", "file": "portlethtml/wp_teamLoad.html" }, { "id": "16", "lastModified": 1441701719000, "creationDate": 1441701719000, "name": "Twproject Activity", "file": "portlethtml/wp_teamworkActivity.html" }, { "id": "7", "lastModified": 1441701718000, "creationDate": 1441701718000, "name": "Time Counter Slim", "file": "portlethtml/wp_timeCounterSlim.html" }, { "id": "19", "lastModified": 1441701719000, "creationDate": 1441701719000, "name": "My responsibilities", "file": "portlethtml/wp_myResponsabilities.html" }, { "id": "10", "lastModified": 1441701719000, "creationDate": 1441701719000, "name": "My meetings", "file": "portlethtml/wp_myMeetings.html" }, { "id": "8", "lastModified": 1441701719000, "creationDate": 1441701719000, "name": "Logged Operators", "file": "portlethtml/wp_loggedOperators.html" }, { "id": "26", "creationDate": 1542215135000, "name": "Projects updates", "file": "portlethtml/wp_projectUpdates.html" }], "LEFT": [{ "id": "27", "lastModifier": "System Manager", "lastModified": 1542270212000, "creator": "System Manager", "creationDate": 1542270212000, "name": "Demo info", "file": "portlethtml/wp_demoInfo.html" }, { "id": "1", "lastModified": 1441701718000, "creationDate": 1441701718000, "name": "Create an issue", "file": "portlethtml/wp_create_issues.html" }, { "id": "12", "lastModified": 1441701719000, "creationDate": 1441701719000, "name": "My Assignments", "file": "portlethtml/wp_myAssignments.html" }, { "id": "32", "lastModified": 1584951807000, "creationDate": 1584951807000, "name": "Issues Summary by customer", "file": "portlethtml/wp_issueSummaryByCustomer.html" }, { "id": "22", "lastModified": 1441701719000, "creationDate": 1441701719000, "name": "Panic board", "file": "portlethtml/wp_panicBoard.html" }, { "id": "18", "lastModified": 1441701719000, "creationDate": 1441701719000, "name": "WorklogDay", "file": "portlethtml/wp_worklogDay.html" }, { "id": "2", "lastModified": 1441701718000, "creationDate": 1441701718000, "name": "Issues created by me", "file": "portlethtml/wp_issuesCreatedByMe.html" }, { "id": "14", "lastModified": 1441701719000, "creationDate": 1441701719000, "name": "Projects Summary", "file": "portlethtml/wp_projectsSummary.html" }, { "id": "30", "lastModified": 1564383547000, "creationDate": 1564383547000, "name": "Issues Summary", "file": "portlethtml/wp_issueSummary.html" }, { "id": "23", "lastModified": 1441701719000, "creationDate": 1441701719000, "name": "Burndown graph", "file": "portlethtml/wp_scrumBurnDown.html" }, { "id": "20", "lastModified": 1441701719000, "creationDate": 1441701719000, "name": "Iframe", "file": "portlethtml/wp_iframe.html" }, { "id": "13", "lastModified": 1441701719000, "creationDate": 1441701719000, "name": "My Issues", "file": "portlethtml/wp_myIssues.html" }, { "id": "6", "lastModified": 1441701718000, "creationDate": 1441701718000, "name": "Time Counters", "file": "portlethtml/wp_timeCounter.html" }] };
        var defaultChoices = { "HEADER": [{ "id": "4", "lastModified": 1441701718000, "creationDate": 1441701718000, "name": "Headline", "file": "portlethtml/wp_headline.html" }], "LEFT": [{ "id": "12", "lastModified": 1441701719000, "creationDate": 1441701719000, "name": "My Assignments", "file": "portlethtml/wp_myAssignments.html" }, { "id": "13", "lastModified": 1441701719000, "creationDate": 1441701719000, "name": "My Issues", "file": "portlethtml/wp_myIssues.html" }], "RIGHT": [{ "id": "9", "lastModified": 1441701719000, "creationDate": 1441701719000, "name": "My agenda", "file": "portlethtml/wp_myAppointments.html" }, { "id": "25", "lastModified": 1441701719000, "creationDate": 1441701719000, "name": "My planned work", "file": "applications/teamwork/portal/portlet/wp_myPlan.jsp" }, { "id": "24", "lastModified": 1441701719000, "creationDate": 1441701719000, "name": "Todo", "file": "portlethtml/wp_todo.html" }, { "id": "3", "lastModified": 1441701718000, "creationDate": 1441701718000, "name": "Activity", "file": "applications/teamwork/portal/portlet/wp_activity.jsp" }, { "id": "16", "lastModified": 1441701719000, "creationDate": 1441701719000, "name": "Twproject Activity", "file": "portlethtml/wp_teamworkActivity.html" }, { "id": "19", "lastModified": 1441701719000, "creationDate": 1441701719000, "name": "My responsibilities", "file": "portlethtml/wp_myResponsabilities.html" }], "RIGHT_BOTTOM": [{ "id": "11", "lastModified": 1441701719000, "creationDate": 1441701719000, "name": "Company News", "file": "portlethtml/wp_companyNews.html" }], "BOTTOM": [{ "id": "15", "lastModified": 1441701719000, "creationDate": 1441701719000, "name": "Summary Bar", "file": "portlethtml/wp_summaryBar.html" }] };

        var portletOut = {};

        $("[areaname]").each(function () {
          var area = $(this);
          var areaName = area.attr("areaName");
          var portlets = customChoices[areaName];
          if (area.attr("custom") == "yes") {
            if (!portlets || portlets.length == 0)
              portlets = defaultChoices[areaName];

          } else {
            var portlets = defaultChoices[areaName];
          }

          for (var i = 0; portlets && i < portlets.length; i++) {
            if (portletOut[portlets[i].id])
              return;

            portletOut[portlets[i].id] = portlets[i].id;
            drawPortlet(portlets[i], areaName, area);
          }

        });

        function drawPortlet(portlet, areaName, area) {
          var div = $("<div>").attr("portletId", portlet.id).prop("id", areaName + portlet.id).addClass("portletBoxPlaceholder portletBox").html("<h2>LOADING " + portlet.name + "...</h2>");
          area.append(div);
          $.get(contextPath + "/" + portlet.file, portlet.parameters, function (ret) {
            var c = $(ret).hide();
            //div.replaceWith(c);
            div.html(c).removeClass("portletBoxPlaceholder portletBox").addClass("portletContainer").data("portlet", portlet);
            c.find(".linkEnabled").activateTeamworkLinks(true);
            c.fadeIn(200);
          });
        }


        function refreshPortlet(aRandomElementInThePortlet, addParams) {
          //console.debug("refreshPortlet",addParams);
          var portletDiv = aRandomElementInThePortlet.closest(".portletContainer");
          if (portletDiv.data("portlet")) {
            var portlet = portletDiv.data("portlet");
            portlet.parameters = portlet.parameters || {};
            if (addParams)
              $.extend(portlet.parameters, addParams);

            $.get(contextPath + "/" + portlet.file, portlet.parameters, function (ret) {
              portletDiv.html($(ret));
              portletDiv.find(".linkEnabled").activateTeamworkLinks(true);
            });
          }
        }

      </script>



    </div>

    <script src="/applications/teamwork/socket/userStatusManagement.js"></script>


    <script>
      var __sns = [];
      $(function () {
        $("body").oneTime(500, function () {
          manageStickyNotes(__sns);
        });

        //event da webSocket
        $("body").on("ws-stickySaved.twScreen", function (e, data) {
          //console.debug("ws-stickySaved.twScreen",data);
          if (data && data.stickyId)
            twSrc_drawSticky(data.stickyId);
        }).on("ws-logSaved.twScreen", function (e, data) {
          //console.debug("ws-logSaved twScreen",data);
          if (data && data.messageId) {
            $("#messageListOpener .notificationNumber").html(parseInt($("#messageListOpener .notificationNumber").text()) + 1).show();
          }
        }).on("ws-updateGlobalCounter.twScreen", function (e, data) {
          //console.debug("ws-updateGlobalCounter.twScreen", data);
          if (data) {
            $("#twChatOpener .notificationNumber").html(data.totalUnreadChats);
            $("#twChatOpener").data("totalUnreadChats", data.totalUnreadChats);


            if (data.totalUnreadChats) {
              //top.twChat.chatWindow.addClass("hasUnreadChats");
              $("#twChatOpener .notificationNumber").show();
            } else {
              //top.twChat.chatWindow.removeClass("hasUnreadChats");
              $("#twChatOpener .notificationNumber").hide();
            }
            // add total unread chats to the top page title
            top.document.title = (data.totalUnreadChats ? "(" + data.totalUnreadChats + ") Twproject" : "Twproject");
            top.$("#twfavicon").attr("href", contextPath + "/img/favicons/fav" + (data.totalUnreadChats > 9 ? "N" : data.totalUnreadChats) + ".png?_=" + (Math.random()))
          }
        }).on("ws-socketClosed.twScreen", function (e, data) {
          //alert("服务器连接已经丢失。\n请尝试重新加载页面。")
        }
        );


        //gestione chiusura tutti dopo 2
        var firstClosed = false;
        var doNotAskAgain = false;
        $("body").on("containerHidden", ".container.sticky", function (e) {
          if (firstClosed && !doNotAskAgain) {
            var firstStick = $(this);
            var sticks = $(".container.sticky");
            if (sticks.size() > 2) {
              doNotAskAgain = true;
              if (confirm("全部关闭？")) {
                sticks.each(function () {
                  var stick = $(this);
                  if (stick.attr("status") != "ICONIZED")
                    if (stick.prop("id") != firstStick.prop("id"))
                      $(this).trigger("hide");
                });
              }
            }
            firstClosed = false;

          } else {
            firstClosed = true;
          }

        });

      });


      function manageStickyNotes(sns) {
        //console.debug("manageStickyNotes",sns);
        if (sns.length > 20) { //non disegna tutto se sono piÃ¹ di 20
          var message = "这有很多便条(--xxx--), 展现所有可能造成浏览器崩溃.您确实想这样做吗?".replace("--xxx--", sns.length);
          var d = $("<div>").append(message + "<br>");
          var closeAll = $("<button>").append("关闭所有").attr("onclick", "closeAllSticky();hideFeedbackMessages()");
          var drawAll = $("<button>").append("所有的绘制").attr("onclick", "twSrc_drawAllSticky(__sns);hideFeedbackMessages()");
          d.append(closeAll).append(drawAll);
          showFeedbackMessage("INFO", d.html(), "");
        } else {
          twSrc_drawAllSticky(sns)
        }
      }


      function twSrc_drawAllSticky(sns) {
        for (var i = 0; i < sns.length; i++) {
          twSrc_drawSticky(sns[i]);
        }
      }
      function twSrc_drawSticky(stickyId) {
        $.get(contextPath + "/applications/teamwork/sticky/partAjaxStickyNote.jsp", { CM: "DRW", sid: stickyId }, function (response) {
          $("#STKN_" + stickyId).remove();
          $("body").append(response);
        })
      }


      function closeAllSticky() {
        $.getJSON(contextPath + "/messaging/messageAjax", { CM: "REMOVEEALLSTK" }, function (response) {
          twSrc_drawAllSticky(__sns);//disegna i rimanenti
        });
      }
    </script>
  </div>


  <script>
    $(function () {
      if (false) {
        window.focus();
      }


      $("#_errorTemplates").loadTemplates().remove();
      var _messagesFromController = [];
      if (_messagesFromController.length > 0) {
        for (var i = 0; i < _messagesFromController.length; i++) {
          showFeedbackMessage(_messagesFromController[i]);
        }
      }


      if (0)
        $("#null").focus();


      showUpgradeMessage();


      // EX liveQuery:  si inizializzano i fields
      $("body").initFields()
    });


    function showUpgradeMessage() {
      var levpg = $(".lreqPage:first");
      if (levpg.size() > 0) {

        var lv = 30;
        var reqLev = levpg.hasClass("lreq30") ? 30 : levpg.hasClass("lreq20") ? 20 : levpg.hasClass("lreq10") ? 10 : 0;
        if (lv > 0 && reqLev > lv) {
          var str = reqLev == 0 ? "FULL" : reqLev == 5 ? "FREE" : reqLev == 10 ? "BASIC" : reqLev == 20 ? "ADVANCED" : reqLev == 30 ? "ENTERPRISE" : "TRIAL";

          var wrp = $("<div>").addClass("modalPopup upgradeMessage").css("background", "none");
          var inn = $("<div>").addClass("bwinPopupd").css({ "max-width": "360px", "min-height": "200px", top: "20%" }).click(function () {
            location.href = contextPath + "/applications/teamwork/buyTwprojectLicense.jsp?rqlv=" + reqLev;
          });
          inn.append($("<h2>").html('Do you need more?'));
          inn.append($("<p>").html('Your current plan does not include this feature. Upgrade your Twproject to "%%" plan in order to access it.'.replace("%%", str)));
          //inn.append("<br><br>");
          inn.append($("<p align='center'>").append($("<span>").addClass("button first").html('Twproject shop')));
          wrp.append(inn)
          levpg.after(wrp)
        }
      }
    }



  </script>


  <div id="mbDiscloseCont_mbCarousel" style="position: absolute; top: -5000px; left: -5000px;">
    <div class="mbDiscloseWrapper">
      <div id="projectsdone" class="banner done" style="height: 280px; box-sizing: border-box; overflow: hidden;">
        <div class="task-number"><a class="button  textual   " id="domId_245369338" style=""
            href="/app/task/taskList?V_ID=2144633829&amp;CM=FN&amp;FLNM=PF_MY_OPEN_TASK">13</a>

        </div>
        <img src="/img/step-1b.png" class="step-img">

        <h2>You created your first project, great!</h2>

        <div class="bannerText">
          <p>Check your project progress or feel free to explore a little bit around.</p>
        </div>
      </div>
    </div>
    <div class="mbDiscloseWrapper">
      <div id="resource" class="banner done" style="height: 280px; box-sizing: border-box; overflow: hidden;">
        <img src="/img/step-2.png" class="step-img">

        <h2>Involve your team</h2>

        <div class="bannerText">
          <p>Create your collegues and start collaborating. You can even add your clients.</p>
        </div>
        <a class="button     light" id="domId_1495232755" style=""
          href="/app/resource/resourceEditor.html?V_ID=755726972&amp;CM=AD&amp;RESOURCE_TYPE=com.twproject.resource.Person">Create
          colleague</a>


      </div>
    </div>
    <div class="mbDiscloseWrapper">
      <div id="aboutYou" class="banner " style="height: 280px; box-sizing: border-box; overflow: hidden;">
        <img src="/img/step-3.png" class="step-img">

        <h2>Let's talk about you</h2>

        <div class="bannerText">
          <p>Upload your photo, update your info, set location and language.</p>
        </div>
        <a class="button     light" id="domId_1284930046" style=""
          href="/app/resource/resourceOptions.html?V_ID=364077622&amp;CM=EDIT_OPT&amp;OBJID=12771">Update
          info</a>


      </div>
    </div>
    <div class="mbDiscloseWrapper">
      <div id="issues" class="banner done" style="height: 280px; box-sizing: border-box; overflow: hidden;">
        <img src="/img/step-4.png" class="step-img">

        <h2>Manage your every day activities</h2>

        <div class="bannerText">
          <p>Define your task's activities, to-dos, ideas, issues and assign them to your team.</p>
        </div>
        <a class="button     light" id="domId_871682651" style=""
          href="/app/task/taskIssueList.html?V_ID=827001219&amp;OBJID=45748">Manage activities</a>


      </div>
    </div>
    <div class="mbDiscloseWrapper">
      <div id="home" class="banner done" style="height: 280px; box-sizing: border-box; overflow: hidden;">
        <img src="/img/step-5.png" class="step-img">

        <h2>Make it feel like home</h2>

        <div class="bannerText">
          <p>Customize your homepage and you are ready to go.
            If you need a hand just visit our support site.</p>
        </div>
        <button type="button" class="button noprint    light" id="domId_895324349" style=""
          onclick="customizeThisPage($(this));return false; ">Customize page</button>


      </div>
    </div>
  </div>

  <div id="insertStatusNotes" class="notesEditor">
    <label for="HIS_NOTES" class=" ">新增评论</label><br><textarea name="HIS_NOTES" id="HIS_NOTES" cols="50" rows="5"
      class="formElements" style="height:125px;width:100%" oldvalue="1" maxlength="2000" onkeyup="limitSize(this);"
      onkeydown="limitSize(this);" onblur="limitSize(this);"></textarea><button type="button"
      class="button noprint    button noprint first small" id="domId_2008381548" style=""
      onclick="saveStatusNotes($(this));return false; ">保存</button>


    <span class="teamworkIcon issueNotesClose" title="hide" onclick="$(this).closest('.notesEditor').fadeOut();"
      style="cursor: pointer">x</span>

  </div>



  <div id="insertComment" style="display:none" class="notesEditor">
    <textarea name="HIS_COMMENT" id="HIS_COMMENT" cols="50" rows="2" class="formElements autosize" placeholder="新增评论"
      oldvalue="1" maxheight="400" minheight="125" lineheight="15"></textarea>
    <div style="margin-top: 10px"><button type="button" class="button noprint    first" id="domId_108018208" style=""
        onclick="saveComment($(this));return false; ">保存</button>

    </div>
  </div>



  <script type="text/javascript">

    (function () {
      var cvd = { values: [{ "code": "11122", "color": "#3BBF67", "value": "open", "enabled": true, "textColor": "#FFFFFF", "index": 1 }, { "code": "11123", "color": "#6EBEF4", "value": "closed", "enabled": true, "textColor": "#000000", "index": 2 }, { "code": "11124", "color": "#763A96", "value": "aborted", "enabled": true, "textColor": "#FFFFFF", "index": 3 }] };


      var callback = function (hidden, data) {
        myIssChangeStatus(hidden);
      };
      cvd.callback = callback;

      _colorValueData["WP_MYISS_STS"] = cvd;

    })();
  </script>


  <style type="text/css">
    .issueRow[gravity="05_GRAVITY_BLOCK"] td.status {
      background-color: #DB2727;
      opacity: .9;
    }



    .issueRow[gravity="04_GRAVITY_CRITICAL"] td.status {
      background-color: #8C6044;
      opacity: .9;
    }



    .issueRow[gravity="03_GRAVITY_HIGH"] td.status {
      background-color: #F9791C;
      opacity: .9;
    }



    .issueRow[gravity="02_GRAVITY_MEDIUM"] td.status {
      background-color: #F9C154;
      opacity: .9;
    }



    .issueRow[gravity="01_GRAVITY_LOW"] td.status {
      background-color: #EEEEEE;
      opacity: .9;
    }
  </style>







  <script type="text/javascript">

    function myIsslineDecorator(issRow, iss) {
      issRow.find(".linkEnabled").activateTeamworkLinks(true);
    }
    $.JST.loadDecorator("MYINSISSLINE", myIsslineDecorator);
    $.JST.loadDecorator("MYISSLINE", myIsslineDecorator);


    function myIssChangeStatus(el) {
      var issueRow = el.closest("[issueId]");
      var issueId = issueRow.attr("issueId");
      if (el.isValueChanged()) {
        showSavingMessage();

        var request = { CM: "CHISSSTS", OBJID: issueId };
        request[el.prop("name")] = el.val();

        $.getJSON(contextPath + "/issue/issueAjaxControllerJson", request, function (response) {
          jsonResponseHandling(response);
          if (response.ok) {
            el.updateOldValue();
            // eventually shows wl insertion
            if (response.assId) {
              var issueText = "已关闭问题:" + (issueRow.find("div.issueDesc").text());
              openWorklogEditorPopup(issueRow, { assId: response.assId, text: issueText, issueId: response.issue.id, title: "问题: I#" + response.issue.id + "#" });
            } else {
              hideWorklogEditorIfYouCan();
            }
            //eventually show notes
            if (response.histId) {
              showNotes(response.histId);
            } else {
              $("#insertStatusNotes").fadeOut();
            }

            $("body").trigger("issueEvent", [{ type: "save", response: response }])
          }
          hideSavingMessage();
        });
      }
    }


    function showNotes(histId) {
      $("#floatWindow").append($("#insertStatusNotes"));
      $("#insertStatusNotes").attr("histId", histId).fadeIn();
    }


    function saveStatusNotes() {
      var theDiv = $("#insertStatusNotes");
      var histId = theDiv.attr("histId");
      showSavingMessage();
      var request = { CM: "SVHISTNOTES", histId: histId, notes: theDiv.find("textarea").val() };
      $.getJSON(contextPath + "/issue/issueAjaxControllerJson", request, function (response) {
        jsonResponseHandling(response);
        if (response.ok) {
          $("#insertStatusNotes").fadeOut();
          theDiv.find("textarea").updateOldValue();
        }
        hideSavingMessage();
      });
    }

    function btnShowWorklog(el) {
      var issueRow = el.closest("[issueId]");
      var issueText;
      openWorklogEditorPopup(el, { assId: issueRow.attr("assId"), issueId: issueRow.attr("issueId"), title: "问题: I#" + issueRow.attr("issueId") + "#" });
    }

    function showComments(el, add) {
      var row = el.closest("[issueId]");
      var issueId = row.attr("issueId");
      var commentsN = row.find("[commentSize]").html();
      var popupHeight = commentsN && commentsN > 0 ? function () { return $(window).height() * (Math.min(1, (parseFloat(commentsN) + 3) / 10)) } : 300;
      openBlackPopup(contextPath + "/applications/teamwork/issue/issueComments.jsp?issueId=" + issueId + (add ? "&CM=ADD" : "") + "&_=" + (new Date().getTime()), 500, popupHeight, function (response) {
        if (response && response.issue) {
          row.find("[commentSize]").html(response.issue.commentSize - 1)
        } else {
          row.find("[commentSize]").html()
        }
      });

    }

  </script>
</body>

</html>